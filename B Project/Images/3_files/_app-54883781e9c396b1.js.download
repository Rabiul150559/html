(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{53949:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13196);var i=function(){function e(){this.errorCount=0}return e.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)]+Math.round(1e3*Math.random())},e.prototype.countError=function(){this.errorCount<r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},e.prototype.reset=function(){this.errorCount=0},e}();t.default=i},20731:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(80064),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.makeGetRequest=function(e,t){return o.makeGetRequest(e,t)},t.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},t}(i(n(20377)).default);t.default=a},80064:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13196),i=n(98125).getLogger("DatafileManager");t.makeGetRequest=function(e,t){var n=new XMLHttpRequest,o=new Promise((function(o,a){n.open("GET",e,!0),function(e,t){Object.keys(e).forEach((function(n){var r=e[n];t.setRequestHeader(n,r)}))}(t,n),n.onreadystatechange=function(){if(4===n.readyState){if(0===n.status)return void a(new Error("Request error"));var e=function(e){var t=e.getAllResponseHeaders();if(null===t)return{};var n=t.split("\r\n"),r={};return n.forEach((function(e){var t=e.indexOf(": ");if(t>-1){var n=e.slice(0,t),i=e.slice(t+2);i.length>0&&(r[n]=i)}})),r}(n),t={statusCode:n.status,body:n.responseText,headers:e};o(t)}},n.timeout=r.REQUEST_TIMEOUT_MS,n.ontimeout=function(){i.error("Request timed out")},n.send()}));return{responsePromise:o,abort:function(){n.abort()}}}},13196:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_UPDATE_INTERVAL=3e5,t.MIN_UPDATE_INTERVAL=1e3,t.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json",t.DEFAULT_AUTHENTICATED_URL_TEMPLATE="https://config.optimizely.com/datafiles/auth/%s.json",t.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512],t.REQUEST_TIMEOUT_MS=6e4},10181:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.listeners={},this.listenerId=1}return e.prototype.on=function(e,t){var n=this;this.listeners[e]||(this.listeners[e]={});var r=String(this.listenerId);return this.listenerId++,this.listeners[e][r]=t,function(){n.listeners[e]&&delete n.listeners[e][r]}},e.prototype.emit=function(e,t){var n=this.listeners[e];n&&Object.keys(n).forEach((function(e){(0,n[e])(t)}))},e.prototype.removeAllListeners=function(){this.listeners={}},e}();t.default=n},20377:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(98125),a=n(27378),s=i(n(10181)),u=n(13196),c=i(n(53949)),l=o.getLogger("DatafileManager");function p(e){return e>=200&&e<400}var f={get:function(){return Promise.resolve("")},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve()}},d=function(){function e(e){var t=this,n=r(r({},this.getConfigDefaults()),e),i=n.datafile,o=n.autoUpdate,p=void 0!==o&&o,d=n.sdkKey,h=n.updateInterval,v=void 0===h?u.DEFAULT_UPDATE_INTERVAL:h,y=n.urlTemplate,g=void 0===y?u.DEFAULT_URL_TEMPLATE:y,m=n.cache,_=void 0===m?f:m;this.cache=_,this.cacheKey="opt-datafile-"+d,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise((function(e,n){t.readyPromiseResolver=e,t.readyPromiseRejecter=n})),i?(this.currentDatafile=i,d||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=a.sprintf(g,d),this.emitter=new s.default,this.autoUpdate=p,!function(e){return e>=u.MIN_UPDATE_INTERVAL}(v)?(l.warn("Invalid updateInterval %s, defaulting to %s",v,u.DEFAULT_UPDATE_INTERVAL),this.updateInterval=u.DEFAULT_UPDATE_INTERVAL):this.updateInterval=v,this.currentTimeout=null,this.currentRequest=null,this.backoffController=new c.default,this.syncOnCurrentRequestComplete=!1}return e.prototype.get=function(){return this.currentDatafile},e.prototype.start=function(){this.isStarted||(l.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},e.prototype.stop=function(){return l.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},e.prototype.onReady=function(){return this.readyPromise},e.prototype.on=function(e,t){return this.emitter.on(e,t)},e.prototype.onRequestRejected=function(e){this.isStarted&&(this.backoffController.countError(),e instanceof Error?l.error("Error fetching datafile: %s",e.message,e):"string"===typeof e?l.error("Error fetching datafile: %s",e):l.error("Error fetching datafile"))},e.prototype.onRequestResolved=function(e){if(this.isStarted){"undefined"!==typeof e.statusCode&&p(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var t=this.getNextDatafileFromResponse(e);if(""!==t)if(l.info("Updating datafile from response"),this.currentDatafile=t,this.cache.set(this.cacheKey,t),this.isReadyPromiseSettled){var n={datafile:t};this.emitter.emit("update",n)}else this.resolveReadyPromise()}},e.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.isReadyPromiseSettled||this.autoUpdate||this.rejectReadyPromise(new Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},e.prototype.syncDatafile=function(){var e=this,t={};this.lastResponseLastModified&&(t["if-modified-since"]=this.lastResponseLastModified),l.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,(function(){return JSON.stringify(t)})),this.currentRequest=this.makeGetRequest(this.datafileUrl,t);var n=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then((function(t){e.onRequestResolved(t)}),(function(t){e.onRequestRejected(t)})).then(n,n),this.autoUpdate&&this.scheduleNextUpdate()},e.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},e.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},e.prototype.scheduleNextUpdate=function(){var e=this,t=this.backoffController.getDelay(),n=Math.max(t,this.updateInterval);l.debug("Scheduling sync in %s ms",n),this.currentTimeout=setTimeout((function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()}),n)},e.prototype.getNextDatafileFromResponse=function(e){return l.debug("Response status code: %s",e.statusCode),"undefined"===typeof e.statusCode||304===e.statusCode?"":p(e.statusCode)?e.body:""},e.prototype.trySavingLastModified=function(e){var t=e["last-modified"]||e["Last-Modified"];"undefined"!==typeof t&&(this.lastResponseLastModified=t,l.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},e.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then((function(t){e.isStarted&&!e.isReadyPromiseSettled&&""!==t&&(l.debug("Using datafile from cache"),e.currentDatafile=t,e.resolveReadyPromise())}))},e}();t.default=d},62002:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20731);t.HttpPollingDatafileManager=r.default},67473:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},24909:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventNotification=t.getQueue=t.validateAndGetBatchSize=t.validateAndGetFlushInterval=t.DEFAULT_BATCH_SIZE=t.DEFAULT_FLUSH_INTERVAL=void 0;var r=n(31459),i=n(98125),o=n(27378);t.DEFAULT_FLUSH_INTERVAL=3e4,t.DEFAULT_BATCH_SIZE=10;var a=i.getLogger("EventProcessor");t.validateAndGetFlushInterval=function(e){return e<=0&&(a.warn("Invalid flushInterval "+e+", defaulting to "+t.DEFAULT_FLUSH_INTERVAL),e=t.DEFAULT_FLUSH_INTERVAL),e},t.validateAndGetBatchSize=function(e){return(e=Math.floor(e))<1&&(a.warn("Invalid batchSize "+e+", defaulting to "+t.DEFAULT_BATCH_SIZE),e=t.DEFAULT_BATCH_SIZE),e=Math.max(1,e)},t.getQueue=function(e,t,n,i){return e>1?new r.DefaultEventQueue({flushInterval:t,maxQueueSize:e,sink:n,batchComparator:i}):new r.SingleEventQueue({sink:n})},t.sendEventNotification=function(e,t){e&&e.sendNotifications(o.NOTIFICATION_TYPES.LOG_EVENT,t)}},31459:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventQueue=t.SingleEventQueue=void 0;var r=n(98125).getLogger("EventProcessor"),i=function(){function e(e){var t=e.timeout,n=e.callback;this.timeout=Math.max(t,0),this.callback=n}return e.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},e.prototype.refresh=function(){this.stop(),this.start()},e.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e}(),o=function(){function e(e){var t=e.sink;this.sink=t}return e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e.prototype.enqueue=function(e){this.sink([e])},e}();t.SingleEventQueue=o;var a=function(){function e(e){var t=e.flushInterval,n=e.maxQueueSize,r=e.sink,o=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(n,1),this.sink=r,this.batchComparator=o,this.timer=new i({callback:this.flush.bind(this),timeout:t}),this.started=!1}return e.prototype.start=function(){this.started=!0},e.prototype.stop=function(){this.started=!1;var e=this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},e.prototype.enqueue=function(e){if(this.started){var t=this.buffer[0];t&&!this.batchComparator(t,e)&&this.flush(),0===this.buffer.length&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()}else r.warn("Queue is stopped, not accepting event")},e.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},e}();t.DefaultEventQueue=a},51074:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areEventContextsEqual=void 0,t.areEventContextsEqual=function(e,t){var n=e.context,r=t.context;return n.accountId===r.accountId&&n.projectId===r.projectId&&n.clientName===r.clientName&&n.clientVersion===r.clientVersion&&n.revision===r.revision&&n.anonymizeIP===r.anonymizeIP&&n.botFiltering===r.botFiltering}},65001:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(51074),t),i(n(24909),t),i(n(67473),t),i(n(21310),t),i(n(36896),t),i(n(97168),t),i(n(18994),t)},21310:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},36896:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStoragePendingEventsDispatcher=t.PendingEventsDispatcher=void 0;var i=n(98125),o=n(36587),a=n(27378),s=i.getLogger("EventProcessor"),u=function(){function e(e){var t=e.eventDispatcher,n=e.store;this.dispatcher=t,this.store=n}return e.prototype.dispatchEvent=function(e,t){this.send({uuid:a.generateUUID(),timestamp:a.getTimestamp(),request:e},t)},e.prototype.sendPendingEvents=function(){var e=this,t=this.store.values();s.debug("Sending %s pending events from previous page",t.length),t.forEach((function(t){try{e.send(t,(function(){}))}catch(n){}}))},e.prototype.send=function(e,t){var n=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,(function(r){n.store.remove(e.uuid),t(r)}))},e}();t.PendingEventsDispatcher=u;var c=function(e){function t(t){var n=t.eventDispatcher;return e.call(this,{eventDispatcher:n,store:new o.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return r(t,e),t}(u);t.LocalStoragePendingEventsDispatcher=c},36587:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageStore=void 0;var r=n(27378),i=n(98125).getLogger("EventProcessor"),o=function(){function e(e){var t=e.key,n=e.maxValues,r=void 0===n?1e3:n;this.LS_KEY=t,this.maxValues=r}return e.prototype.get=function(e){return this.getMap()[e]||null},e.prototype.set=function(e,t){var n=this.getMap();n[e]=t,this.replace(n)},e.prototype.remove=function(e){var t=this.getMap();delete t[e],this.replace(t)},e.prototype.values=function(){return r.objectValues(this.getMap())},e.prototype.clear=function(){this.replace({})},e.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(t){i.error(t)}},e.prototype.clean=function(){var e=this.getMap(),t=Object.keys(e),n=t.length-this.maxValues;if(!(n<1)){var r=t.map((function(t){return{key:t,value:e[t]}}));r.sort((function(e,t){return e.value.timestamp-t.value.timestamp}));for(var i=0;i<n;i++)delete e[r[i].key];this.replace(e)}},e.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(t){i.error(t)}return{}},e}();t.LocalStorageStore=o},90522:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return e.prototype.trackRequest=function(e){var t=this;this.reqsInFlightCount++;var n=function(){t.reqsInFlightCount--,0===t.reqsInFlightCount&&(t.reqsCompleteResolvers.forEach((function(e){return e()})),t.reqsCompleteResolvers=[])};e.then(n,n)},e.prototype.onRequestsComplete=function(){var e=this;return new Promise((function(t){0===e.reqsInFlightCount?t():e.reqsCompleteResolvers.push(t)}))},e}();t.default=n},97168:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.formatEvents=t.buildConversionEventV1=t.buildImpressionEventV1=t.makeBatchedEventV1=void 0;var r="$opt_bot_filtering";function i(e){var t=[],n=e[0];return e.forEach((function(e){if("conversion"===e.type||"impression"===e.type){var n=s(e);"impression"===e.type?n.snapshots.push(a(e)):"conversion"===e.type&&n.snapshots.push(o(e)),t.push(n)}})),{client_name:n.context.clientName,client_version:n.context.clientVersion,account_id:n.context.accountId,project_id:n.context.projectId,revision:n.context.revision,anonymize_ip:n.context.anonymizeIP,enrich_decisions:!0,visitors:t}}function o(e){var t=n({},e.tags);delete t.revenue,delete t.value;var r={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(r.tags=e.tags),null!=e.value&&(r.value=e.value),null!=e.revenue&&(r.revenue=e.revenue),{events:[r]}}function a(e){var t,n,r=e.layer,i=e.experiment,o=e.variation,a=e.ruleKey,s=e.flagKey,u=e.ruleType,c=e.enabled,l=r?r.id:null;return{decisions:[{campaign_id:l,experiment_id:null!==(t=null===i||void 0===i?void 0:i.id)&&void 0!==t?t:"",variation_id:null!==(n=null===o||void 0===o?void 0:o.id)&&void 0!==n?n:"",metadata:{flag_key:s,rule_key:a,rule_type:u,variation_key:o?o.key:"",enabled:c}}],events:[{entity_id:l,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}function s(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach((function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})})),"boolean"===typeof e.context.botFiltering&&t.attributes.push({entity_id:r,key:r,type:"custom",value:e.context.botFiltering}),t}t.makeBatchedEventV1=i,t.buildImpressionEventV1=function(e){var t=s(e);return t.snapshots.push(a(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.buildConversionEventV1=function(e){var t=s(e);return t.snapshots.push(o(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.formatEvents=function(e){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:i(e)}}},18994:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogTierV1EventProcessor=void 0;var a=n(98125),s=n(24909),u=o(n(90522)),c=n(51074),l=n(97168),p=a.getLogger("LogTierV1EventProcessor"),f=function(){function e(e){var t=e.dispatcher,n=e.flushInterval,r=void 0===n?s.DEFAULT_FLUSH_INTERVAL:n,i=e.batchSize,o=void 0===i?s.DEFAULT_BATCH_SIZE:i,a=e.notificationCenter;this.dispatcher=t,this.notificationCenter=a,this.requestTracker=new u.default,r=s.validateAndGetFlushInterval(r),o=s.validateAndGetBatchSize(o),this.queue=s.getQueue(o,r,this.drainQueue.bind(this),c.areEventContextsEqual)}return e.prototype.drainQueue=function(e){var t=this,n=new Promise((function(n){if(p.debug("draining queue with %s events",e.length),0!==e.length){var r=l.formatEvents(e);t.dispatcher.dispatchEvent(r,(function(){n()})),s.sendEventNotification(t.notificationCenter,r)}else n()}));return this.requestTracker.trackRequest(n),n},e.prototype.process=function(e){this.queue.enqueue(e)},e.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){p.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},e.prototype.start=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return this.queue.start(),[2]}))}))},e}();t.LogTierV1EventProcessor=f},27987:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.handleError=function(e){},e}();t.NoopErrorHandler=n;var r=new n;t.setErrorHandler=function(e){r=e},t.getErrorHandler=function(){return r},t.resetErrorHandler=function(){r=new n}},98125:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(27987)),r(n(99623)),r(n(46773))},46773:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(27987),o=n(27378),a=n(99623),s={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function u(e){return"string"!==typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),s[e]?s[e]:e)}var c=function(){function e(){this.defaultLoggerFacade=new d,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new d({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),l=function(){function e(e){void 0===e&&(e={}),this.logLevel=a.LogLevel.NOTSET,void 0!==e.logLevel&&o.isValidEnum(a.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var n=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[n])}},e.prototype.setLogLevel=function(e){e=u(e),o.isValidEnum(a.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=a.LogLevel.ERROR},e.prototype.getTime=function(){return(new Date).toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case a.LogLevel.DEBUG:return"DEBUG";case a.LogLevel.INFO:return"INFO ";case a.LogLevel.WARNING:return"WARN ";case a.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case a.LogLevel.DEBUG:console.log.apply(console,t);break;case a.LogLevel.INFO:console.info.apply(console,t);break;case a.LogLevel.WARNING:console.warn.apply(console,t);break;case a.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();t.ConsoleLogHandler=l;var p=a.LogLevel.NOTSET,f=null,d=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.internalLog(u(e),{message:t,splat:n})},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+o.sprintf.apply(void 0,r([e.message],e.splat))},e.prototype.internalLog=function(e,t){f&&(e<p||(f.log(e,this.format(t)),t.error&&t.error instanceof Error&&i.getErrorHandler().handleError(t.error)))},e.prototype.namedLog=function(e,t,n){var r;if(t instanceof Error)return t=(r=t).message,void this.internalLog(e,{error:r,message:t,splat:n});if(0!==n.length){var i=n[n.length-1];i instanceof Error&&(r=i,n.splice(-1)),this.internalLog(e,{message:t,error:r,splat:n})}else this.internalLog(e,{message:t,splat:n})},e}(),h=new c;t.getLogger=function(e){return h.getLogger(e)},t.setLogHandler=function(e){f=e},t.setLogLevel=function(e){e=u(e),p=o.isValidEnum(a.LogLevel,e)&&void 0!==e?e:a.LogLevel.ERROR},t.getLogLevel=function(){return p},t.resetLogger=function(){h=new c,p=a.LogLevel.NOTSET}},99623:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NOTSET=0]="NOTSET",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR"}(t.LogLevel||(t.LogLevel={}))},27378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55877);function i(e){return Object.keys(e).map((function(t){return e[t]}))}t.generateUUID=function(){return r.v4()},t.getTimestamp=function(){return(new Date).getTime()},t.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},t.groupBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)})),i(n)},t.objectValues=i,t.objectEntries=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))},t.find=function(e,t){for(var n,r=0,i=e;r<i.length;r++){var o=i[r];if(t(o)){n=o;break}}return n},t.keyBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=e})),n},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,(function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)}))},function(e){e.ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",e.DECISION="DECISION:type, userId, attributes, decisionInfo",e.LOG_EVENT="LOG_EVENT:logEvent",e.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",e.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"}(t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={}))},19889:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(98125),o=n(65001),a=r(n(55877)),s=r(n(58053)),u=n(62002),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var p=Math.pow(2,53);function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,l([e],t));for(var r=Object(e),i=0;i<t.length;i++){var o=t[i];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r}function d(e,t){return e?g(e,(function(e){return e[t]})):{}}function h(e){return Object.keys(e).map((function(t){return e[t]}))}function v(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function y(e,t){for(var n,r=0,i=e;r<i.length;r++){var o=i[r];if(t(o)){n=o;break}}return n}function g(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=e})),n}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,(function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)}))}var _,E={assign:f,currentTimestamp:function(){return Math.round((new Date).getTime())},isSafeInteger:function(e){return"number"==typeof e&&Math.abs(e)<=p},keyBy:d,uuid:function(){return a()},isNumber:function(e){return"number"==typeof e},getTimestamp:function(){return(new Date).getTime()},isValidEnum:function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},groupBy:function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)})),h(n)},objectValues:h,objectEntries:v,find:y,keyByUtil:g,sprintf:m},T={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},b={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},I={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},O={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent",FORCED_DECISION_NULL_RULE_KEY:"$opt_null_rule_key"},S={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},N={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},w={RULE:"rule",EXPERIMENT:"experiment"},R={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},A={V2:"2",V3:"3",V4:"4"},D={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'};!function(e){e.ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",e.DECISION="DECISION:type, userId, attributes, decisionInfo",e.LOG_EVENT="LOG_EVENT:logEvent",e.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",e.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"}(_||(_={}));var k=Object.freeze({__proto__:null,LOG_LEVEL:T,ERROR_MESSAGES:b,LOG_MESSAGES:I,CONTROL_ATTRIBUTES:O,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",NODE_CLIENT_VERSION:"4.9.2",DECISION_NOTIFICATION_TYPES:S,DECISION_SOURCES:N,AUDIENCE_EVALUATION_TYPES:w,FEATURE_VARIABLE_TYPES:R,DATAFILE_VERSIONS:A,DECISION_MESSAGES:D,get NOTIFICATION_TYPES(){return _}}),C="CONFIG_VALIDATOR",U=[A.V2,A.V3,A.V4],x={handleError:function(){}},L={dispatchEvent:function(e,t){var n,r=e.params,i=e.url;"POST"===e.httpVerb?((n=new XMLHttpRequest).open("POST",i,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send(JSON.stringify(r))):(i+="?wxhr=true",r&&(i+="&"+function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}(r)),(n=new XMLHttpRequest).open("GET",i,!0),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send())}},P=function(){function e(){}return e.prototype.log=function(){},e}();function M(e){return new i.ConsoleLogHandler(e)}var F,j,V=Object.freeze({__proto__:null,NoOpLogger:P,createLogger:M,createNoOpLogger:function(){return new P}});function B(e,t,n){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:n}}!function(e){e.BOOLEAN="boolean",e.DOUBLE="double",e.INTEGER="integer",e.STRING="string",e.JSON="json"}(F||(F={})),(j=t.OptimizelyDecideOption||(t.OptimizelyDecideOption={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",j.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",j.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",j.INCLUDE_REASONS="INCLUDE_REASONS",j.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var $=function(){function e(e){var t,n=e.optimizely,r=e.userId,i=e.attributes;this.optimizely=n,this.userId=r,this.attributes=null!==(t=c({},i))&&void 0!==t?t:{},this.forcedDecisionsMap={}}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return c({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.setForcedDecision=function(e,t){var n,r=e.flagKey,i=null!==(n=e.ruleKey)&&void 0!==n?n:O.FORCED_DECISION_NULL_RULE_KEY,o={variationKey:t.variationKey};return this.forcedDecisionsMap[r]||(this.forcedDecisionsMap[r]={}),this.forcedDecisionsMap[r][i]=o,!0},e.prototype.getForcedDecision=function(e){return this.findForcedDecision(e)},e.prototype.removeForcedDecision=function(e){var t,n=null!==(t=e.ruleKey)&&void 0!==t?t:O.FORCED_DECISION_NULL_RULE_KEY,r=e.flagKey,i=!1;return this.forcedDecisionsMap.hasOwnProperty(r)&&(this.forcedDecisionsMap[r].hasOwnProperty(n)&&(delete this.forcedDecisionsMap[r][n],i=!0),0===Object.keys(this.forcedDecisionsMap[r]).length&&delete this.forcedDecisionsMap[r]),i},e.prototype.removeAllForcedDecisions=function(){return this.forcedDecisionsMap={},!0},e.prototype.findForcedDecision=function(e){var t,n=null!==(t=e.ruleKey)&&void 0!==t?t:O.FORCED_DECISION_NULL_RULE_KEY,r=e.flagKey;if(this.forcedDecisionsMap.hasOwnProperty(e.flagKey)){var i=this.forcedDecisionsMap[r];if(i.hasOwnProperty(n))return{variationKey:i[n].variationKey}}return null},e.prototype.cloneUserContext=function(){var t=new e({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()});return Object.keys(this.forcedDecisionsMap).length>0&&(t.forcedDecisionsMap=c({},this.forcedDecisionsMap)),t},e}(),G=["and","or","not"];function q(e,t){if(Array.isArray(e)){var n=e[0],r=e.slice(1);switch("string"==typeof n&&-1===G.indexOf(n)&&(n="or",r=e),n){case"and":return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var i=q(e[r],t);if(!1===i)return!1;null===i&&(n=!0)}return!n||null}return null}(r,t);case"not":return function(e,t){if(Array.isArray(e)&&e.length>0){var n=q(e[0],t);return null===n?null:!n}return null}(r,t);default:return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var i=q(e[r],t);if(!0===i)return!0;null===i&&(n=!0)}return!!n&&null}return null}(r,t)}}return t(e)}var Y=function(){function e(t,n){var r,i;this.sdkKey=null!==(r=t.sdkKey)&&void 0!==r?r:"",this.environmentKey=null!==(i=t.environmentKey)&&void 0!==i?i:"",this.attributes=t.attributes,this.audiences=e.getAudiences(t),this.events=t.events,this.revision=t.revision;var o=(t.featureFlags||[]).reduce((function(e,t){return e[t.id]=t.variables,e}),{}),a=e.getExperimentsMapById(t,o);this.experimentsMap=e.getExperimentsKeyMap(a),this.featuresMap=e.getFeaturesMap(t,o,a),this.datafile=n}return e.prototype.getDatafile=function(){return this.datafile},e.getAudiences=function(e){var t=[],n=[];return(e.typedAudiences||[]).forEach((function(e){t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name}),n.push(e.id)})),(e.audiences||[]).forEach((function(e){-1===n.indexOf(e.id)&&"$opt_dummy_audience"!=e.id&&t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name})})),t},e.getSerializedAudiences=function(t,n){var r="";if(t){var i="";t.forEach((function(t){var o="";if(t instanceof Array)o="("+(o=e.getSerializedAudiences(t,n))+")";else if(G.indexOf(t)>-1)i=t.toUpperCase();else{var a=n[t]?n[t].name:t;r||"NOT"===i?(i=""===i?"OR":i,r=""===r?i+' "'+n[t].name+'"':r.concat(" "+i+' "'+a+'"')):r='"'+a+'"'}""!==o&&(""!==r||"NOT"===i?(i=""===i?"OR":i,r=""===r?i+" "+o:r.concat(" "+i+" "+o)):r=r.concat(o))}))}return r},e.getExperimentAudiences=function(t,n){return t.audienceConditions?e.getSerializedAudiences(t.audienceConditions,n.audiencesById):""},e.mergeFeatureVariables=function(e,t,n,r,i){var o=(e[n]||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{});return(r||[]).forEach((function(e){var n=t[e.id],r={id:e.id,key:n.key,type:n.type,value:i?e.value:n.defaultValue};o[n.key]=r})),o},e.getVariationsMap=function(t,n,r,i){return t.reduce((function(t,o){var a=e.mergeFeatureVariables(n,r,i,o.variables,o.featureEnabled);return t[o.key]={id:o.id,key:o.key,featureEnabled:o.featureEnabled,variablesMap:a},t}),{})},e.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce((function(e,t){return t.variables.forEach((function(t){e[t.id]=t})),e}),{})},e.getDeliveryRules=function(t,n,r,i){var o=e.getVariableIdMap(t);return i.map((function(i){return{id:i.id,key:i.key,audiences:e.getExperimentAudiences(i,t),variationsMap:e.getVariationsMap(i.variations,n,o,r)}}))},e.getRolloutExperimentIds=function(e){var t=[];return(e||[]).forEach((function(e){e.experiments.forEach((function(e){t.push(e.id)}))})),t},e.getExperimentsMapById=function(t,n){var r=e.getVariableIdMap(t),i=this.getRolloutExperimentIds(t.rollouts);return(t.experiments||[]).reduce((function(o,a){if(-1===i.indexOf(a.id)){var s=t.experimentFeatureMap[a.id],u="";s&&s.length>0&&(u=s[0]);var c=e.getVariationsMap(a.variations,n,r,u.toString());o[a.id]={id:a.id,key:a.key,audiences:e.getExperimentAudiences(a,t),variationsMap:c}}return o}),{})},e.getExperimentsKeyMap=function(e){var t={};for(var n in e){var r=e[n];t[r.key]=r}return t},e.getFeaturesMap=function(t,n,r){var i={};return t.featureFlags.forEach((function(o){var a={},s=[];o.experimentIds.forEach((function(e){var t=r[e];t&&(a[t.key]=t),s.push(r[e])}));var u=(o.variables||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{}),c=[],l=t.rolloutIdMap[o.rolloutId];l&&(c=e.getDeliveryRules(t,n,o.id,l.experiments)),i[o.key]={id:o.id,key:o.key,experimentRules:s,deliveryRules:c,experimentsMap:a,variablesMap:u}})),i},e}(),H="PROJECT_CONFIG",K=function(e,t){void 0===t&&(t=null);var n,r,i,o,a=((o=f({},n=e)).audiences=(n.audiences||[]).map((function(e){return f({},e)})),o.experiments=(n.experiments||[]).map((function(e){return f({},e)})),o.featureFlags=(n.featureFlags||[]).map((function(e){return f({},e)})),o.groups=(n.groups||[]).map((function(e){var t=f({},e);return t.experiments=(e.experiments||[]).map((function(e){return f({},e)})),t})),o.rollouts=(n.rollouts||[]).map((function(e){var t=f({},e);return t.experiments=(e.experiments||[]).map((function(e){return f({},e)})),t})),o.environmentKey=null!==(r=n.environmentKey)&&void 0!==r?r:"",o.sdkKey=null!==(i=n.sdkKey)&&void 0!==i?i:"",o);return a.__datafileStr=null===t?JSON.stringify(e):t,(a.audiences||[]).forEach((function(e){e.conditions=JSON.parse(e.conditions)})),a.audiencesById=d(a.audiences,"id"),f(a.audiencesById,d(a.typedAudiences,"id")),a.attributeKeyMap=d(a.attributes,"key"),a.eventKeyMap=d(a.events,"key"),a.groupIdMap=d(a.groups,"id"),Object.keys(a.groupIdMap||{}).forEach((function(e){(a.groupIdMap[e].experiments||[]).forEach((function(t){a.experiments.push(f(t,{groupId:e}))}))})),a.rolloutIdMap=d(a.rollouts||[],"id"),h(a.rolloutIdMap||{}).forEach((function(e){(e.experiments||[]).forEach((function(e){a.experiments.push(e),e.variationKeyMap=d(e.variations,"key")}))})),a.experimentKeyMap=d(a.experiments,"key"),a.experimentIdMap=d(a.experiments,"id"),a.variationIdMap={},a.variationVariableUsageMap={},(a.experiments||[]).forEach((function(e){e.variationKeyMap=d(e.variations,"key"),f(a.variationIdMap,d(e.variations,"id")),h(e.variationKeyMap||{}).forEach((function(e){e.variables&&(a.variationVariableUsageMap[e.id]=d(e.variables,"id"))}))})),a.experimentFeatureMap={},a.featureKeyMap=d(a.featureFlags||[],"key"),h(a.featureKeyMap||{}).forEach((function(e){e.variables.forEach((function(e){e.type===R.STRING&&e.subType===R.JSON&&(e.type=R.JSON,delete e.subType)})),e.variableKeyMap=d(e.variables,"key"),(e.experimentIds||[]).forEach((function(t){a.experimentFeatureMap[t]?a.experimentFeatureMap[t].push(e.id):a.experimentFeatureMap[t]=[e.id]}))})),a.flagRulesMap={},(a.featureFlags||[]).forEach((function(e){var t=[];e.experimentIds.forEach((function(e){var n=a.experimentIdMap[e];n&&t.push(n)}));var n=a.rolloutIdMap[e.rolloutId];n&&t.push.apply(t,n.experiments),a.flagRulesMap[e.key]=t})),a.flagVariationsMap={},v(a.flagRulesMap||{}).forEach((function(e){var t=e[0],n=e[1],r=[];n.forEach((function(e){e.variations.forEach((function(e){y(r,(function(t){return t.id===e.id}))||r.push(e)}))})),a.flagVariationsMap[t]=r})),a},z=function(e,t){var n=e.experimentIdMap[t];if(!n)throw new Error(m(b.INVALID_EXPERIMENT_ID,H,t));return n.layerId},W=function(e,t,n){var r=e.attributeKeyMap[t],i=0===t.indexOf("$opt_");return r?(i&&n.log(T.WARNING,"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_"),r.id):i?t:(n.log(T.DEBUG,b.UNRECOGNIZED_ATTRIBUTE,H,t),null)},J=function(e,t){var n=e.eventKeyMap[t];return n?n.id:null},X=function(e,t){var n=e.experimentKeyMap[t];if(!n)throw new Error(m(b.INVALID_EXPERIMENT_KEY,H,t));return n.status},Z=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},Q=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var n=e.experimentKeyMap[t];if(n)return n}throw new Error(m(b.EXPERIMENT_KEY_NOT_IN_DATAFILE,H,t))},ee=function(e,t){var n=e.experimentIdMap[t];if(!n)throw new Error(m(b.INVALID_EXPERIMENT_ID,H,t));return n.trafficAllocation},te=function(e,t,n){if(e.experimentIdMap.hasOwnProperty(t)){var r=e.experimentIdMap[t];if(r)return r}return n.log(T.ERROR,b.INVALID_EXPERIMENT_ID,H,t),null},ne=function(e,t,n){if(!e)return null;var r=y(e.flagVariationsMap[t],(function(e){return e.key===n}));return r||null},re=function(e,t,n){if(e.featureKeyMap.hasOwnProperty(t)){var r=e.featureKeyMap[t];if(r)return r}return n.log(T.ERROR,b.FEATURE_NOT_IN_DATAFILE,H,t),null},ie=function(e){return e.__datafileStr},oe=function(e){var t;try{t=function(e){if(!e)throw new Error(m(b.NO_DATAFILE_SPECIFIED,C));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw new Error(m(b.INVALID_DATAFILE_MALFORMED,C))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===U.indexOf(e.version))throw new Error(m(b.INVALID_DATAFILE_VERSION,C,e.version));return e}(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(T.INFO,I.VALID_DATAFILE,H)}catch(e){return{configObj:null,error:e}}else e.logger.log(T.INFO,I.SKIPPING_JSON_VALIDATION,H);var n=[t];return"string"==typeof e.datafile&&n.push(e.datafile),{configObj:K.apply(void 0,n),error:null}},ae=function(e){return!!e.sendFlagDecisions},se=i.getLogger();function ue(e,t){return e instanceof Error?e.message:t||"Unknown error"}var ce=function(){function e(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var t=new Error(m(b.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:ue(t)}),void se.error(t)}var n=null;e.datafile&&(n=this.handleNewDatafile(e.datafile)),e.sdkKey&&e.datafileManager?(this.datafileManager=e.datafileManager,this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))):this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:ue(n,"Invalid datafile")})}catch(e){se.error(e),this.readyPromise=Promise.resolve({success:!1,reason:ue(e,"Error in initialize")})}}return e.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:ue(e)}:{success:!0}}return{success:!1,reason:ue(null,"Datafile manager is not provided")}},e.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:ue(e,"Failed to become ready")}},e.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},e.prototype.handleNewDatafile=function(e){var t=oe({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:se}),n=t.configObj,r=t.error;if(r)se.error(r);else{var i=this.configObj?this.configObj.revision:"null";n&&i!==n.revision&&(this.configObj=n,this.optimizelyConfigObj=null,this.updateListeners.forEach((function(e){return e(n)})))}return r},e.prototype.getConfig=function(){return this.configObj},e.prototype.getOptimizelyConfig=function(){var e,t;return!this.optimizelyConfigObj&&this.configObj&&(this.optimizelyConfigObj=(e=this.configObj,t=ie(this.configObj),new Y(e,t))),this.optimizelyConfigObj},e.prototype.onReady=function(){return this.readyPromise},e.prototype.onUpdate=function(e){var t=this;return this.updateListeners.push(e),function(){var n=t.updateListeners.indexOf(e);n>-1&&t.updateListeners.splice(n,1)}},e.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},e}(),le=Math.pow(2,32),pe=function(e){var t=[],n=e.experimentIdMap[e.experimentId].groupId;if(n){var r=e.groupIdMap[n];if(!r)throw new Error(m(b.INVALID_GROUP_ID,"BUCKETER",n));if("random"===r.policy){var i=fe(r,e.bucketingId,e.userId,e.logger);if(null===i)return e.logger.log(T.INFO,I.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n),t.push([I.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n]),{result:null,reasons:t};if(i!==e.experimentId)return e.logger.log(T.INFO,I.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n),t.push([I.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n]),{result:null,reasons:t};e.logger.log(T.INFO,I.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n),t.push([I.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n])}}var o=""+e.bucketingId+e.experimentId,a=he(o);e.logger.log(T.DEBUG,I.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",a,e.userId),t.push([I.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",a,e.userId]);var s=de(a,e.trafficAllocationConfig);return null===s||e.variationIdMap[s]?{result:s,reasons:t}:(s&&(e.logger.log(T.WARNING,I.INVALID_VARIATION_ID,"BUCKETER"),t.push([I.INVALID_VARIATION_ID,"BUCKETER"])),{result:null,reasons:t})},fe=function(e,t,n,r){var i=""+t+e.id,o=he(i);r.log(T.DEBUG,I.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,n);var a=e.trafficAllocation;return de(o,a)},de=function(e,t){for(var n=0;n<t.length;n++)if(e<t[n].endOfRange)return t[n].entityId;return null},he=function(e){try{var t=s.v3(e,1)/le;return Math.floor(1e4*t)}catch(t){throw new Error(m(b.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},ve=i.getLogger();function ye(e){return/^\d+$/.test(e)}function ge(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(t<0)&&(n<0||t<n)}function me(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(n<0)&&(t<0||n<t)}function _e(e){var t=e,n="";if(function(e){return/\s/.test(e)}(e))return ve.warn(I.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(ge(e)?(t=e.substring(0,e.indexOf("-")),n=e.substring(e.indexOf("-")+1)):me(e)&&(t=e.substring(0,e.indexOf("+")),n=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof n)return null;var r=t.split(".").length-1;if(r>2)return ve.warn(I.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var i=t.split(".");if(i.length!=r+1)return ve.warn(I.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var o=0,a=i;o<a.length;o++)if(!ye(a[o]))return ve.warn(I.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;return n&&i.push(n),i}var Ee="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",Te=i.getLogger(),be=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],Ie={};function Oe(e){return"string"==typeof e||"boolean"==typeof e||E.isNumber(e)}function Se(e,t){var n=e.value,r=typeof n,i=e.name,o=t[i],a=typeof o;return!Oe(n)||E.isNumber(n)&&!E.isSafeInteger(n)?(Te.warn(I.UNEXPECTED_CONDITION_VALUE,Ee,JSON.stringify(e)),null):null===o?(Te.debug(I.UNEXPECTED_TYPE_NULL,Ee,JSON.stringify(e),i),null):Oe(o)&&r===a?E.isNumber(o)&&!E.isSafeInteger(o)?(Te.warn(I.OUT_OF_BOUNDS,Ee,JSON.stringify(e),i),null):n===o:(Te.warn(I.UNEXPECTED_TYPE,Ee,JSON.stringify(e),a,i),null)}function Ne(e,t){var n=e.name,r=t[n],i=typeof r,o=e.value;return null!==o&&E.isSafeInteger(o)?null===r?(Te.debug(I.UNEXPECTED_TYPE_NULL,Ee,JSON.stringify(e),n),!1):E.isNumber(r)?!!E.isSafeInteger(r)||(Te.warn(I.OUT_OF_BOUNDS,Ee,JSON.stringify(e),n),!1):(Te.warn(I.UNEXPECTED_TYPE,Ee,JSON.stringify(e),i,n),!1):(Te.warn(I.UNEXPECTED_CONDITION_VALUE,Ee,JSON.stringify(e)),!1)}function we(e,t){var n=e.name,r=t[n],i=typeof r,o=e.value;return"string"!=typeof o?(Te.warn(I.UNEXPECTED_CONDITION_VALUE,Ee,JSON.stringify(e)),null):null===r?(Te.debug(I.UNEXPECTED_TYPE_NULL,Ee,JSON.stringify(e),n),null):"string"!=typeof r?(Te.warn(I.UNEXPECTED_TYPE,Ee,JSON.stringify(e),i,n),null):function(e,t){var n=_e(t),r=_e(e);if(!n||!r)return null;for(var i=n.length,o=0;o<r.length;o++){if(i<=o)return ge(e)||me(e)?1:-1;if(ye(n[o])){var a=parseInt(n[o]),s=parseInt(r[o]);if(a>s)return 1;if(a<s)return-1}else{if(n[o]<r[o])return ge(e)&&!ge(t)?1:-1;if(n[o]>r[o])return!ge(e)&&ge(t)?-1:1}}return ge(t)&&!ge(e)?-1:0}(o,r)}Ie.exact=Se,Ie.exists=function(e,t){return null!=t[e.name]},Ie.gt=function(e,t){var n=t[e.name],r=e.value;return Ne(e,t)&&null!==r?n>r:null},Ie.ge=function(e,t){var n=t[e.name],r=e.value;return Ne(e,t)&&null!==r?n>=r:null},Ie.lt=function(e,t){var n=t[e.name],r=e.value;return Ne(e,t)&&null!==r?n<r:null},Ie.le=function(e,t){var n=t[e.name],r=e.value;return Ne(e,t)&&null!==r?n<=r:null},Ie.substring=function(e,t){var n=e.name,r=t[e.name],i=typeof r,o=e.value;return"string"!=typeof o?(Te.warn(I.UNEXPECTED_CONDITION_VALUE,Ee,JSON.stringify(e)),null):null===r?(Te.debug(I.UNEXPECTED_TYPE_NULL,Ee,JSON.stringify(e),n),null):"string"!=typeof r?(Te.warn(I.UNEXPECTED_TYPE,Ee,JSON.stringify(e),i,n),null):-1!==r.indexOf(o)},Ie.semver_eq=function(e,t){var n=we(e,t);return null===n?null:0===n},Ie.semver_gt=function(e,t){var n=we(e,t);return null===n?null:n>0},Ie.semver_ge=function(e,t){var n=we(e,t);return null===n?null:n>=0},Ie.semver_lt=function(e,t){var n=we(e,t);return null===n?null:n<0},Ie.semver_le=function(e,t){var n=we(e,t);return null===n?null:n<=0};var Re=Object.freeze({__proto__:null,evaluate:function(e,t){var n=e.match;if(void 0!==n&&-1===be.indexOf(n))return Te.warn(I.UNKNOWN_MATCH_TYPE,Ee,JSON.stringify(e)),null;var r=e.name;return t.hasOwnProperty(r)||"exists"==n?(n&&Ie[n]||Se)(e,t):(Te.debug(I.MISSING_ATTRIBUTE_VALUE,Ee,JSON.stringify(e),r),null)}}),Ae=i.getLogger(),De=function(){function e(e){this.typeToEvaluatorMap=E.assign({},e,{custom_attribute:Re})}return e.prototype.evaluate=function(e,t,n){var r=this;return void 0===n&&(n={}),!e||0===e.length||!!q(e,(function(e){var i=t[e];if(i){Ae.log(T.DEBUG,I.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(i.conditions));var o=q(i.conditions,r.evaluateConditionWithUserAttributes.bind(r,n)),a=null===o?"UNKNOWN":o.toString().toUpperCase();return Ae.log(T.DEBUG,I.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,a),o}return null}))},e.prototype.evaluateConditionWithUserAttributes=function(e,t){var n=this.typeToEvaluatorMap[t.type];if(!n)return Ae.log(T.WARNING,I.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t)),null;try{return n.evaluate(t,e)}catch(e){Ae.log(T.ERROR,b.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message)}return null},e}();function ke(e){return"string"==typeof e&&""!==e}var Ce="DECISION_SERVICE",Ue=function(){function e(e){var t;this.audienceEvaluator=(t=e.UNSTABLE_conditionEvaluators,new De(t)),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return e.prototype.getVariation=function(e,n,r,i){void 0===i&&(i={});var o=r.getUserId(),a=r.getAttributes(),s=this.getBucketingId(o,a),u=[],c=n.key;if(!this.checkIfExperimentIsActive(e,c))return this.logger.log(T.INFO,I.EXPERIMENT_NOT_RUNNING,Ce,c),u.push([I.EXPERIMENT_NOT_RUNNING,Ce,c]),{result:null,reasons:u};var l=this.getForcedVariation(e,c,o);u.push.apply(u,l.reasons);var p=l.result;if(p)return{result:p,reasons:u};var f=this.getWhitelistedVariation(n,o);u.push.apply(u,f.reasons);var d=f.result;if(d)return{result:d.key,reasons:u};var h=i[t.OptimizelyDecideOption.IGNORE_USER_PROFILE_SERVICE],v=this.resolveExperimentBucketMap(o,a);if(!h&&(d=this.getStoredVariation(e,n,o,v)))return this.logger.log(T.INFO,I.RETURNING_STORED_VARIATION,Ce,d.key,c,o),u.push([I.RETURNING_STORED_VARIATION,Ce,d.key,c,o]),{result:d.key,reasons:u};var y=this.checkIfUserIsInAudience(e,n,w.EXPERIMENT,a,"");if(u.push.apply(u,y.reasons),!y.result)return this.logger.log(T.INFO,I.USER_NOT_IN_EXPERIMENT,Ce,o,c),u.push([I.USER_NOT_IN_EXPERIMENT,Ce,o,c]),{result:null,reasons:u};var g=this.buildBucketerParams(e,n,s,o),m=pe(g);u.push.apply(u,m.reasons);var _=m.result;return _&&(d=e.variationIdMap[_]),d?(this.logger.log(T.INFO,I.USER_HAS_VARIATION,Ce,o,d.key,c),u.push([I.USER_HAS_VARIATION,Ce,o,d.key,c]),h||this.saveUserProfile(n,d,o,v),{result:d.key,reasons:u}):(this.logger.log(T.DEBUG,I.USER_HAS_NO_VARIATION,Ce,o,c),u.push([I.USER_HAS_NO_VARIATION,Ce,o,c]),{result:null,reasons:u})},e.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var n=this.getUserProfile(e)||{},r=t[O.STICKY_BUCKETING_KEY];return E.assign({},n.experiment_bucket_map,r)},e.prototype.checkIfExperimentIsActive=function(e,t){return function(e,t){return"Running"===X(e,t)}(e,t)},e.prototype.getWhitelistedVariation=function(e,t){var n=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var r=e.forcedVariations[t];return e.variationKeyMap.hasOwnProperty(r)?(this.logger.log(T.INFO,I.USER_FORCED_IN_VARIATION,Ce,t,r),n.push([I.USER_FORCED_IN_VARIATION,Ce,t,r]),{result:e.variationKeyMap[r],reasons:n}):(this.logger.log(T.ERROR,I.FORCED_BUCKETING_FAILED,Ce,r,t),n.push([I.FORCED_BUCKETING_FAILED,Ce,r,t]),{result:null,reasons:n})}return{result:null,reasons:n}},e.prototype.checkIfUserIsInAudience=function(e,t,n,r,i){var o=[],a=function(e,t){var n=e.experimentIdMap[t];if(!n)throw new Error(m(b.INVALID_EXPERIMENT_ID,H,t));return n.audienceConditions||n.audienceIds}(e,t.id),s=e.audiencesById;this.logger.log(T.DEBUG,I.EVALUATING_AUDIENCES_COMBINED,Ce,n,i||t.key,JSON.stringify(a)),o.push([I.EVALUATING_AUDIENCES_COMBINED,Ce,n,i||t.key,JSON.stringify(a)]);var u=this.audienceEvaluator.evaluate(a,s,r);return this.logger.log(T.INFO,I.AUDIENCE_EVALUATION_RESULT_COMBINED,Ce,n,i||t.key,u.toString().toUpperCase()),o.push([I.AUDIENCE_EVALUATION_RESULT_COMBINED,Ce,n,i||t.key,u.toString().toUpperCase()]),{result:u,reasons:o}},e.prototype.buildBucketerParams=function(e,t,n,r){return{bucketingId:n,experimentId:t.id,experimentKey:t.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:ee(e,t.id),userId:r,variationIdMap:e.variationIdMap}},e.prototype.getStoredVariation=function(e,t,n,r){if(r.hasOwnProperty(t.id)){var i=r[t.id],o=i.variation_id;if(e.variationIdMap.hasOwnProperty(o))return e.variationIdMap[i.variation_id];this.logger.log(T.INFO,I.SAVED_VARIATION_NOT_FOUND,Ce,n,o,t.key)}return null},e.prototype.getUserProfile=function(e){var t={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return t;try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(T.ERROR,b.USER_PROFILE_LOOKUP_ERROR,Ce,e,t.message)}return null},e.prototype.saveUserProfile=function(e,t,n,r){if(this.userProfileService)try{r[e.id]={variation_id:t.id},this.userProfileService.save({user_id:n,experiment_bucket_map:r}),this.logger.log(T.INFO,I.SAVED_VARIATION,Ce,t.key,e.key,n)}catch(e){this.logger.log(T.ERROR,b.USER_PROFILE_SAVE_ERROR,Ce,n,e.message)}},e.prototype.getVariationForFeature=function(e,t,n,r){void 0===r&&(r={});var i=[],o=this.getVariationForFeatureExperiment(e,t,n,r);i.push.apply(i,o.reasons);var a=o.result;if(null!==a.variation)return{result:a,reasons:i};var s=this.getVariationForRollout(e,t,n);i.push.apply(i,s.reasons);var u=s.result,c=n.getUserId();return u.variation?(this.logger.log(T.DEBUG,I.USER_IN_ROLLOUT,Ce,c,t.key),i.push([I.USER_IN_ROLLOUT,Ce,c,t.key]),{result:u,reasons:i}):(this.logger.log(T.DEBUG,I.USER_NOT_IN_ROLLOUT,Ce,c,t.key),i.push([I.USER_NOT_IN_ROLLOUT,Ce,c,t.key]),{result:u,reasons:i})},e.prototype.getVariationForFeatureExperiment=function(e,t,n,r){void 0===r&&(r={});var i,o,a=[],s=null;if(t.experimentIds.length>0)for(o=0;o<t.experimentIds.length;o++){var u=te(e,t.experimentIds[o],this.logger);if(u&&(i=this.getVariationFromExperimentRule(e,t.key,u,n,r),a.push.apply(a,i.reasons),s=i.result)){var c=null;return(c=u.variationKeyMap[s])||(c=ne(e,t.key,s)),{result:{experiment:u,variation:c,decisionSource:N.FEATURE_TEST},reasons:a}}}else this.logger.log(T.DEBUG,I.FEATURE_HAS_NO_EXPERIMENTS,Ce,t.key),a.push([I.FEATURE_HAS_NO_EXPERIMENTS,Ce,t.key]);return{result:{experiment:null,variation:null,decisionSource:N.FEATURE_TEST},reasons:a}},e.prototype.getVariationForRollout=function(e,t,n){var r=[];if(!t.rolloutId)return this.logger.log(T.DEBUG,I.NO_ROLLOUT_EXISTS,Ce,t.key),r.push([I.NO_ROLLOUT_EXISTS,Ce,t.key]),{result:{experiment:null,variation:null,decisionSource:N.ROLLOUT},reasons:r};var i=e.rolloutIdMap[t.rolloutId];if(!i)return this.logger.log(T.ERROR,b.INVALID_ROLLOUT_ID,Ce,t.rolloutId,t.key),r.push([b.INVALID_ROLLOUT_ID,Ce,t.rolloutId,t.key]),{result:{experiment:null,variation:null,decisionSource:N.ROLLOUT},reasons:r};var o,a,s,u=i.experiments;if(0===u.length)return this.logger.log(T.ERROR,I.ROLLOUT_HAS_NO_EXPERIMENTS,Ce,t.rolloutId),r.push([I.ROLLOUT_HAS_NO_EXPERIMENTS,Ce,t.rolloutId]),{result:{experiment:null,variation:null,decisionSource:N.ROLLOUT},reasons:r};for(var c=0;c<u.length;){if(o=this.getVariationFromDeliveryRule(e,t.key,u,c,n),r.push.apply(r,o.reasons),s=o.result,a=o.skipToEveryoneElse,s)return{result:{experiment:e.experimentIdMap[u[c].id],variation:s,decisionSource:N.ROLLOUT},reasons:r};c=a?u.length-1:c+1}return{result:{experiment:null,variation:null,decisionSource:N.ROLLOUT},reasons:r}},e.prototype.getBucketingId=function(e,t){var n=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(O.BUCKETING_ID)&&("string"==typeof t[O.BUCKETING_ID]?(n=t[O.BUCKETING_ID],this.logger.log(T.DEBUG,I.VALID_BUCKETING_ID,Ce,n)):this.logger.log(T.WARNING,I.BUCKETING_ID_NOT_STRING,Ce)),n},e.prototype.findValidatedForcedDecision=function(e,t,n,r){var i,o=[],a=t.getForcedDecision({flagKey:n,ruleKey:r}),s=null,u=t.getUserId();return e&&a&&(i=a.variationKey,(s=ne(e,n,i))?r?(this.logger.log(T.INFO,I.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,n,r,u),o.push([I.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,n,r,u])):(this.logger.log(T.INFO,I.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,n,u),o.push([I.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,n,u])):r?(this.logger.log(T.INFO,I.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,n,r,u),o.push([I.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,n,r,u])):(this.logger.log(T.INFO,I.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,n,u),o.push([I.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,n,u]))),{result:s,reasons:o}},e.prototype.removeForcedVariation=function(e,t,n){if(!e)throw new Error(m(b.INVALID_USER_ID,Ce));if(!this.forcedVariationMap.hasOwnProperty(e))throw new Error(m(b.USER_NOT_IN_FORCED_VARIATION,Ce,e));delete this.forcedVariationMap[e][t],this.logger.log(T.DEBUG,I.VARIATION_REMOVED_FOR_USER,Ce,n,e)},e.prototype.setInForcedVariationMap=function(e,t,n){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=n,this.logger.log(T.DEBUG,I.USER_MAPPED_TO_FORCED_VARIATION,Ce,n,t,e)},e.prototype.getForcedVariation=function(e,t,n){var r,i=[],o=this.forcedVariationMap[n];if(!o)return this.logger.log(T.DEBUG,I.USER_HAS_NO_FORCED_VARIATION,Ce,n),{result:null,reasons:i};try{var a=Q(e,t);if(!a.hasOwnProperty("id"))return this.logger.log(T.ERROR,b.IMPROPERLY_FORMATTED_EXPERIMENT,Ce,t),i.push([b.IMPROPERLY_FORMATTED_EXPERIMENT,Ce,t]),{result:null,reasons:i};r=a.id}catch(e){return this.logger.log(T.ERROR,e.message),i.push(e.message),{result:null,reasons:i}}var s=o[r];if(!s)return this.logger.log(T.DEBUG,I.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,Ce,t,n),{result:null,reasons:i};var u=Z(e,s);return u?(this.logger.log(T.DEBUG,I.USER_HAS_FORCED_VARIATION,Ce,u,t,n),i.push([I.USER_HAS_FORCED_VARIATION,Ce,u,t,n])):this.logger.log(T.DEBUG,I.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,Ce,t,n),{result:u,reasons:i}},e.prototype.setForcedVariation=function(e,t,n,r){if(null!=r&&!ke(r))return this.logger.log(T.ERROR,b.INVALID_VARIATION_KEY,Ce),!1;var i;try{var o=Q(e,t);if(!o.hasOwnProperty("id"))return this.logger.log(T.ERROR,b.IMPROPERLY_FORMATTED_EXPERIMENT,Ce,t),!1;i=o.id}catch(e){return this.logger.log(T.ERROR,e.message),!1}if(null==r)try{return this.removeForcedVariation(n,i,t),!0}catch(e){return this.logger.log(T.ERROR,e.message),!1}var a=function(e,t,n){var r=e.experimentKeyMap[t];return r.variationKeyMap.hasOwnProperty(n)?r.variationKeyMap[n].id:null}(e,t,r);if(!a)return this.logger.log(T.ERROR,b.NO_VARIATION_FOR_EXPERIMENT_KEY,Ce,r,t),!1;try{return this.setInForcedVariationMap(n,i,a),!0}catch(e){return this.logger.log(T.ERROR,e.message),!1}},e.prototype.getVariationFromExperimentRule=function(e,t,n,r,i){void 0===i&&(i={});var o=[],a=this.findValidatedForcedDecision(e,r,t,n.key);o.push.apply(o,a.reasons);var s=a.result;if(s)return{result:s.key,reasons:o};var u=this.getVariation(e,n,r,i);return o.push.apply(o,u.reasons),{result:u.result,reasons:o}},e.prototype.getVariationFromDeliveryRule=function(e,t,n,r,i){var o=[],a=!1,s=n[r],u=this.findValidatedForcedDecision(e,i,t,s.key);o.push.apply(o,u.reasons);var c=u.result;if(c)return{result:c,reasons:o,skipToEveryoneElse:a};var l,p,f,d,h,v=i.getUserId(),y=i.getAttributes(),g=this.getBucketingId(v,y),m=r===n.length-1,_=m?"Everyone Else":r+1,E=null,b=this.checkIfUserIsInAudience(e,s,w.RULE,y,_);return o.push.apply(o,b.reasons),b.result?(this.logger.log(T.DEBUG,I.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,Ce,v,_),o.push([I.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,Ce,v,_]),p=this.buildBucketerParams(e,s,g,v),f=pe(p),o.push.apply(o,f.reasons),(l=f.result)&&(h=l,E=(d=e).variationIdMap.hasOwnProperty(h)?d.variationIdMap[h]:null),E?(this.logger.log(T.DEBUG,I.USER_BUCKETED_INTO_TARGETING_RULE,Ce,v,_),o.push([I.USER_BUCKETED_INTO_TARGETING_RULE,Ce,v,_])):m||(this.logger.log(T.DEBUG,I.USER_NOT_BUCKETED_INTO_TARGETING_RULE,Ce,v,_),o.push([I.USER_NOT_BUCKETED_INTO_TARGETING_RULE,Ce,v,_]),a=!0)):(this.logger.log(T.DEBUG,I.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,Ce,v,_),o.push([I.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,Ce,v,_])),{result:E,reasons:o,skipToEveryoneElse:a}},e}();function xe(e,t){if(e.hasOwnProperty("revenue")){var n=e.revenue,r=void 0;return"string"==typeof n?(r=parseInt(n),isNaN(r)?(t.log(T.INFO,I.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",n),null):(t.log(T.INFO,I.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r),r)):"number"==typeof n?(r=n,t.log(T.INFO,I.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r),r):null}return null}function Le(e,t){if(e.hasOwnProperty("value")){var n=e.value,r=void 0;return"string"==typeof n?(r=parseFloat(n),isNaN(r)?(t.log(T.INFO,I.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",n),null):(t.log(T.INFO,I.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r),r)):"number"==typeof n?(r=n,t.log(T.INFO,I.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r),r):null}return null}function Pe(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||E.isNumber(t)&&E.isSafeInteger(t))}var Me="https://logx.optimizely.com/v1/events";function Fe(e){var t=e.attributes,n=e.userId,r=e.clientEngine,i=e.clientVersion,o=e.configObj,a=e.logger,s=!!o.anonymizeIP&&o.anonymizeIP,u=o.botFiltering,c={snapshots:[],visitor_id:n,attributes:[]},l={account_id:o.accountId,project_id:o.projectId,visitors:[c],revision:o.revision,client_name:r,client_version:i,anonymize_ip:s,enrich_decisions:!0};return t&&Object.keys(t||{}).forEach((function(e){if(Pe(e,t[e])){var n=W(o,e,a);n&&l.visitors[0].attributes.push({entity_id:n,key:e,type:"custom",value:t[e]})}})),"boolean"==typeof u&&l.visitors[0].attributes.push({entity_id:O.BOT_FILTERING,key:O.BOT_FILTERING,type:"custom",value:u}),l}function je(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function Ve(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function Be(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.featureEnabled)&&void 0!==n&&n}function $e(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.id)&&void 0!==n?n:null}function Ge(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.id)&&void 0!==n?n:null}var qe=i.getLogger("EVENT_BUILDER");function Ye(e,t){var n=[];return t&&Object.keys(t||{}).forEach((function(r){if(Pe(r,t[r])){var i=W(e,r,qe);i&&n.push({entityId:i,key:r,value:t[r]})}})),n}var He="USER_PROFILE_SERVICE_VALIDATOR",Ke=function(){function e(e){var n,r=this,i=e.clientEngine;i||(e.logger.log(T.INFO,I.INVALID_CLIENT_ENGINE,"OPTIMIZELY",i),i="node-sdk"),this.clientEngine=i,this.clientVersion=e.clientVersion||"4.9.2",this.errorHandler=e.errorHandler,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var o=null!==(n=e.defaultDecideOptions)&&void 0!==n?n:[];Array.isArray(o)||(this.logger.log(T.DEBUG,I.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY"),o=[]);var a={};o.forEach((function(e){t.OptimizelyDecideOption[e]?a[e]=!0:r.logger.log(T.WARNING,I.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)})),this.defaultDecideOptions=a,this.projectConfigManager=function(e){return new ce(e)}({datafile:e.datafile,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey,datafileManager:e.datafileManager}),this.disposeOnUpdate=this.projectConfigManager.onUpdate((function(e){r.logger.log(T.INFO,I.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId),r.notificationCenter.sendNotifications(_.OPTIMIZELY_CONFIG_UPDATE)}));var s,u=this.projectConfigManager.onReady(),c=null;if(e.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw new Error(m(b.INVALID_USER_PROFILE_SERVICE,He,"Missing function 'lookup'"));if("function"!=typeof e.save)throw new Error(m(b.INVALID_USER_PROFILE_SERVICE,He,"Missing function 'save'"));return!0}throw new Error(m(b.INVALID_USER_PROFILE_SERVICE,He))})(e.userProfileService)&&(c=e.userProfileService,this.logger.log(T.INFO,I.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY"))}catch(e){this.logger.log(T.WARNING,e.message)}this.decisionService=(s={userProfileService:c,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators},new Ue(s)),this.notificationCenter=e.notificationCenter,this.eventProcessor=e.eventProcessor;var l=this.eventProcessor.start();this.readyPromise=Promise.all([u,l]).then((function(e){return e[0]})),this.readyTimeouts={},this.nextReadyTimeoutId=0}return e.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},e.prototype.activate=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","activate"),null;if(!this.validateInputs({experiment_key:e,user_id:t},n))return this.notActivatingExperiment(e,t);var r=this.projectConfigManager.getConfig();if(!r)return null;try{var i=this.getVariation(e,t,n);if(null===i)return this.notActivatingExperiment(e,t);if(!function(e,t){return"Running"===X(e,t)}(r,e))return this.logger.log(T.DEBUG,I.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e),i;var o=Q(r,e),a={experiment:o,variation:o.variationKeyMap[i],decisionSource:N.EXPERIMENT};return this.sendImpressionEvent(a,"",t,!0,n),i}catch(n){return this.logger.log(T.ERROR,n.message),this.logger.log(T.INFO,I.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),this.errorHandler.handleError(n),null}}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.sendImpressionEvent=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(o){var a=function(e){var t=e.configObj,n=e.decisionObj,r=e.userId,i=e.flagKey,o=e.enabled,a=e.userAttributes,s=e.clientEngine,u=e.clientVersion,c=n.decisionSource,l=je(n),p=$e(n),f=Ve(n),d=Ge(n),h=null!==p?z(t,p):null;return{type:"impression",timestamp:E.currentTimestamp(),uuid:E.uuid(),user:{id:r,attributes:Ye(t,a)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:s,clientVersion:u,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},layer:{id:h},experiment:{id:p,key:l},variation:{id:d,key:f},ruleKey:l,flagKey:i,ruleType:c,enabled:o}}({decisionObj:e,flagKey:t,enabled:r,userId:n,userAttributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o});this.eventProcessor.process(a),this.emitNotificationCenterActivate(e,t,n,r,i)}},e.prototype.emitNotificationCenterActivate=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(o){var a,s=e.decisionSource,u=je(e),c=$e(e),l=Ve(e),p=Ge(e);null!==c&&""!==l&&(a=o.experimentIdMap[c]);var f,d=function(e){var t,n,r,i,o,a,s,u,c=Fe(e),l=(t=e.configObj,n=e.experimentId,r=e.variationId,i=e.ruleKey,o=e.ruleType,a=e.flagKey,s=e.enabled,{decisions:[{campaign_id:u=n?z(t,n):null,experiment_id:n,variation_id:r,metadata:{flag_key:a,rule_key:i,rule_type:o,variation_key:(r?Z(t,r):null)||"",enabled:s}}],events:[{entity_id:u,timestamp:E.currentTimestamp(),key:"campaign_activated",uuid:E.uuid()}]});return c.visitors[0].snapshots.push(l),{httpVerb:"POST",url:Me,params:c}}({attributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o,experimentId:c,ruleKey:u,flagKey:t,ruleType:s,userId:n,enabled:r,variationId:p,logger:this.logger});a&&a.variationKeyMap&&""!==l&&(f=a.variationKeyMap[l]),this.notificationCenter.sendNotifications(_.ACTIVATE,{experiment:a,userId:n,attributes:i,variation:f,logEvent:d})}},e.prototype.track=function(e,t,n,r){try{if(!this.isValidInstance())return void this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","track");if(!this.validateInputs({user_id:t,event_key:e},n,r))return;var i=this.projectConfigManager.getConfig();if(!i)return;if(!function(e,t){return e.eventKeyMap.hasOwnProperty(t)}(i,e))return this.logger.log(T.WARNING,I.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e),void this.logger.log(T.WARNING,I.NOT_TRACKING_USER,"OPTIMIZELY",t);var o=function(e){var t=e.configObj,n=e.userId,r=e.userAttributes,i=e.clientEngine,o=e.clientVersion,a=e.eventKey,s=e.eventTags,u=J(t,a),c=s?xe(s,qe):null,l=s?Le(s,qe):null;return{type:"conversion",timestamp:E.currentTimestamp(),uuid:E.uuid(),user:{id:n,attributes:Ye(t,r)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:i,clientVersion:o,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},event:{id:u,key:a},revenue:c,value:l,tags:s}}({eventKey:e,eventTags:r=this.filterEmptyValues(r),userId:t,userAttributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i});this.logger.log(T.INFO,I.TRACK_EVENT,"OPTIMIZELY",e,t),this.eventProcessor.process(o),this.emitNotificationCenterTrack(e,t,n,r)}catch(e){this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),this.logger.log(T.ERROR,I.NOT_TRACKING_USER,"OPTIMIZELY",t)}},e.prototype.emitNotificationCenterTrack=function(e,t,n,r){try{var i=this.projectConfigManager.getConfig();if(!i)return;var o=function(e){var t=Fe(e),n=function(e,t,n,r){var i={events:[]},o={entity_id:J(e,t),timestamp:E.currentTimestamp(),uuid:E.uuid(),key:t};if(r){var a=xe(r,n);null!==a&&(o.revenue=a);var s=Le(r,n);null!==s&&(o.value=s),o.tags=r}return i.events.push(o),i}(e.configObj,e.eventKey,e.logger,e.eventTags);return t.visitors[0].snapshots=[n],{httpVerb:"POST",url:Me,params:t}}({attributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i,eventKey:e,eventTags:r,logger:this.logger,userId:t});this.notificationCenter.sendNotifications(_.TRACK,{eventKey:e,userId:t,attributes:n,eventTags:r,logEvent:o})}catch(e){this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.getVariation=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","getVariation"),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},n))return null;var r=this.projectConfigManager.getConfig();if(!r)return null;var i=r.experimentKeyMap[e];if(!i)return this.logger.log(T.DEBUG,b.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e),null;var o=this.decisionService.getVariation(r,i,this.createUserContext(t,n)).result,a=(s=r,u=i.id,s.experimentFeatureMap.hasOwnProperty(u)?S.FEATURE_TEST:S.AB_TEST);return this.notificationCenter.sendNotifications(_.DECISION,{type:a,userId:t,attributes:n||{},decisionInfo:{experimentKey:e,variationKey:o}}),o}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),null}var s,u},e.prototype.setForcedVariation=function(e,t,n){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;try{return this.decisionService.setForcedVariation(r,e,t,n)}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;try{return this.decisionService.getForcedVariation(n,e,t).result}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.validateInputs=function(e,t,n){try{if(e.hasOwnProperty("user_id")){var r=e.user_id;if("string"!=typeof r||null===r||"undefined"===r)throw new Error(m(b.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach((function(t){if(!ke(e[t]))throw new Error(m(b.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))})),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(m(b.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach((function(t){if(void 0===e[t])throw new Error(m(b.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))}))}(t),n&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(m(b.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(n),!0}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.notActivatingExperiment=function(e,t){return this.logger.log(T.INFO,I.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),null},e.prototype.filterEmptyValues=function(e){for(var t in e)!e.hasOwnProperty(t)||null!==e[t]&&void 0!==e[t]||delete e[t];return e},e.prototype.isFeatureEnabled=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled"),!1;if(!this.validateInputs({feature_key:e,user_id:t},n))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;var i=re(r,e,this.logger);if(!i)return!1;var o={},a=this.createUserContext(t,n),s=this.decisionService.getVariationForFeature(r,i,a).result,u=s.decisionSource,c=je(s),l=Ve(s),p=Be(s);u===N.FEATURE_TEST&&(o={experimentKey:c,variationKey:l}),(u===N.FEATURE_TEST||u===N.ROLLOUT&&ae(r))&&this.sendImpressionEvent(s,i.key,t,p,n),!0===p?this.logger.log(T.INFO,I.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t):(this.logger.log(T.INFO,I.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t),p=!1);var f={featureKey:e,featureEnabled:p,source:s.decisionSource,sourceInfo:o};return this.notificationCenter.sendNotifications(_.DECISION,{type:S.FEATURE,userId:t,attributes:n||{},decisionInfo:f}),p}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getEnabledFeatures=function(e,t){var n=this;try{var r=[];if(!this.isValidInstance())return this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures"),r;if(!this.validateInputs({user_id:e}))return r;var i=this.projectConfigManager.getConfig();return i?(h(i.featureKeyMap).forEach((function(i){n.isFeatureEnabled(i.key,e,t)&&r.push(i.key)})),r):r}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),[]}},e.prototype.getFeatureVariable=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,n,r):(this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable"),null)}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableForType=function(e,t,n,r,i){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:r},i))return null;var o=this.projectConfigManager.getConfig();if(!o)return null;var a=re(o,e,this.logger);if(!a)return null;var s=function(e,t,n,r){var i=e.featureKeyMap[t];return i?i.variableKeyMap[n]||(r.log(T.ERROR,b.VARIABLE_KEY_NOT_IN_DATAFILE,H,n,t),null):(r.log(T.ERROR,b.FEATURE_NOT_IN_DATAFILE,H,t),null)}(o,e,t,this.logger);if(!s)return null;if(n&&s.type!==n)return this.logger.log(T.WARNING,I.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",n,s.type),null;var u=this.createUserContext(r,i),c=this.decisionService.getVariationForFeature(o,a,u).result,l=Be(c),p=this.getFeatureVariableValueFromVariation(e,l,c.variation,s,r),f={};return c.decisionSource===N.FEATURE_TEST&&null!==c.experiment&&null!==c.variation&&(f={experimentKey:c.experiment.key,variationKey:c.variation.key}),this.notificationCenter.sendNotifications(_.DECISION,{type:S.FEATURE_VARIABLE,userId:r,attributes:i||{},decisionInfo:{featureKey:e,featureEnabled:l,source:c.decisionSource,variableKey:t,variableValue:p,variableType:s.type,sourceInfo:f}}),p},e.prototype.getFeatureVariableValueFromVariation=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(!o)return null;var a=r.defaultValue;if(null!==n){var s=function(e,t,n,r){if(!t||!n)return null;if(!e.variationVariableUsageMap.hasOwnProperty(n.id))return r.log(T.ERROR,b.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,H,n.id),null;var i=e.variationVariableUsageMap[n.id][t.id];return i?i.value:null}(o,r,n,this.logger);null!==s?t?(a=s,this.logger.log(T.INFO,I.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",a,r.key,e)):this.logger.log(T.INFO,I.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,i,a):this.logger.log(T.INFO,I.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",r.key,n.key)}else this.logger.log(T.INFO,I.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",i,r.key,e);return function(e,t,n){var r;switch(t){case R.BOOLEAN:"true"!==e&&"false"!==e?(n.log(T.ERROR,b.UNABLE_TO_CAST_VALUE,H,e,t),r=null):r="true"===e;break;case R.INTEGER:r=parseInt(e,10),isNaN(r)&&(n.log(T.ERROR,b.UNABLE_TO_CAST_VALUE,H,e,t),r=null);break;case R.DOUBLE:r=parseFloat(e),isNaN(r)&&(n.log(T.ERROR,b.UNABLE_TO_CAST_VALUE,H,e,t),r=null);break;case R.JSON:try{r=JSON.parse(e)}catch(i){n.log(T.ERROR,b.UNABLE_TO_CAST_VALUE,H,e,t),r=null}break;default:r=e}return r}(a,r.type,this.logger)},e.prototype.getFeatureVariableBoolean=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,R.BOOLEAN,n,r):(this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean"),null)}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableDouble=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,R.DOUBLE,n,r):(this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble"),null)}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableInteger=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,R.INTEGER,n,r):(this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger"),null)}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableString=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,R.STRING,n,r):(this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString"),null)}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableJSON=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,R.JSON,n,r):(this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON"),null)}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getAllFeatureVariables=function(e,t,n){var r=this;try{if(!this.isValidInstance())return this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables"),null;if(!this.validateInputs({feature_key:e,user_id:t},n))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var o=re(i,e,this.logger);if(!o)return null;var a=this.createUserContext(t,n),s=this.decisionService.getVariationForFeature(i,o,a).result,u=Be(s),c={};o.variables.forEach((function(n){c[n.key]=r.getFeatureVariableValueFromVariation(e,u,s.variation,n,t)}));var l={};return s.decisionSource===N.FEATURE_TEST&&null!==s.experiment&&null!==s.variation&&(l={experimentKey:s.experiment.key,variationKey:s.variation.key}),this.notificationCenter.sendNotifications(_.DECISION,{type:S.ALL_FEATURE_VARIABLES,userId:t,attributes:n||{},decisionInfo:{featureKey:e,featureEnabled:u,source:s.decisionSource,variableValues:c,sourceInfo:l}}),c}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.close=function(){var e=this;try{var t=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach((function(t){var n=e.readyTimeouts[t];clearTimeout(n.readyTimeout),n.onClose()})),this.readyTimeouts={},t.then((function(){return{success:!0}}),(function(e){return{success:!1,reason:String(e)}}))}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},e.prototype.onReady=function(e){var t,n,r=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),E.isSafeInteger(t)||(t=3e4);var i=new Promise((function(e){n=e})),o=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var a=setTimeout((function(){delete r.readyTimeouts[o],n({success:!1,reason:m("onReady timeout expired after %s ms",t)})}),t);return this.readyTimeouts[o]={readyTimeout:a,onClose:function(){n({success:!1,reason:"Instance closed"})}},this.readyPromise.then((function(){clearTimeout(a),delete r.readyTimeouts[o],n({success:!0})})),Promise.race([this.readyPromise,i])},e.prototype.createUserContext=function(e,t){return this.validateInputs({user_id:e},t)?new $({optimizely:this,userId:e,attributes:t}):null},e.prototype.decide=function(e,n,r){var i,o,a,s,u=this;void 0===r&&(r=[]);var c,p=e.getUserId(),f=e.getAttributes(),d=this.projectConfigManager.getConfig(),h=[];if(!this.isValidInstance()||!d)return this.logger.log(T.INFO,I.INVALID_OBJECT,"OPTIMIZELY","decide"),B(n,e,[D.SDK_NOT_READY]);var v=d.featureKeyMap[n];if(!v)return this.logger.log(T.ERROR,b.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",n),B(n,e,[m(D.FLAG_KEY_INVALID,n)]);var y=this.getAllDecideOptions(r),g=this.decisionService.findValidatedForcedDecision(d,e,n);h.push.apply(h,g.reasons);var E=g.result;if(E)c={experiment:null,variation:E,decisionSource:N.FEATURE_TEST};else{var O=this.decisionService.getVariationForFeature(d,v,e,y);h.push.apply(h,O.reasons),c=O.result}var w=c.decisionSource,R=null!==(o=null===(i=c.experiment)||void 0===i?void 0:i.key)&&void 0!==o?o:null,A=null!==(s=null===(a=c.variation)||void 0===a?void 0:a.key)&&void 0!==s?s:null,k=Be(c);!0===k?this.logger.log(T.INFO,I.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",n,p):this.logger.log(T.INFO,I.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",n,p);var C={},U=!1;y[t.OptimizelyDecideOption.EXCLUDE_VARIABLES]||v.variables.forEach((function(e){C[e.key]=u.getFeatureVariableValueFromVariation(n,k,c.variation,e,p)})),!y[t.OptimizelyDecideOption.DISABLE_DECISION_EVENT]&&(w===N.FEATURE_TEST||w===N.ROLLOUT&&ae(d))&&(this.sendImpressionEvent(c,n,p,k,f),U=!0);var x=[];y[t.OptimizelyDecideOption.INCLUDE_REASONS]&&(x=h.map((function(e){return m.apply(void 0,l([e[0]],e.slice(1)))})));var L={flagKey:n,enabled:k,variationKey:A,ruleKey:R,variables:C,reasons:x,decisionEventDispatched:U};return this.notificationCenter.sendNotifications(_.DECISION,{type:S.FLAG,userId:p,attributes:f,decisionInfo:L}),{variationKey:A,enabled:k,variables:C,ruleKey:R,flagKey:n,userContext:e,reasons:x}},e.prototype.getAllDecideOptions=function(e){var n=this,r=c({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach((function(e){t.OptimizelyDecideOption[e]?r[e]=!0:n.logger.log(T.WARNING,I.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)})):this.logger.log(T.DEBUG,I.INVALID_DECIDE_OPTIONS,"OPTIMIZELY"),r},e.prototype.decideForKeys=function(e,n,r){var i=this;void 0===r&&(r=[]);var o={};if(!this.isValidInstance())return this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","decideForKeys"),o;if(0===n.length)return o;var a=this.getAllDecideOptions(r);return n.forEach((function(n){var s=i.decide(e,n,r);a[t.OptimizelyDecideOption.ENABLED_FLAGS_ONLY]&&!s.enabled||(o[n]=s)})),o},e.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var n=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!n)return this.logger.log(T.ERROR,I.INVALID_OBJECT,"OPTIMIZELY","decideAll"),{};var r=Object.keys(n.featureKeyMap);return this.decideForKeys(e,r,t)},e}(),ze=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},h(_).forEach((function(e){t.notificationListeners[e]=[]})),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(h(_).indexOf(e)>-1))return-1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var n=!1;if((this.notificationListeners[e]||[]).forEach((function(e){e.callback!==t||(n=!0)})),n)return-1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var r=this.listenerId;return this.listenerId+=1,r}catch(e){return this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t=this;try{var n,r;if(Object.keys(this.notificationListeners).some((function(i){return(t.notificationListeners[i]||[]).every((function(t,o){return t.id!==e||(n=o,r=i,!1)})),void 0!==n&&void 0!==r})),void 0!==n&&void 0!==r)return this.notificationListeners[r].splice(n,1),!0}catch(e){this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{h(_).forEach((function(t){e.notificationListeners[t]=[]}))}catch(e){this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var n=this;try{(this.notificationListeners[e]||[]).forEach((function(r){var i=r.callback;try{i(t)}catch(t){n.logger.log(T.ERROR,I.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message)}}))}catch(e){this.logger.log(T.ERROR,e.message),this.errorHandler.handleError(e)}},e}(),We=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(o.LogTierV1EventProcessor.bind.apply(o.LogTierV1EventProcessor,l([void 0],e)))};o.LocalStoragePendingEventsDispatcher;function Je(e,t,n,r){var i={sdkKey:e};if((void 0===r||"object"==typeof r&&null!==r)&&E.assign(i,r),n){var o=oe({datafile:n,jsonSchemaValidator:void 0,logger:t}),a=o.configObj,s=o.error;s&&t.error(s),a&&(i.datafile=ie(a))}return new u.HttpPollingDatafileManager(i)}var Xe=i.getLogger();i.setLogHandler(M()),i.setLogLevel(i.LogLevel.INFO);var Ze=!1,Qe=function(e){try{var t=!1;e.errorHandler&&i.setErrorHandler(e.errorHandler),e.logger&&(i.setLogHandler(e.logger),i.setLogLevel(i.LogLevel.NOTSET)),void 0!==e.logLevel&&i.setLogLevel(e.logLevel);try{(function(e){if("object"==typeof e&&null!==e){var t=e,n=t.errorHandler,r=t.eventDispatcher,i=t.logger;if(n&&"function"!=typeof n.handleError)throw new Error(m(b.INVALID_ERROR_HANDLER,C));if(r&&"function"!=typeof r.dispatchEvent)throw new Error(m(b.INVALID_EVENT_DISPATCHER,C));if(i&&"function"!=typeof i.log)throw new Error(m(b.INVALID_LOGGER,C));return!0}throw new Error(m(b.INVALID_CONFIG,C))})(e),t=!0}catch(e){Xe.error(e)}var n=void 0;null==e.eventDispatcher?(n=new o.LocalStoragePendingEventsDispatcher({eventDispatcher:L}),Ze||(n.sendPendingEvents(),Ze=!0)):n=e.eventDispatcher;var r=e.eventBatchSize,a=e.eventFlushInterval;(function(e){return!("number"!=typeof e||!E.isSafeInteger(e))&&e>=1})(e.eventBatchSize)||(Xe.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),r=10),function(e){return!("number"!=typeof e||!E.isSafeInteger(e))&&e>0}(e.eventFlushInterval)||(Xe.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),a=1e3);var s=i.getErrorHandler(),u=new ze({logger:Xe,errorHandler:s}),l={dispatcher:n,flushInterval:a,batchSize:r,maxQueueSize:e.eventMaxQueueSize||1e4,notificationCenter:u},p=c(c({clientEngine:"javascript-sdk"},e),{eventProcessor:We(l),logger:Xe,errorHandler:s,datafileManager:e.sdkKey?Je(e.sdkKey,Xe,e.datafile,e.datafileOptions):void 0,notificationCenter:u,isValidInstance:t}),f=new Ke(p);try{if("function"==typeof window.addEventListener){var d="onpagehide"in window?"pagehide":"unload";window.addEventListener(d,(function(){f.close()}),!1)}}catch(e){Xe.error(I.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return f}catch(e){return Xe.error(e),null}},et=function(){Ze=!1},tt={logging:V,errorHandler:x,eventDispatcher:L,enums:k,setLogger:i.setLogHandler,setLogLevel:i.setLogLevel,createInstance:Qe,__internalResetRetryState:et,OptimizelyDecideOption:t.OptimizelyDecideOption};Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return i.setLogLevel}}),Object.defineProperty(t,"setLogger",{enumerable:!0,get:function(){return i.setLogHandler}}),t.__internalResetRetryState=et,t.createInstance=Qe,t.default=tt,t.enums=k,t.errorHandler=x,t.eventDispatcher=L,t.logging=V},22150:function(e,t,n){"use strict";var r=n(67294),i=n(98125),o=n(8679),a=n(19889);function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var u=s(o),c=r.createContext({optimizely:null,isServerSide:!1,timeout:0}),l=c.Consumer,p=c.Provider,f=function(e,t){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},f(e,t)};function d(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)};function v(e,t){if(e.id!==t.id)return!1;var n=Object.keys(e.attributes||{}),r=Object.keys(t.attributes||{});n.sort(),r.sort();var i=e.attributes||{},o=t.attributes||{};if(!(n.length===r.length))return!1;for(var a=0;a<n.length;a++){var s=n[a],u=r[a];if(s!==u)return!1;if(i[s]!==o[u])return!1}return!0}function y(e){return"object"===typeof e&&null!==e?e:{}}function g(e,t){var n=y(e),r=y(t),i=Object.keys(n),o=Object.keys(r);return i.length===o.length&&i.every((function(e){return e in r&&n[e]===r[e]}))}function m(e,t,n){return{enabled:!1,flagKey:e,ruleKey:null,variationKey:null,variables:{},reasons:[t],userContext:{id:n.id,attributes:n.attributes}}}var _,E=i.getLogger("<OptimizelyProvider>"),T=function(e){function t(t){var n=e.call(this,t)||this,r=t.optimizely,i=t.userId,o=t.userAttributes,a=t.user,s=null;if(a?"then"in a?a.then((function(e){r.setUser(e)})):s={id:a.id,attributes:a.attributes||{}}:i&&(s={id:i,attributes:o||{}},E.warn("Passing userId and userAttributes as props is deprecated, please switch to using `user` prop")),s)if(r)try{r.setUser(s)}catch(u){E.error("Unable to set user "+s+" because passed in optimizely object does not contain the setUser function.")}else E.error("Unable to set user "+s+" because optimizely object does not exist.");return n}return d(t,e),t.prototype.componentDidUpdate=function(e){if(!e.isServerSide){var t=this.props.optimizely;this.props.user&&"id"in this.props.user&&(t.user.id&&v({id:t.user.id,attributes:t.user.attributes||{}},{id:this.props.user.id,attributes:this.props.user.attributes||{}})||t.setUser(this.props.user))}},t.prototype.render=function(){var e=this.props,t=e.optimizely,n=e.children,i=e.timeout,o={optimizely:t,isServerSide:!!this.props.isServerSide,timeout:i};return r.createElement(p,{value:o},n)},t}(r.Component),b=function(e,t,n,r,i){var o="re-evaluating "+t+'="'+n+'" for user="'+e.user.id+'"',s=e.notificationCenter.addNotificationListener(a.enums.NOTIFICATION_TYPES.OPTIMIZELY_CONFIG_UPDATE,(function(){r.info(a.enums.NOTIFICATION_TYPES.OPTIMIZELY_CONFIG_UPDATE+", "+o),i()})),u=e.onUserUpdate((function(){r.info("User update, "+o),i()}));return function(){e.notificationCenter.removeNotificationListener(s),u()}},I=function(){function e(){this.observers=[]}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.subscribe=function(e,t){var n=this,r="key-"+Math.floor(1e5+999999*Math.random());return this.observers.push({subscriptionId:r,key:e,callback:t}),function(){var e=n.observers.findIndex((function(e){return e.subscriptionId===r}));e>=0&&n.observers.splice(e,1)}},e.prototype.notify=function(e){this.observers.filter((function(t){return t.key===e})).forEach((function(e){return e.callback()}))},e}().getInstance(),O=i.getLogger("ReactSDK");function S(e,t){return e.entityKey===t.entityKey&&e.overrideUserId===t.overrideUserId&&g(e.overrideAttributes,t.overrideAttributes)}function N(e,t,n){e.onReady({timeout:t}).then((function(e){if(e.success)return O.info("Client became ready"),void n({clientReady:!0,didTimeout:!1});if("NO_CLIENT"===e.reason)O.warn('Client not ready, reason="'+e.message+'"'),n({clientReady:!1,didTimeout:!1}),e.dataReadyPromise.then((function(){O.info("Client became ready."),n({clientReady:!0,didTimeout:!1})}));else O.info("Client did not become ready before timeout of "+t+'ms, reason="'+e.message+'"'),n({clientReady:!1,didTimeout:!0}),e.dataReadyPromise.then((function(){O.info("Client became ready after timeout already elapsed"),n({clientReady:!0,didTimeout:!0})}))})).catch((function(){O.error("Error initializing client. The core client or user promise(s) rejected.")}))}function w(e){var t=r.useRef();return g(e,t.current)||(t.current=e),t.current}!function(e){e.EXPERIMENT="Experiment",e.FEATURE="Feature"}(_||(_={}));var R=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var i=r.useContext(c),o=i.optimizely,a=i.isServerSide,s=i.timeout;if(!o)return O.error("Unable to use experiment "+e+". optimizely prop must be supplied via a parent <OptimizelyProvider>"),[null,!1,!1];var u=w(n.overrideAttributes),l=r.useCallback((function(){return{variation:o.activate(e,n.overrideUserId,u)}}),[o,e,n.overrideUserId,u]),p=a||o.isReady(),f=r.useState((function(){var e=p?l():{variation:null};return h({},e,{clientReady:p,didTimeout:!1})})),d=f[0],v=f[1],y={entityKey:e,overrideUserId:n.overrideUserId,overrideAttributes:u},g=r.useState(y),m=g[0],E=g[1];S(m,y)||(E(y),v((function(e){return h({},e,l())})));var T=void 0!==t.timeout?t.timeout:s;return r.useEffect((function(){(o.getIsUsingSdkKey()&&!o.getIsReadyPromiseFulfilled()||!p)&&N(o,T,(function(e){v(h({},l(),e))}))}),[]),r.useEffect((function(){return o.getIsReadyPromiseFulfilled()&&t.autoUpdate?b(o,_.EXPERIMENT,e,O,(function(){v((function(e){return h({},e,l())}))})):function(){}}),[o.getIsReadyPromiseFulfilled(),t.autoUpdate,o,e,l]),r.useEffect((function(){return o.onForcedVariationsUpdate((function(){v((function(e){return h({},e,l())}))}))}),[l,o]),[d.variation,d.clientReady,d.didTimeout]},A=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var i=r.useContext(c),o=i.optimizely,a=i.isServerSide,s=i.timeout;if(!o)return O.error("Unable to properly use feature "+e+". optimizely prop must be supplied via a parent <OptimizelyProvider>"),[!1,{},!1,!1];var u=w(n.overrideAttributes),l=r.useCallback((function(){return{isEnabled:o.isFeatureEnabled(e,n.overrideUserId,u),variables:o.getFeatureVariables(e,n.overrideUserId,u)}}),[o,e,n.overrideUserId,u]),p=a||o.isReady(),f=r.useState((function(){var e=p?l():{isEnabled:!1,variables:{}};return h({},e,{clientReady:p,didTimeout:!1})})),d=f[0],v=f[1],y={entityKey:e,overrideUserId:n.overrideUserId,overrideAttributes:n.overrideAttributes},g=r.useState(y),m=g[0],E=g[1];S(m,y)||(E(y),v((function(e){return h({},e,l())})));var T=void 0!==t.timeout?t.timeout:s;return r.useEffect((function(){!o.getIsUsingSdkKey()&&p||N(o,T,(function(e){v(h({},l(),e))}))}),[]),r.useEffect((function(){return o.getIsReadyPromiseFulfilled()&&t.autoUpdate?b(o,_.FEATURE,e,O,(function(){v((function(e){return h({},e,l())}))})):function(){}}),[o.getIsReadyPromiseFulfilled(),t.autoUpdate,o,e,l]),[d.isEnabled,d.variables,d.clientReady,d.didTimeout]},D=function(e){var t=e.feature,n=e.timeout,i=e.autoUpdate,o=e.children,a=e.overrideUserId,s=e.overrideAttributes,u=A(t,{timeout:n,autoUpdate:i},{overrideUserId:a,overrideAttributes:s}),c=u[0],l=u[1],p=u[2],f=u[3];return p||f?r.createElement(r.Fragment,null,o(c,l,p,f)):null};var k=function(e){var t=e.experiment,n=e.autoUpdate,i=e.timeout,o=e.overrideUserId,a=e.overrideAttributes,s=e.children,u=R(t,{timeout:i,autoUpdate:n},{overrideUserId:o,overrideAttributes:a}),c=u[0],l=u[1],p=u[2];if(!l&&!p)return null;if(null!=s&&"function"===typeof s)return r.createElement(r.Fragment,null,s(c,l,p));var f=null;return r.Children.forEach(s,(function(e){!f&&r.isValidElement(e)&&(e.props.variation?c===e.props.variation&&(f=e):e.props.default&&(f=e))})),f?r.cloneElement(f,{variation:c}):null},C=function(e){var t=e.children;return r.createElement(r.Fragment,null,t)},U=i.getLogger("ReactSDK"),x=function(){function e(e){var t=this;this.user={id:null,attributes:{}},this.userContext=null,this.isUserPromiseResolved=!1,this.onUserUpdateHandlers=[],this.onForcedVariationsUpdateHandlers=[],this.forcedDecisionFlagKeys=new Set,this.isClientReady=!1,this.isReadyPromiseFulfilled=!1,this.isUserReady=!1,this.isUsingSdkKey=!1,this.initialConfig=e,this.userPromiseResolver=function(){};var n=h({},e,{clientEngine:"react-sdk",clientVersion:"2.9.1"});this._client=a.createInstance(n),this.isClientReady=!!n.datafile,this.isUsingSdkKey=!!n.sdkKey,this.userPromise=new Promise((function(e){t.userPromiseResolver=e})).then((function(){return t.isUserReady=!0,{success:!0}})),this._client?(this._client.onReady().then((function(){t.isClientReady=!0})),this.dataReadyPromise=Promise.all([this.userPromise,this._client.onReady()]).then((function(){return t.isReadyPromiseFulfilled=!0,{success:!0,message:"Successfully resolved datafile and user information."}}))):(U.warn("Unable to resolve datafile and user information because Optimizely client failed to initialize."),this.dataReadyPromise=new Promise((function(e,t){e({success:!1,reason:"NO_CLIENT",message:"Optimizely client failed to initialize."})})))}return e.prototype.getIsReadyPromiseFulfilled=function(){return this.isReadyPromiseFulfilled},e.prototype.getIsUsingSdkKey=function(){return this.isUsingSdkKey},e.prototype.onReady=function(e){var t,n=this;void 0===e&&(e={});var r=5e3;e&&void 0!==e.timeout&&(r=e.timeout);var i=new Promise((function(e){t=setTimeout((function(){e({success:!1,reason:"TIMEOUT",message:"failed to initialize onReady before timeout, either the datafile or user info was not set before the timeout",dataReadyPromise:n.dataReadyPromise})}),r)}));return Promise.race([this.dataReadyPromise,i]).then((function(e){return clearTimeout(t),e}))},e.prototype.getUserContextInstance=function(e){if(!this._client)return U.warn('Unable to get user context for user id "%s" because Optimizely client failed to initialize.',e.id),null;return this.userContext?v(e,this.user)?this.userContext:e.id?this._client.createUserContext(e.id,e.attributes):null:e.id?(this.userContext=this._client.createUserContext(e.id,e.attributes),this.userContext):null},e.prototype.setUser=function(e){var t=this;e.id&&(this.user.id=e.id,this.isUserReady=!0,this._client?this.userContext=this._client.createUserContext(e.id,e.attributes):U.warn('Unable to create user context for user id "%s" because Optimizely client failed to initialize.',this.user.id)),e.attributes&&(this.user.attributes=e.attributes),this.isUserPromiseResolved||(this.userPromiseResolver(this.user),this.isUserPromiseResolved=!0),this.onUserUpdateHandlers.forEach((function(e){return e(t.user)}))},e.prototype.onUserUpdate=function(e){var t=this;return this.onUserUpdateHandlers.push(e),function(){var n=t.onUserUpdateHandlers.indexOf(e);n>-1&&t.onUserUpdateHandlers.splice(n,1)}},e.prototype.onForcedVariationsUpdate=function(e){var t=this;return this.onForcedVariationsUpdateHandlers.push(e),function(){var n=t.onForcedVariationsUpdateHandlers.indexOf(e);n>-1&&t.onForcedVariationsUpdateHandlers.splice(n,1)}},e.prototype.isReady=function(){return this.isUserReady&&this.isClientReady},e.prototype.activate=function(e,t,n){if(!this._client)return U.warn('Unable to activate experiment "%s" because Optimizely client failed to initialize.',e),null;var r=this.getUserContextWithOverrides(t,n);return null===r.id?(U.info('Unable to activate experiment "%s" because User ID is not set',e),null):this._client.activate(e,r.id,r.attributes)},e.prototype.decide=function(e,t,n,r){if(void 0===t&&(t=[]),!this._client)return U.warn('Unable to evaluate feature "%s" because Optimizely client failed to initialize.',e),m(e,"Unable to evaluate flag "+e+" because Optimizely client failed to initialize.",this.user);var i=this.getUserContextWithOverrides(n,r);if(null===i.id)return U.info('Unable to evaluate feature "%s" because User ID is not set.',e),m(e,"Unable to evaluate flag "+e+" because User ID is not set.",i);var o=this.getUserContextInstance(i);return o?h({},o.decide(e,t),{userContext:{id:i.id,attributes:i.attributes}}):m(e,"Not Evaluating flag "+e+" because user id or attributes are not valid",i)},e.prototype.decideForKeys=function(e,t,n,r){if(void 0===t&&(t=[]),!this._client)return U.warn("Unable to evaluate features for keys because Optimizely client failed to initialize."),{};var i=this.getUserContextWithOverrides(n,r);if(null===i.id)return U.info("Unable to evaluate features for keys because User ID is not set"),{};var o=this.getUserContextInstance(i);return o?Object.entries(o.decideForKeys(e,t)).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=h({},r,{userContext:{id:i.id||"",attributes:i.attributes}}),e}),{}):{}},e.prototype.decideAll=function(e,t,n){if(void 0===e&&(e=[]),!this._client)return U.warn("Unable to evaluate all feature decisions because Optimizely client is not initialized."),{};var r=this.getUserContextWithOverrides(t,n);if(null===r.id)return U.info("Unable to evaluate all feature decisions because User ID is not set"),{};var i=this.getUserContextInstance(r);return i?Object.entries(i.decideAll(e)).reduce((function(e,t){var n=t[0],i=t[1];return e[n]=h({},i,{userContext:{id:r.id||"",attributes:r.attributes}}),e}),{}):{}},e.prototype.getVariation=function(e,t,n){if(!this._client)return U.warn('Unable to get variation for experiment "%s" because Optimizely client failed to initialize.',e),null;var r=this.getUserContextWithOverrides(t,n);return null===r.id?(U.info('Unable to get variation for experiment "%s" because User ID is not set',e),null):this._client.getVariation(e,r.id,r.attributes)},e.prototype.track=function(e,t,n,r){if(this._client){"undefined"!==typeof t&&"string"!==typeof t&&(r=t,t=void 0,n=void 0);var i=this.getUserContextWithOverrides(t,n);null!==i.id?this._client.track(e,i.id,i.attributes,r):U.info('Unable to send tracking event "%s" because User ID is not set',e)}else U.warn('Unable to send tracking event "%s" because Optimizely client failed to initialize.',e)},e.prototype.setForcedDecision=function(e,t){this.userContext?this.userContext.setForcedDecision(e,t)&&(this.forcedDecisionFlagKeys.add(e.flagKey),I.notify(e.flagKey)):U.warn("Unable to set a forced decision because the user context has not been set yet.")},e.prototype.getForcedDecision=function(e){return this.userContext?this.userContext.getForcedDecision(e):(U.warn("Unable to get a forced decision because the user context has not been set yet."),null)},e.prototype.removeForcedDecision=function(e){if(!this.userContext)return U.warn("Unable to remove forced decisions because the user context has not been set yet."),!1;var t=this.userContext.removeForcedDecision(e);return t&&(this.forcedDecisionFlagKeys.delete(e.flagKey),I.notify(e.flagKey)),t},e.prototype.removeAllForcedDecisions=function(){if(!this.userContext)return U.warn("Unable to remove all forced decisions because the user context has not been set yet."),!1;var e=this.userContext.removeAllForcedDecisions();return e&&(this.forcedDecisionFlagKeys.forEach((function(e){return I.notify(e)})),this.forcedDecisionFlagKeys.clear()),e},e.prototype.isFeatureEnabled=function(e,t,n){if(!this._client)return U.warn('Unable to determine if feature "%s" is enabled because Optimizely client failed to initialize.',e),!1;var r=this.getUserContextWithOverrides(t,n);return null===r.id?(U.info('Unable to determine if feature "%s" is enabled because User ID is not set',e),!1):this._client.isFeatureEnabled(e,r.id,r.attributes)},e.prototype.getFeatureVariables=function(e,t,n){var r=this;if(!this._client)return U.warn('Unable to get feature variables for feature "%s" because Optimizely client failed to initialize.',e),{};var i=this.getUserContextWithOverrides(t,n),o=i.id;if(null===o)return U.warn('Unable to get feature variables for feature "%s" because User ID is not set',e),{};var a=i.attributes,s={},u=this._client.getOptimizelyConfig();if(!u)return U.warn('Unable to retrieve feature variables for feature "%s" because Optimizely client failed to initialize.',e),{};var c=u.featuresMap[e];return c?(Object.keys(c.variablesMap).forEach((function(t){var n=c.variablesMap[t];s[n.key]=r._client.getFeatureVariable(e,n.key,o,a)})),s):(U.info('Unable to retrieve feature variables for feature "%s" because config features map is not set',e),{})},e.prototype.getFeatureVariableString=function(e,t,n,r){if(!this._client)return U.warn('Unable to get feature variable string from feature "%s" because Optimizely client failed to initialize.',e),null;var i=this.getUserContextWithOverrides(n,r);return null===i.id?(U.info('Unable to get feature variable string from feature "%s" because User ID is not set',e),null):this._client.getFeatureVariableString(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableBoolean=function(e,t,n,r){if(!this._client)return U.warn('Unable to get feature variable boolean from feature "%s" because Optimizely client failed to initialize.',e),null;var i=this.getUserContextWithOverrides(n,r);return null===i.id?(U.info('Unable to get feature variable boolean from feature "%s" because User ID is not set',e),null):this._client.getFeatureVariableBoolean(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableInteger=function(e,t,n,r){if(!this._client)return U.warn('Unable to get feature variable integer from feature "%s" because Optimizely client failed to initialize.',e),null;var i=this.getUserContextWithOverrides(n,r);return null===i.id?(U.info('Unable to get feature variable integer from feature "%s" because User ID is not set',e),null):this._client.getFeatureVariableInteger(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableDouble=function(e,t,n,r){if(!this._client)return U.warn('Unable to get feature variable double from feature "%s" because Optimizely client failed to initialize.',e),null;var i=this.getUserContextWithOverrides(n,r);return null===i.id?(U.info('Unable to get feature variable double from feature "%s" because User ID is not set',e),null):this._client.getFeatureVariableDouble(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableJSON=function(e,t,n,r){if(!this._client)return U.warn('Unable to get feature variable JSON from feature "%s" because Optimizely client failed to initialize.',e),null;var i=this.getUserContextWithOverrides(n,r);return null===i.id?(U.info('Unable to get feature variable JSON from feature "%s" because User ID is not set',e),null):this._client.getFeatureVariableJSON(e,t,i.id,i.attributes)},e.prototype.getFeatureVariable=function(e,t,n,r){if(!this._client)return U.warn('Unable to get feature variable from feature "%s" because Optimizely client failed to initialize.',e,t),null;var i=this.getUserContextWithOverrides(n,r);return null===i.id?(U.info('Unable to get feature variable from feature "%s" because User ID is not set',e,t),null):this._client.getFeatureVariable(e,t,i.id,i.attributes)},e.prototype.getAllFeatureVariables=function(e,t,n){if(!this._client)return U.warn('Unable to get all feature variables from feature "%s" because Optimizely client failed to initialize.',e),{};var r=this.getUserContextWithOverrides(t,n);return null===r.id?(U.info('Unable to get all feature variables from feature "%s" because User ID is not set',e),{}):this._client.getAllFeatureVariables(e,r.id,r.attributes)},e.prototype.getEnabledFeatures=function(e,t){if(!this._client)return U.warn("Unable to get list of enabled features because Optimizely client failed to initialize."),[];var n=this.getUserContextWithOverrides(e,t);return null===n.id?(U.info("Unable to get list of enabled features because User ID is not set"),[]):this._client.getEnabledFeatures(n.id,n.attributes)},e.prototype.getForcedVariation=function(e,t){if(!this._client)return U.warn('Unable to get forced variation for experiment "%s" because Optimizely client failed to initialize.',e),null;var n=this.getUserContextWithOverrides(t);return null===n.id?(U.info('Unable to get forced variation for experiment "%s" because User ID is not set',e),null):this._client.getForcedVariation(e,n.id)},e.prototype.setForcedVariation=function(e,t,n){if(!this._client)return U.warn('Unable to set forced variation for experiment "%s" because Optimizely client failed to initialize.',e),!1;var r=null,i=null;if(2===arguments.length)i=t,r=this.getUserContextWithOverrides().id;else if(3===arguments.length){if(r=this.getUserContextWithOverrides(t).id,void 0===n)return!1;i=n}if(null===r)return U.warn('Unable to set forced variation for experiment "%s" because User ID is not set',e),!1;var o=this._client.setForcedVariation(e,r,i);return this.onForcedVariationsUpdateHandlers.forEach((function(e){return e()})),o},e.prototype.getOptimizelyConfig=function(){return this._client?this._client.getOptimizelyConfig():(U.warn("Unable to get Optimizely configuration because Optimizely client failed to initialize."),null)},e.prototype.close=function(){return this._client?this._client.close():new Promise((function(e,t){return e({success:!0,reason:"Optimizely client is not initialized."})}))},Object.defineProperty(e.prototype,"client",{get:function(){return this._client?this._client:(U.warn("Unable to get client because Optimizely client failed to initialize."),null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notificationCenter",{get:function(){return this._client?this._client.notificationCenter:{addNotificationListener:function(){return U.warn("Unable to add notification listener because Optimizely client failed to initialize."),0},removeNotificationListener:function(){return U.warn("Unable to remove notification listener because Optimizely client failed to initialize."),!1},clearAllNotificationListeners:function(){U.warn("Unable to clear all notification listeners because Optimizely client failed to initialize.")},clearNotificationListeners:function(){U.warn("Unable to clear notification listeners because Optimizely client failed to initialize.")}}},enumerable:!0,configurable:!0}),e.prototype.getUserContextWithOverrides=function(e,t){return{id:void 0===e?this.user.id:e,attributes:void 0===t?this.user.attributes:t}},e}();var L=i.getLogger("ReactSDK"),P={dispatchEvent:function(e,t){L.debug("Event not dispatched by disabled event dispatcher: %s",(function(){var t;try{t=JSON.stringify(e)}catch(n){t="error stringifying event"}return t})),t({statusCode:204})}};Object.defineProperty(t,"Ub",{enumerable:!0,get:function(){return a.setLogLevel}}),t.Fs=function(e){return new x(e)}},64487:function(e,t,n){"use strict";n.d(t,{$e:function(){return s},Tb:function(){return i},YA:function(){return a},e:function(){return o}});var r=n(95659);function i(e,t){return(0,r.Gd)().captureException(e,{captureContext:t})}function o(e){(0,r.Gd)().configureScope(e)}function a(e,t){(0,r.Gd)().setTag(e,t)}function s(e){(0,r.Gd)().withScope(e)}},95659:function(e,t,n){"use strict";n.d(t,{Gd:function(){return h},cu:function(){return f}});var r=n(62844),i=n(21170),o=n(12343),a=n(71235),s=n(61422),u=n(10350),c=n(9015);const l=100;class p{__init(){this._stack=[{}]}constructor(e,t=new u.s,n=4){this._version=n,p.prototype.__init.call(this),this.getStackTop().scope=t,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=u.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:(0,r.DM)(),i=new Error("Sentry syntheticException");return this._withClient(((r,o)=>{r.captureException(e,{originalException:e,syntheticException:i,...t,event_id:n},o)})),n}captureMessage(e,t,n){const i=this._lastEventId=n&&n.event_id?n.event_id:(0,r.DM)(),o=new Error(e);return this._withClient(((r,a)=>{r.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:i},a)})),i}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,r.DM)();return e.type||(this._lastEventId=n),this._withClient(((r,i)=>{r.captureEvent(e,{...t,event_id:n},i)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!n||!r)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:s=l}=r.getOptions&&r.getOptions()||{};if(s<=0)return;const u={timestamp:(0,i.yW)(),...e},c=a?(0,o.Cf)((()=>a(u,t))):u;null!==c&&n.addBreadcrumb(c,s)}setUser(e){const t=this.getScope();t&&t.setUser(e)}setTags(e){const t=this.getScope();t&&t.setTags(e)}setExtras(e){const t=this.getScope();t&&t.setExtras(e)}setTag(e,t){const n=this.getScope();n&&n.setTag(e,t)}setExtra(e,t){const n=this.getScope();n&&n.setExtra(e,t)}setContext(e,t){const n=this.getScope();n&&n.setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();t&&n&&e(t)}run(e){const t=d(this);try{e(this)}finally{d(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&(0,c.RJ)(n),this._sendSessionUpdate(),t&&t.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:i}=n&&n.getOptions()||{},{userAgent:o}=a.n2.navigator||{},s=(0,c.Hv)({release:r,environment:i,...t&&{user:t.getUser()},...o&&{userAgent:o},...e});if(t){const e=t.getSession&&t.getSession();e&&"ok"===e.status&&(0,c.CT)(e,{status:"exited"}),this.endSession(),t.setSession(s)}return s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(!e)return;const n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=f().__SENTRY__;if(n&&n.extensions&&"function"===typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function f(){return a.n2.__SENTRY__=a.n2.__SENTRY__||{extensions:{},hub:void 0},a.n2}function d(e){const t=f(),n=y(t);return g(t,e),n}function h(){const e=f();return v(e)&&!y(e).isOlderThan(4)||g(e,new p),(0,s.KV)()?function(e){try{const t=f().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return y(e);if(!v(n)||y(n).isOlderThan(4)){const t=y(e).getStackTop();g(n,new p(t.client,u.s.clone(t.scope)))}return y(n)}catch(t){return y(e)}}(e):y(e)}function v(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function y(e){return(0,a.YO)("hub",(()=>new p),e)}function g(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}},10350:function(e,t,n){"use strict";n.d(t,{c:function(){return f},s:function(){return l}});var r=n(67597),i=n(21170),o=n(96893),a=n(12343),s=n(62844),u=n(71235),c=n(9015);class l{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const t=new l;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&(0,c.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"===typeof e){const t=e(this);return t instanceof l?t:this}return e instanceof l?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):(0,r.PO)(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,i.yW)(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...p(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,n,i=0){return new o.cW(((o,s)=>{const u=e[i];if(null===t||"function"!==typeof u)o(t);else{const c=u({...t},n);("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.id&&null===c&&a.kg.log(`Event processor "${u.id}" dropped event`),(0,r.J8)(c)?c.then((t=>this._notifyEventProcessors(e,t,n,i+1).then(o))).then(null,s):this._notifyEventProcessors(e,c,n,i+1).then(o).then(null,s)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?(0,s.lE)(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function p(){return(0,u.YO)("globalEventProcessors",(()=>[]))}function f(e){p().push(e)}},9015:function(e,t,n){"use strict";n.d(t,{CT:function(){return s},Hv:function(){return a},RJ:function(){return u}});var r=n(21170),i=n(62844),o=n(20535);function a(e){const t=(0,r.ph)(),n={sid:(0,i.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,o.Jr)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"===typeof e.did||"string"===typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&s(n,e),n}function s(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function u(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),s(e,n)}},62758:function(e,t,n){"use strict";n.d(t,{ro:function(){return y},lb:function(){return v}});var r=n(95659),i=n(12343),o=n(67597),a=n(61422),s=n(9732),u=n(63233);function c(){const e=(0,u.x1)();if(e){const t="internal_error";("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}var l=n(16458),p=n(33391);function f(){const e=this.getScope();if(e){const t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function d(e,t,n){if(!(0,u.zu)(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let r;return"function"===typeof t.tracesSampler?(r=t.tracesSampler(n),e.setMetadata({sampleRate:Number(r)})):void 0!==n.parentSampled?r=n.parentSampled:(r=t.tracesSampleRate,e.setMetadata({sampleRate:Number(r)})),function(e){if((0,o.i2)(e)||"number"!==typeof e&&"boolean"!==typeof e)return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1;if(e<0||e>1)return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1;return!0}(r)?r?(e.sampled=Math.random()<r,e.sampled?(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] Discarding transaction because "+("function"===typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function h(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},o=r.instrumenter||"sentry",a=e.instrumenter||"sentry";o!==a&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.error(`A transaction was started with instrumenter=\`${a}\`, but the SDK is configured with the \`${o}\` instrumenter.\nThe transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let s=new p.Y(e,this);return s=d(s,r,{parentSampled:e.parentSampled,transactionContext:e,...t}),s.sampled&&s.initSpanRecorder(r._experiments&&r._experiments.maxSpans),s}function v(e,t,n,r,i,o,a){const s=e.getClient(),u=s&&s.getOptions()||{};let c=new l.io(t,e,n,r,a,i);return c=d(c,u,{parentSampled:t.parentSampled,transactionContext:t,...o}),c.sampled&&c.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c}function y(){!function(){const e=(0,r.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=h),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=f))}(),(0,a.KV)()&&function(){const t=(0,r.cu)();if(!t.__SENTRY__)return;const n={mongodb:()=>new((0,a.l$)(e,"./integrations/node/mongo").Mongo),mongoose:()=>new((0,a.l$)(e,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new((0,a.l$)(e,"./integrations/node/mysql").Mysql),pg:()=>new((0,a.l$)(e,"./integrations/node/postgres").Postgres)},i=Object.keys(n).filter((e=>!!(0,a.$y)(e))).map((e=>{try{return n[e]()}catch(t){return}})).filter((e=>e));i.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...i])}(),(0,s.o)("error",c),(0,s.o)("unhandledrejection",c)}e=n.hmd(e)},16458:function(e,t,n){"use strict";n.d(t,{hd:function(){return c},io:function(){return p},mg:function(){return u},nT:function(){return s}});var r=n(21170),i=n(12343),o=n(55334),a=n(33391);const s=1e3,u=3e4,c=5e3;class l extends o.gB{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){e.spanId!==this.transactionSpanId&&(e.finish=t=>{e.endTimestamp="number"===typeof t?t:(0,r._I)(),this._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),super.add(e)}}class p extends a.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(e,t,n=s,r=u,o=c,a=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=o,this._onScope=a,p.prototype.__init.call(this),p.prototype.__init2.call(this),p.prototype.__init3.call(this),p.prototype.__init4.call(this),a&&(f(t),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),t.configureScope((e=>e.setSpan(this)))),this._startIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())}),this._finalTimeout)}finish(e=(0,r._I)()){if(this._finished=!0,this.activities={},this.spanRecorder){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const t of this._beforeFinishCallbacks)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));const n=t.startTimestamp<e;return n||("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&f(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new l(t,n,this.spanId,e),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(e){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||this.finish(e)}),this._idleTimeout)}_pushActivity(e){this._cancelIdleTimeout(),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] popActivity ${e}`),delete this.activities[e],("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=(0,r._I)()+this._idleTimeout/1e3;this._startIdleTimeout(e)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}_pingHeartbeat(){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function f(e){const t=e.getScope();if(t){t.getTransaction()&&t.setSpan(void 0)}}},55334:function(e,t,n){"use strict";n.d(t,{Dr:function(){return u},gB:function(){return s}});var r=n(62844),i=n(21170),o=n(12343),a=n(20535);class s{__init(){this.spans=[]}constructor(e=1e3){s.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class u{__init2(){this.traceId=(0,r.DM)()}__init3(){this.spanId=(0,r.DM)().substring(16)}__init4(){this.startTimestamp=(0,i._I)()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(e){if(u.prototype.__init2.call(this),u.prototype.__init3.call(this),u.prototype.__init4.call(this),u.prototype.__init5.call(this),u.prototype.__init6.call(this),u.prototype.__init7.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){const t=new u({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.transaction){const n=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${t.transaction.name||"< unknown name >"}' (${t.transaction.spanId}).`;t.transaction.metadata.spanMetadata[t.spanId]={logMessage:n},o.kg.log(n)}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));const t=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(e);return"unknown_error"!==t&&this.setStatus(t),this}isSuccess(){return"ok"===this.status}finish(e){if(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:e}=this.transaction.metadata.spanMetadata[this.spanId];e&&o.kg.log(e.replace("Starting","Finishing"))}this.endTimestamp="number"===typeof e?e:(0,i._I)()}toTraceparent(){let e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return(0,a.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}},33391:function(e,t,n){"use strict";n.d(t,{Y:function(){return s}});var r=n(95659),i=n(12343),o=n(20535),a=n(55334);class s extends a.Dr{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(e,t){super(e),s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),this._hub=t||(0,r.Gd)(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}setName(e,t="custom"){this._name=e,this.metadata.source=t}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new a.gB(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(void 0!==this.endTimestamp)return;if(this.name||(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e),!0!==this.sampled){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");const e=this._hub.getClient();return void(e&&e.recordDroppedEvent("sample_rate","transaction"))}const t=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&e.endTimestamp)):[];this._trimEnd&&t.length>0&&(this.endTimestamp=t.reduce(((e,t)=>e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e)).endTimestamp);const n=this.metadata,r={contexts:{...this._contexts,trace:this.getTraceContext()},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...n,dynamicSamplingContext:this.getDynamicSamplingContext()},...n.source&&{transaction_info:{source:n.source}}};return Object.keys(this._measurements).length>0&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),r.measurements=this._measurements),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(r)}toContext(){const e=super.toContext();return(0,o.Jr)({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||(0,r.Gd)(),t=e&&e.getClient();if(!t)return{};const{environment:n,release:i}=t.getOptions()||{},{publicKey:a}=t.getDsn()||{},s=this.metadata.sampleRate,u=void 0!==s?s.toString():void 0,c=e.getScope(),{segment:l}=c&&c.getUser()||{},p=this.metadata.source,f=p&&"url"!==p?this.name:void 0;return(0,o.Jr)({environment:n,release:i,transaction:f,user_segment:l,public_key:a,trace_id:this.traceId,sample_rate:u})}}},63233:function(e,t,n){"use strict";n.d(t,{XL:function(){return a},x1:function(){return o},zu:function(){return i}});var r=n(95659);function i(e){const t=(0,r.Gd)().getClient(),n=e||t&&t.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function o(e){const t=(e||(0,r.Gd)()).getScope();return t&&t.getTransaction()}function a(e){return e/1e3}},58464:function(e,t,n){"use strict";n.d(t,{Rt:function(){return o},l4:function(){return s},qT:function(){return u}});var r=n(67597);const i=(0,n(71235).Rf)();function o(e,t={}){try{let n=e;const r=5,i=[];let o=0,s=0;const u=" > ",c=u.length;let l;const p=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&o++<r&&(l=a(n,p),!("html"===l||o>1&&s+i.length*c+l.length>=f));)i.push(l),s+=l.length,n=n.parentNode;return i.reverse().join(u)}catch(n){return"<unknown>"}}function a(e,t){const n=e,i=[];let o,a,s,u,c;if(!n||!n.tagName)return"";i.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(l&&l.length)l.forEach((e=>{i.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&i.push(`#${n.id}`),o=n.className,o&&(0,r.HD)(o))for(a=o.split(/\s+/),c=0;c<a.length;c++)i.push(`.${a[c]}`);const p=["aria-label","type","name","title","alt"];for(c=0;c<p.length;c++)s=p[c],u=n.getAttribute(s),u&&i.push(`[${s}="${u}"]`);return i.join("")}function s(){try{return i.document.location.href}catch(e){return""}}function u(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null}},68518:function(e,t,n){"use strict";function r(){return"undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}n.d(t,{S:function(){return i},n:function(){return r}})},9732:function(e,t,n){"use strict";n.d(t,{o:function(){return f}});var r=n(67597),i=n(12343),o=n(20535),a=n(30360),s=n(8823);const u=(0,n(71235).Rf)(),c={},l={};function p(e){if(!l[e])switch(l[e]=!0,e){case"console":!function(){if(!("console"in u))return;i.RU.forEach((function(e){e in u.console&&(0,o.hl)(u.console,e,(function(t){return function(...n){d("console",{args:n,level:e}),t&&t.apply(u.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in u))return;const e=d.bind(null,"dom"),t=_(e,!0);u.document.addEventListener("click",t,!1),u.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=u[t]&&u[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,o.hl)(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){const r=_(e);a.handler=r,t.call(this,n,r,i)}a.refCount++}catch(o){}return t.call(this,n,r,i)}})),(0,o.hl)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(i){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in u))return;const e=XMLHttpRequest.prototype;(0,o.hl)(e,"open",(function(e){return function(...t){const n=this,i=t[1],a=n.__sentry_xhr__={method:(0,r.HD)(t[0])?t[0].toUpperCase():t[0],url:t[1]};(0,r.HD)(i)&&"POST"===a.method&&i.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const s=function(){if(4===n.readyState){try{a.status_code=n.status}catch(e){}d("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"===typeof n.onreadystatechange?(0,o.hl)(n,"onreadystatechange",(function(e){return function(...t){return s(),e.apply(n,t)}})):n.addEventListener("readystatechange",s),e.apply(n,t)}})),(0,o.hl)(e,"send",(function(e){return function(...t){return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),d("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":!function(){if(!(0,s.t$)())return;(0,o.hl)(u,"fetch",(function(e){return function(...t){const n={args:t,fetchData:{method:h(t),url:v(t)},startTimestamp:Date.now()};return d("fetch",{...n}),e.apply(u,t).then((e=>(d("fetch",{...n,endTimestamp:Date.now(),response:e}),e)),(e=>{throw d("fetch",{...n,endTimestamp:Date.now(),error:e}),e}))}}))}();break;case"history":!function(){if(!(0,s.Bf)())return;const e=u.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=y,t=String(n);y=t,d("history",{from:e,to:t})}return e.apply(this,t)}}u.onpopstate=function(...t){const n=u.location.href,r=y;if(y=n,d("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(i){}},(0,o.hl)(u.history,"pushState",t),(0,o.hl)(u.history,"replaceState",t)}();break;case"error":E=u.onerror,u.onerror=function(e,t,n,r,i){return d("error",{column:r,error:i,line:n,msg:e,url:t}),!!E&&E.apply(this,arguments)};break;case"unhandledrejection":T=u.onunhandledrejection,u.onunhandledrejection=function(e){return d("unhandledrejection",e),!T||T.apply(this,arguments)};break;default:return void(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("unknown instrumentation type:",e))}}function f(e,t){c[e]=c[e]||[],c[e].push(t),p(e)}function d(e,t){if(e&&c[e])for(const r of c[e]||[])try{r(t)}catch(n){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,a.$P)(r)}\nError:`,n)}}function h(e=[]){return"Request"in u&&(0,r.V9)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function v(e=[]){return"string"===typeof e[0]?e[0]:"Request"in u&&(0,r.V9)(e[0],Request)?e[0].url:String(e[0])}let y;let g,m;function _(e,t=!1){return n=>{if(!n||m===n)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(t){}return!0}(n))return;const r="keypress"===n.type?"input":n.type;(void 0===g||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(n){}return!1}(m,n))&&(e({event:n,name:r,global:t}),m=n),clearTimeout(g),g=u.setTimeout((()=>{g=void 0}),1e3)}}let E=null;let T=null},67597:function(e,t,n){"use strict";n.d(t,{Cy:function(){return y},HD:function(){return c},J8:function(){return v},Kj:function(){return h},PO:function(){return p},TX:function(){return s},V9:function(){return m},VW:function(){return a},VZ:function(){return i},cO:function(){return f},fm:function(){return u},i2:function(){return g},kK:function(){return d},pt:function(){return l}});const r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return m(e,Error)}}function o(e,t){return r.call(e)===`[object ${t}]`}function a(e){return o(e,"ErrorEvent")}function s(e){return o(e,"DOMError")}function u(e){return o(e,"DOMException")}function c(e){return o(e,"String")}function l(e){return null===e||"object"!==typeof e&&"function"!==typeof e}function p(e){return o(e,"Object")}function f(e){return"undefined"!==typeof Event&&m(e,Event)}function d(e){return"undefined"!==typeof Element&&m(e,Element)}function h(e){return o(e,"RegExp")}function v(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function y(e){return p(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function g(e){return"number"===typeof e&&e!==e}function m(e,t){try{return e instanceof t}catch(n){return!1}}},12343:function(e,t,n){"use strict";n.d(t,{Cf:function(){return o},RU:function(){return i},kg:function(){return s}});var r=n(71235);const i=["debug","info","warn","error","log","assert","trace"];function o(e){if(!("console"in r.n2))return e();const t=r.n2.console,n={};i.forEach((e=>{const r=t[e]&&t[e].__sentry_original__;e in t&&r&&(n[e]=t[e],t[e]=r)}));try{return e()}finally{Object.keys(n).forEach((e=>{t[e]=n[e]}))}}function a(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?i.forEach((n=>{t[n]=(...t)=>{e&&o((()=>{r.n2.console[n](`Sentry Logger [${n}]:`,...t)}))}})):i.forEach((e=>{t[e]=()=>{}})),t}let s;s="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,r.YO)("logger",a):a()},62844:function(e,t,n){"use strict";n.d(t,{DM:function(){return o},Db:function(){return u},EG:function(){return c},YO:function(){return l},jH:function(){return s},lE:function(){return p}});var r=n(20535),i=n(71235);function o(){const e=i.n2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function a(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function s(e){const{message:t,event_id:n}=e;if(t)return t;const r=a(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function u(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function c(e,t){const n=a(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function l(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.xp)(e,"__sentry_captured__",!0)}catch(t){}return!1}function p(e){return Array.isArray(e)?e:[e]}},61422:function(e,t,n){"use strict";n.d(t,{$y:function(){return s},KV:function(){return o},l$:function(){return a}});var r=n(68518);e=n.hmd(e);var i=n(83454);function o(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof i?i:0)}function a(e,t){return e.require(t)}function s(t){let n;try{n=a(e,t)}catch(r){}try{const{cwd:r}=a(e,"process");n=a(e,`${r()}/node_modules/${t}`)}catch(r){}return n}},20535:function(e,t,n){"use strict";n.d(t,{$Q:function(){return u},HK:function(){return c},Jr:function(){return v},Sh:function(){return p},_j:function(){return l},hl:function(){return a},xp:function(){return s},zf:function(){return h}});var r=n(58464),i=n(67597),o=n(57321);function a(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);if("function"===typeof i)try{u(i,r)}catch(o){}e[t]=i}function s(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function u(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,s(e,"__sentry_original__",t)}function c(e){return e.__sentry_original__}function l(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function p(e){if((0,i.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...d(e)};if((0,i.cO)(e)){const t={type:e.type,target:f(e.target),currentTarget:f(e.currentTarget),...d(e)};return"undefined"!==typeof CustomEvent&&(0,i.V9)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function f(e){try{return(0,i.kK)(e)?(0,r.Rt)(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function d(e){if("object"===typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function h(e,t=40){const n=Object.keys(p(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,o.$G)(n[0],t);for(let r=n.length;r>0;r--){const e=n.slice(0,r).join(", ");if(!(e.length>t))return r===n.length?e:(0,o.$G)(e,t)}return""}function v(e){return y(e,new Map)}function y(e,t){if((0,i.PO)(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const i of Object.keys(e))"undefined"!==typeof e[i]&&(r[i]=y(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(y(e,t))})),r}return e}},30360:function(e,t,n){"use strict";n.d(t,{$P:function(){return u},Sq:function(){return a},pE:function(){return o}});var r=n(71235);const i=new Map;function o(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const o=[];for(const a of t){let e=i.get(a);e||(e=new Map,i.set(a,e));const t=r.n2._sentryDebugIds;t&&Object.keys(t).forEach((n=>{n.split("\n").forEach((r=>{const i=a(r);i&&i.filename&&e.set(i.filename,t[n])}))}))}for(const r of e.split("\n").slice(n)){if(r.length>1024)continue;const e=r.replace(/\(error: (.*)\)/,"$1");for(const n of t){const t=n(e);if(t){const e=i.get(n);if(e&&t.filename){const n=e.get(t.filename);n&&(t.debug_id=n)}o.push(t);break}}}return function(e){if(!e.length)return[];let t=e;const n=t[0].function||"",r=t[t.length-1].function||"";-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1));-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1));return t.slice(0,50).map((e=>({...e,filename:e.filename||t[0].filename,function:e.function||"?"}))).reverse()}(o)}}function a(e){return Array.isArray(e)?o(...e):e}const s="<anonymous>";function u(e){try{return e&&"function"===typeof e&&e.name||s}catch(t){return s}}},57321:function(e,t,n){"use strict";n.d(t,{$G:function(){return i},U0:function(){return a},nK:function(){return o}});var r=n(67597);function i(e,t=0){return"string"!==typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function o(e,t){if(!Array.isArray(e))return"";const n=[];for(let i=0;i<e.length;i++){const t=e[i];try{n.push(String(t))}catch(r){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):!!(0,r.HD)(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}},8823:function(e,t,n){"use strict";n.d(t,{Ak:function(){return o},Bf:function(){return u},Du:function(){return a},t$:function(){return s}});var r=n(12343);const i=(0,n(71235).Rf)();function o(){if(!("fetch"in i))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!o())return!1;if(a(i.fetch))return!0;let e=!1;const t=i.document;if(t&&"function"===typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=a(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function u(){const e=i.chrome,t=e&&e.app&&e.app.runtime,n="history"in i&&!!i.history.pushState&&!!i.history.replaceState;return!t&&n}},96893:function(e,t,n){"use strict";n.d(t,{$2:function(){return a},WD:function(){return o},cW:function(){return s}});var r,i=n(67597);function o(e){return new s((t=>{t(e)}))}function a(e){return new s(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(r||(r={}));class s{__init(){this._state=r.PENDING}__init2(){this._handlers=[]}constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),s.prototype.__init5.call(this),s.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new s(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(i){r(i)}else n(t)},e=>{if(t)try{n(t(e))}catch(i){r(i)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new s(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init3(){this._resolve=e=>{this._setResult(r.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(r.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===r.PENDING&&((0,i.J8)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===r.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)}))}}}},21170:function(e,t,n){"use strict";n.d(t,{Z1:function(){return d},_I:function(){return p},ph:function(){return l},yW:function(){return c}});var r=n(61422),i=n(71235);e=n.hmd(e);const o=(0,i.Rf)(),a={nowSeconds:()=>Date.now()/1e3};const s=(0,r.KV)()?function(){try{return(0,r.l$)(e,"perf_hooks").performance}catch(t){return}}():function(){const{performance:e}=o;if(!e||!e.now)return;return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),u=void 0===s?a:{nowSeconds:()=>(s.timeOrigin+s.now())/1e3},c=a.nowSeconds.bind(a),l=u.nowSeconds.bind(u),p=l;let f;const d=(()=>{const{performance:e}=o;if(!e||!e.now)return void(f="none");const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,a=i<t,s=e.timing&&e.timing.navigationStart,u="number"===typeof s?Math.abs(s+n-r):t;return a||u<t?i<=u?(f="timeOrigin",e.timeOrigin):(f="navigationStart",s):(f="dateNow",r)})()},71235:function(e,t,n){"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:function(){return o},YO:function(){return a},n2:function(){return i}});const i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function o(){return i}function a(e,t,n){const r=n||i,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}},54098:function(e,t){var n="undefined"!==typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){var n=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=function(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function T(e){var t=new f;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},g.call(_.prototype),g.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var I=[301,302,303,307,308];b.redirect=function(e,t){if(-1===I.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(S){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function O(e,n){return new Promise((function(r,o){var a=new _(e,n);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:T(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;r(new b(t,e))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}O.polyfill=!0,e.fetch||(e.fetch=O,e.Headers=f,e.Request=_,e.Response=b),t.Headers=f,t.Request=_,t.Response=b,t.fetch=O,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},72445:function(e){"use strict";e.exports=function(e){var t=e.uri,n=e.name,r=e.type;this.uri=t,this.name=n,this.type=r}},40804:function(e,t,n){"use strict";var r=n(51268);e.exports=function e(t,n,i){var o;void 0===n&&(n=""),void 0===i&&(i=r);var a=new Map;function s(e,t){var n=a.get(t);n?n.push.apply(n,e):a.set(t,e)}if(i(t))o=null,s([n],t);else{var u=n?n+".":"";if("undefined"!==typeof FileList&&t instanceof FileList)o=Array.prototype.map.call(t,(function(e,t){return s([""+u+t],e),null}));else if(Array.isArray(t))o=t.map((function(t,n){var r=e(t,""+u+n,i);return r.files.forEach(s),r.clone}));else if(t&&t.constructor===Object)for(var c in o={},t){var l=e(t[c],""+u+c,i);l.files.forEach(s),o[c]=l.clone}else o=t}return{clone:o,files:a}}},34823:function(e,t,n){"use strict";t.ReactNativeFile=n(72445),t.extractFiles=n(40804),t.isExtractableFile=n(51268)},51268:function(e,t,n){"use strict";var r=n(72445);e.exports=function(e){return"undefined"!==typeof File&&e instanceof File||"undefined"!==typeof Blob&&e instanceof Blob||e instanceof r}},6230:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},78458:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(34823),o=r(n(6230)),a=n(60456),s=function(e){return(0,i.isExtractableFile)(e)||null!==e&&"object"===typeof e&&"function"===typeof e.pipe};t.default=function(e,t,n,r){void 0===r&&(r=a.defaultJsonSerializer);var u=(0,i.extractFiles)({query:e,variables:t,operationName:n},"",s),c=u.clone,l=u.files;if(0===l.size){if(!Array.isArray(e))return r.stringify(c);if("undefined"!==typeof t&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");var p=e.reduce((function(e,n,r){return e.push({query:n,variables:t?t[r]:void 0}),e}),[]);return r.stringify(p)}var f=new("undefined"===typeof FormData?o.default:FormData);f.append("operations",r.stringify(c));var d={},h=0;return l.forEach((function(e){d[++h]=e})),f.append("map",r.stringify(d)),h=0,l.forEach((function(e,t){f.append("".concat(++h),t)})),f}},60456:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultJsonSerializer=void 0,t.defaultJsonSerializer={parse:JSON.parse,stringify:JSON.stringify}},38741:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLWebSocketClient=void 0;var a=n(8308),s=n(5366),u="ping",c="pong",l="subscribe",p="complete",f=function(){function e(e,t,n){this._type=e,this._payload=t,this._id=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"payload",{get:function(){return this._payload},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){var e={type:this.type};return null!=this.id&&void 0!=this.id&&(e.id=this.id),null!=this.payload&&void 0!=this.payload&&(e.payload=this.payload),JSON.stringify(e)},enumerable:!1,configurable:!0}),e.parse=function(t,n){var r=JSON.parse(t),i=r.type,o=r.payload,a=r.id;return new e(i,n(o),a)},e}(),d=function(){function e(e,t){var n=t.onInit,s=t.onAcknowledged,l=t.onPing,d=t.onPong,y=this;this.socketState={acknowledged:!1,lastRequestId:0,subscriptions:{}},this.socket=e,e.onopen=function(t){return i(y,void 0,void 0,(function(){var t,r,i,a;return o(this,(function(o){switch(o.label){case 0:return this.socketState.acknowledged=!1,this.socketState.subscriptions={},r=(t=e).send,i=h,n?[4,n()]:[3,2];case 1:return a=o.sent(),[3,3];case 2:a=null,o.label=3;case 3:return r.apply(t,[i.apply(void 0,[a]).text]),[2]}}))}))},e.onclose=function(e){y.socketState.acknowledged=!1,y.socketState.subscriptions={}},e.onerror=function(e){console.error(e)},e.onmessage=function(t){try{var n=function(e,t){void 0===t&&(t=function(e){return e});return f.parse(e,t)}(t.data);switch(n.type){case"connection_ack":return void(y.socketState.acknowledged?console.warn("Duplicate CONNECTION_ACK message ignored"):(y.socketState.acknowledged=!0,s&&s(n.payload)));case u:return void(l?l(n.payload).then((function(t){return e.send(v(t).text)})):e.send(v(null).text));case c:return void(d&&d(n.payload))}if(!y.socketState.acknowledged)return;if(void 0===n.id||null===n.id||!y.socketState.subscriptions[n.id])return;var i=y.socketState.subscriptions[n.id],o=i.query,h=i.variables,g=i.subscriber;switch(n.type){case"next":return!n.payload.errors&&n.payload.data&&g.next&&g.next(n.payload.data),void(n.payload.errors&&g.error&&g.error(new a.ClientError(r(r({},n.payload),{status:200}),{query:o,variables:h})));case"error":return void(g.error&&g.error(new a.ClientError({errors:n.payload,status:200},{query:o,variables:h})));case p:return g.complete&&g.complete(),void delete y.socketState.subscriptions[n.id]}}catch(t){console.error(t),e.close(1006)}e.close(4400,"Unknown graphql-ws message.")}}return e.prototype.makeSubscribe=function(e,t,n,r){var i,o,a=this,s=(this.socketState.lastRequestId++).toString();return this.socketState.subscriptions[s]={query:e,variables:r,subscriber:n},this.socket.send((i=s,o={query:e,operationName:t,variables:r},new f(l,o,i)).text),function(){a.socket.send(function(e){return new f(p,void 0,e)}(s).text),delete a.socketState.subscriptions[s]}},e.prototype.rawRequest=function(e,t){var n=this;return new Promise((function(r,i){var o;n.rawSubscribe(e,{next:function(e,t){return o={data:e,extensions:t}},error:i,complete:function(){return r(o)}},t)}))},e.prototype.request=function(e,t){var n=this;return new Promise((function(r,i){var o;n.subscribe(e,{next:function(e){return o=e},error:i,complete:function(){return r(o)}},t)}))},e.prototype.subscribe=function(e,t,n){var r=(0,s.resolveRequestDocument)(e),i=r.query,o=r.operationName;return this.makeSubscribe(i,o,t,n)},e.prototype.rawSubscribe=function(e,t,n){return this.makeSubscribe(e,void 0,t,n)},e.prototype.ping=function(e){this.socket.send(function(e){return new f(u,e,void 0)}(e).text)},e.prototype.close=function(){this.socket.close(1e3)},e.PROTOCOL="graphql-transport-ws",e}();function h(e){return new f("connection_init",e)}function v(e){return new f(c,e,void 0)}t.GraphQLWebSocketClient=d},28687:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveRequestDocument=t.GraphQLWebSocketClient=t.gql=t.batchRequests=t.request=t.rawRequest=t.GraphQLClient=t.ClientError=void 0;var f=a(n(54098)),d=f,h=p(n(78458)),v=n(60456),y=n(32980),g=n(8308);Object.defineProperty(t,"ClientError",{enumerable:!0,get:function(){return g.ClientError}});var m=n(5366),_=function(e){var t={};return e&&("undefined"!==typeof Headers&&e instanceof Headers||d&&d.Headers&&e instanceof d.Headers?t=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}(e):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];t[n]=r})):t=e),t},E=function(e){return e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim()},T=function(e){var t=e.url,n=e.query,i=e.variables,o=e.operationName,a=e.headers,l=e.fetch,p=e.fetchOptions,f=e.middleware;return s(void 0,void 0,void 0,(function(){var e,s,d;return u(this,(function(u){switch(u.label){case 0:return e=(0,h.default)(n,i,o,p.jsonSerializer),s=r({method:"POST",headers:r(r({},"string"===typeof e?{"Content-Type":"application/json"}:{}),a),body:e},p),f?[4,Promise.resolve(f(r(r({},s),{url:t,operationName:o,variables:i})))]:[3,2];case 1:d=u.sent(),t=d.url,s=c(d,["url"]),u.label=2;case 2:return[4,l(t,s)];case 3:return[2,u.sent()]}}))}))},b=function(e){var t=e.url,n=e.query,i=e.variables,o=e.operationName,a=e.headers,l=e.fetch,p=e.fetchOptions,f=e.middleware;return s(void 0,void 0,void 0,(function(){var e,s,d;return u(this,(function(u){switch(u.label){case 0:return e=function(e){var t=e.query,n=e.variables,r=e.operationName,i=e.jsonSerializer;if(!Array.isArray(t)){var o=["query=".concat(encodeURIComponent(E(t)))];return n&&o.push("variables=".concat(encodeURIComponent(i.stringify(n)))),r&&o.push("operationName=".concat(encodeURIComponent(r))),o.join("&")}if("undefined"!==typeof n&&!Array.isArray(n))throw new Error("Cannot create query with given variable type, array expected");var a=t.reduce((function(e,t,r){return e.push({query:E(t),variables:n?i.stringify(n[r]):void 0}),e}),[]);return"query=".concat(encodeURIComponent(i.stringify(a)))}({query:n,variables:i,operationName:o,jsonSerializer:p.jsonSerializer}),s=r({method:"GET",headers:a},p),f?[4,Promise.resolve(f(r(r({},s),{url:t,operationName:o,variables:i})))]:[3,2];case 1:d=u.sent(),t=d.url,s=c(d,["url"]),u.label=2;case 2:return[4,l("".concat(t,"?").concat(e),s)];case 3:return[2,u.sent()]}}))}))},I=function(){function e(e,t){void 0===t&&(t={}),this.url=e,this.options=t}return e.prototype.rawRequest=function(e,t,n){return s(this,void 0,void 0,(function(){var i,o,a,s,l,p,d,h,v,g,E,T;return u(this,(function(u){return i=(0,y.parseRawRequestArgs)(e,t,n),o=this.options,a=o.headers,s=o.fetch,l=void 0===s?f.default:s,p=o.method,d=void 0===p?"POST":p,h=o.requestMiddleware,v=o.responseMiddleware,g=c(o,["headers","fetch","method","requestMiddleware","responseMiddleware"]),E=this.url,void 0!==i.signal&&(g.signal=i.signal),T=(0,m.resolveRequestDocument)(i.query).operationName,[2,O({url:E,query:i.query,variables:i.variables,headers:r(r({},_(w(a))),_(i.requestHeaders)),operationName:T,fetch:l,method:d,fetchOptions:g,middleware:h}).then((function(e){return v&&v(e),e})).catch((function(e){throw v&&v(e),e}))]}))}))},e.prototype.request=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return s(this,void 0,void 0,(function(){var n,i,o,a,s,l,p,d,h,v,g,E,T,b,I,S;return u(this,(function(u){return n=t[0],i=t[1],o=(0,y.parseRequestArgs)(e,n,i),a=this.options,s=a.headers,l=a.fetch,p=void 0===l?f.default:l,d=a.method,h=void 0===d?"POST":d,v=a.requestMiddleware,g=a.responseMiddleware,E=c(a,["headers","fetch","method","requestMiddleware","responseMiddleware"]),T=this.url,void 0!==o.signal&&(E.signal=o.signal),b=(0,m.resolveRequestDocument)(o.document),I=b.query,S=b.operationName,[2,O({url:T,query:I,variables:o.variables,headers:r(r({},_(w(s))),_(o.requestHeaders)),operationName:S,fetch:p,method:h,fetchOptions:E,middleware:v}).then((function(e){return g&&g(e),e.data})).catch((function(e){throw g&&g(e),e}))]}))}))},e.prototype.batchRequests=function(e,t){var n=(0,y.parseBatchRequestArgs)(e,t),i=this.options,o=i.headers,a=i.fetch,s=void 0===a?f.default:a,u=i.method,l=void 0===u?"POST":u,p=i.requestMiddleware,d=i.responseMiddleware,h=c(i,["headers","fetch","method","requestMiddleware","responseMiddleware"]),v=this.url;void 0!==n.signal&&(h.signal=n.signal);var g=n.documents.map((function(e){var t=e.document;return(0,m.resolveRequestDocument)(t).query})),E=n.documents.map((function(e){return e.variables}));return O({url:v,query:g,variables:E,headers:r(r({},_(w(o))),_(n.requestHeaders)),operationName:void 0,fetch:s,method:l,fetchOptions:h,middleware:p}).then((function(e){return d&&d(e),e.data})).catch((function(e){throw d&&d(e),e}))},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var n,r=this.options.headers;return r?r[e]=t:this.options.headers=((n={})[e]=t,n),this},e.prototype.setEndpoint=function(e){return this.url=e,this},e}();function O(e){var t=e.url,n=e.query,i=e.variables,o=e.headers,a=e.operationName,l=e.fetch,p=e.method,f=void 0===p?"POST":p,d=e.fetchOptions,h=e.middleware;return s(this,void 0,void 0,(function(){var e,s,p,v,y,m,_,E,I,O,S;return u(this,(function(u){switch(u.label){case 0:return e="POST"===f.toUpperCase()?T:b,s=Array.isArray(n),[4,e({url:t,query:n,variables:i,operationName:a,headers:o,fetch:l,fetchOptions:d,middleware:h})];case 1:return[4,N(p=u.sent(),d.jsonSerializer)];case 2:if(v=u.sent(),y=s&&Array.isArray(v)?!v.some((function(e){return!e.data})):!!v.data,m=!v.errors||"all"===d.errorPolicy||"ignore"===d.errorPolicy,p.ok&&m&&y)return _=p.headers,E=p.status,v.errors,I=c(v,["errors"]),O="ignore"===d.errorPolicy?I:v,[2,r(r({},s?{data:O}:O),{headers:_,status:E})];throw S="string"===typeof v?{error:v}:v,new g.ClientError(r(r({},S),{status:p.status,headers:p.headers}),{query:n,variables:i})}}))}))}function S(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return s(this,void 0,void 0,(function(){var i;return u(this,(function(o){return i=y.parseRequestExtendedArgs.apply(void 0,l([e,t],n,!1)),[2,new I(i.url).request(r({},i))]}))}))}function N(e,t){return void 0===t&&(t=v.defaultJsonSerializer),s(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:return e.headers.forEach((function(e,t){"content-type"===t.toLowerCase()&&(n=e)})),n&&(n.toLowerCase().startsWith("application/json")||n.toLowerCase().startsWith("application/graphql+json")||n.toLowerCase().startsWith("application/graphql-response+json"))?(i=(r=t).parse,[4,e.text()]):[3,2];case 1:return[2,i.apply(r,[o.sent()])];case 2:return[2,e.text()]}}))}))}function w(e){return"function"===typeof e?e():e}t.GraphQLClient=I,t.rawRequest=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return s(this,void 0,void 0,(function(){var i;return u(this,(function(o){return i=y.parseRawRequestExtendedArgs.apply(void 0,l([e,t],n,!1)),[2,new I(i.url).rawRequest(r({},i))]}))}))},t.request=S,t.batchRequests=function(e,t,n){return s(this,void 0,void 0,(function(){var i;return u(this,(function(o){return i=(0,y.parseBatchRequestsExtendedArgs)(e,t,n),[2,new I(i.url).batchRequests(r({},i))]}))}))},t.default=S,t.gql=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.reduce((function(e,n,r){return"".concat(e).concat(n).concat(r in t?t[r]:"")}),"")};var R=n(38741);Object.defineProperty(t,"GraphQLWebSocketClient",{enumerable:!0,get:function(){return R.GraphQLWebSocketClient}});var A=n(5366);Object.defineProperty(t,"resolveRequestDocument",{enumerable:!0,get:function(){return A.resolveRequestDocument}})},32980:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchRequestsExtendedArgs=t.parseRawRequestExtendedArgs=t.parseRequestExtendedArgs=t.parseBatchRequestArgs=t.parseRawRequestArgs=t.parseRequestArgs=void 0,t.parseRequestArgs=function(e,t,n){return e.document?e:{document:e,variables:t,requestHeaders:n,signal:void 0}},t.parseRawRequestArgs=function(e,t,n){return e.query?e:{query:e,variables:t,requestHeaders:n,signal:void 0}},t.parseBatchRequestArgs=function(e,t){return e.documents?e:{documents:e,requestHeaders:t,signal:void 0}},t.parseRequestExtendedArgs=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1];return e.document?e:{url:e,document:t,variables:i,requestHeaders:o,signal:void 0}},t.parseRawRequestExtendedArgs=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1];return e.query?e:{url:e,query:t,variables:i,requestHeaders:o,signal:void 0}},t.parseBatchRequestsExtendedArgs=function(e,t,n){return e.documents?e:{url:e,documents:t,requestHeaders:n,signal:void 0}}},5366:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveRequestDocument=void 0;var r=n(70217);function i(e){var t,n=void 0,r=e.definitions.filter((function(e){return"OperationDefinition"===e.kind}));return 1===r.length&&(n=null===(t=r[0].name)||void 0===t?void 0:t.value),n}t.resolveRequestDocument=function(e){if("string"===typeof e){var t=void 0;try{t=i((0,r.parse)(e))}catch(o){}return{query:e,operationName:t}}var n=i(e);return{query:(0,r.print)(e),operationName:n}}},8308:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ClientError=void 0;var r=function(e){function t(n,r){var i=this,o="".concat(t.extractMessage(n),": ").concat(JSON.stringify({response:n,request:r}));return i=e.call(this,o)||this,Object.setPrototypeOf(i,t.prototype),i.response=n,i.request=r,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return n(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: ".concat(e.status,")")}},t}(Error);t.ClientError=r},8679:function(e,t,n){"use strict";var r=n(59864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=d(n);i&&i!==h&&e(t,i,r)}var a=l(n);p&&(a=a.concat(p(n)));for(var s=u(t),v=u(n),y=0;y<a.length;++y){var g=a[y];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var m=f(n,g);try{c(t,g,m)}catch(_){}}}}return t}},38714:function(e,t,n){var r=n(36557);t.z=function(e){var t=function(e){var t=e.split("_");return 2==t.length||2==(t=e.split("-")).length?t.pop():e}(e).toUpperCase();return t in r?r[t]:null}},36557:function(e){e.exports={AD:"EUR",AE:"AED",AF:"AFN",AG:"XCD",AI:"XCD",AL:"ALL",AM:"AMD",AN:"ANG",AO:"AOA",AR:"ARS",AS:"USD",AT:"EUR",AU:"AUD",AW:"AWG",AX:"EUR",AZ:"AZN",BA:"BAM",BB:"BBD",BD:"BDT",BE:"EUR",BF:"XOF",BG:"BGN",BH:"BHD",BI:"BIF",BJ:"XOF",BL:"EUR",BM:"BMD",BN:"BND",BO:"BOB",BQ:"USD",BR:"BRL",BS:"BSD",BT:"BTN",BV:"NOK",BW:"BWP",BY:"BYR",BZ:"BZD",CA:"CAD",CC:"AUD",CD:"CDF",CF:"XAF",CG:"XAF",CH:"CHF",CI:"XOF",CK:"NZD",CL:"CLP",CM:"XAF",CN:"CNY",CO:"COP",CR:"CRC",CU:"CUP",CV:"CVE",CW:"ANG",CX:"AUD",CY:"EUR",CZ:"CZK",DE:"EUR",DJ:"DJF",DK:"DKK",DM:"XCD",DO:"DOP",DZ:"DZD",EC:"USD",EE:"EUR",EG:"EGP",EH:"MAD",ER:"ERN",ES:"EUR",ET:"ETB",FI:"EUR",FJ:"FJD",FK:"FKP",FM:"USD",FO:"DKK",FR:"EUR",GA:"XAF",GB:"GBP",GD:"XCD",GE:"GEL",GF:"EUR",GG:"GBP",GH:"GHS",GI:"GIP",GL:"DKK",GM:"GMD",GN:"GNF",GP:"EUR",GQ:"XAF",GR:"EUR",GS:"GBP",GT:"GTQ",GU:"USD",GW:"XOF",GY:"GYD",HK:"HKD",HM:"AUD",HN:"HNL",HR:"HRK",HT:"HTG",HU:"HUF",ID:"IDR",IE:"EUR",IL:"ILS",IM:"GBP",IN:"INR",IO:"USD",IQ:"IQD",IR:"IRR",IS:"ISK",IT:"EUR",JE:"GBP",JM:"JMD",JO:"JOD",JP:"JPY",KE:"KES",KG:"KGS",KH:"KHR",KI:"AUD",KM:"KMF",KN:"XCD",KP:"KPW",KR:"KRW",KW:"KWD",KY:"KYD",KZ:"KZT",LA:"LAK",LB:"LBP",LC:"XCD",LI:"CHF",LK:"LKR",LR:"LRD",LS:"LSL",LT:"LTL",LU:"EUR",LV:"LVL",LY:"LYD",MA:"MAD",MC:"EUR",MD:"MDL",ME:"EUR",MF:"EUR",MG:"MGA",MH:"USD",MK:"MKD",ML:"XOF",MM:"MMK",MN:"MNT",MO:"MOP",MP:"USD",MQ:"EUR",MR:"MRO",MS:"XCD",MT:"EUR",MU:"MUR",MV:"MVR",MW:"MWK",MX:"MXN",MY:"MYR",MZ:"MZN",NA:"NAD",NC:"XPF",NE:"XOF",NF:"AUD",NG:"NGN",NI:"NIO",NL:"EUR",NO:"NOK",NP:"NPR",NR:"AUD",NU:"NZD",NZ:"NZD",OM:"OMR",PA:"PAB",PE:"PEN",PF:"XPF",PG:"PGK",PH:"PHP",PK:"PKR",PL:"PLN",PM:"EUR",PN:"NZD",PR:"USD",PS:"ILS",PT:"EUR",PW:"USD",PY:"PYG",QA:"QAR",RE:"EUR",RO:"RON",RS:"RSD",RU:"RUB",RW:"RWF",SA:"SAR",SB:"SBD",SC:"SCR",SD:"SDG",SE:"SEK",SG:"SGD",SH:"SHP",SI:"EUR",SJ:"NOK",SK:"EUR",SL:"SLL",SM:"EUR",SN:"XOF",SO:"SOS",SR:"SRD",ST:"STD",SV:"SVC",SX:"ANG",SY:"SYP",SZ:"SZL",TC:"USD",TD:"XAF",TF:"EUR",TG:"XOF",TH:"THB",TJ:"TJS",TK:"NZD",TL:"USD",TM:"TMT",TN:"TND",TO:"TOP",TR:"TRY",TT:"TTD",TV:"AUD",TW:"TWD",TZ:"TZS",UA:"UAH",UG:"UGX",UM:"USD",US:"USD",UY:"UYU",UZ:"UZS",VA:"EUR",VC:"XCD",VE:"VEF",VG:"USD",VI:"USD",VN:"VND",VU:"VUV",WF:"XPF",WS:"WST",YE:"YER",YT:"EUR",ZA:"ZAR",ZM:"ZMK",ZW:"ZWL"}},96486:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,c=32,l=64,p=128,f=256,d=1/0,h=9007199254740991,v=NaN,y=4294967295,g=[["ary",p],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",f]],m="[object Arguments]",_="[object Array]",E="[object Boolean]",T="[object Date]",b="[object Error]",I="[object Function]",O="[object GeneratorFunction]",S="[object Map]",N="[object Number]",w="[object Object]",R="[object Promise]",A="[object RegExp]",D="[object Set]",k="[object String]",C="[object Symbol]",U="[object WeakMap]",x="[object ArrayBuffer]",L="[object DataView]",P="[object Float32Array]",M="[object Float64Array]",F="[object Int8Array]",j="[object Int16Array]",V="[object Int32Array]",B="[object Uint8Array]",$="[object Uint8ClampedArray]",G="[object Uint16Array]",q="[object Uint32Array]",Y=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,J=RegExp(z.source),X=RegExp(W.source),Z=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,pe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ye=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,Ee=/^(?:0|[1-9]\d*)$/,Te=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,Ie=/['\n\r\u2028\u2029\\]/g,Oe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ne="a-z\\xdf-\\xf6\\xf8-\\xff",we="A-Z\\xc0-\\xd6\\xd8-\\xde",Re="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="['\u2019]",ke="[\\ud800-\\udfff]",Ce="["+Ae+"]",Ue="["+Oe+"]",xe="\\d+",Le="[\\u2700-\\u27bf]",Pe="["+Ne+"]",Me="[^\\ud800-\\udfff"+Ae+xe+Se+Ne+we+"]",Fe="\\ud83c[\\udffb-\\udfff]",je="[^\\ud800-\\udfff]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",$e="["+we+"]",Ge="(?:"+Pe+"|"+Me+")",qe="(?:"+$e+"|"+Me+")",Ye="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",He="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Ue+"|"+Fe+")"+"?",ze="[\\ufe0e\\ufe0f]?",We=ze+Ke+("(?:\\u200d(?:"+[je,Ve,Be].join("|")+")"+ze+Ke+")*"),Je="(?:"+[Le,Ve,Be].join("|")+")"+We,Xe="(?:"+[je+Ue+"?",Ue,Ve,Be,ke].join("|")+")",Ze=RegExp(De,"g"),Qe=RegExp(Ue,"g"),et=RegExp(Fe+"(?="+Fe+")|"+Xe+We,"g"),tt=RegExp([$e+"?"+Pe+"+"+Ye+"(?="+[Ce,$e,"$"].join("|")+")",qe+"+"+He+"(?="+[Ce,$e+Ge,"$"].join("|")+")",$e+"?"+Ge+"+"+Ye,$e+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xe,Je].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Oe+Re+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,at={};at[P]=at[M]=at[F]=at[j]=at[V]=at[B]=at[$]=at[G]=at[q]=!0,at[m]=at[_]=at[x]=at[E]=at[L]=at[T]=at[b]=at[I]=at[S]=at[N]=at[w]=at[A]=at[D]=at[k]=at[U]=!1;var st={};st[m]=st[_]=st[x]=st[L]=st[E]=st[T]=st[P]=st[M]=st[F]=st[j]=st[V]=st[S]=st[N]=st[w]=st[A]=st[D]=st[k]=st[C]=st[B]=st[$]=st[G]=st[q]=!0,st[b]=st[I]=st[U]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ft="object"==typeof self&&self&&self.Object===Object&&self,dt=pt||ft||Function("return this")(),ht=t&&!t.nodeType&&t,vt=ht&&e&&!e.nodeType&&e,yt=vt&&vt.exports===ht,gt=yt&&pt.process,mt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||gt&&gt.binding&&gt.binding("util")}catch(t){}}(),_t=mt&&mt.isArrayBuffer,Et=mt&&mt.isDate,Tt=mt&&mt.isMap,bt=mt&&mt.isRegExp,It=mt&&mt.isSet,Ot=mt&&mt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Nt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function wt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function kt(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function Ct(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ut(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function xt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Pt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Yt("length");function jt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Vt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Bt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,Gt,n)}function $t(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Gt(e){return e!==e}function qt(e,t){var n=null==e?0:e.length;return n?zt(e,t)/n:v}function Yt(e){return function(t){return null==t?i:t[e]}}function Ht(e){return function(t){return null==e?i:e[t]}}function Kt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function zt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Wt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,vn(e)+1).replace(ae,""):e}function Xt(e){return function(t){return e(t)}}function Zt(e,t){return Ut(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Bt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Ht({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function sn(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function dn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ft(e)}function hn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var yn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var n=(t=null==t?dt:gn.defaults(dt.Object(),t,gn.pick(dt,it))).Array,r=t.Date,se=t.Error,Oe=t.Function,Se=t.Math,Ne=t.Object,we=t.RegExp,Re=t.String,Ae=t.TypeError,De=n.prototype,ke=Oe.prototype,Ce=Ne.prototype,Ue=t["__core-js_shared__"],xe=ke.toString,Le=Ce.hasOwnProperty,Pe=0,Me=function(){var e=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Ce.toString,je=xe.call(Ne),Ve=dt._,Be=we("^"+xe.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$e=yt?t.Buffer:i,Ge=t.Symbol,qe=t.Uint8Array,Ye=$e?$e.allocUnsafe:i,He=cn(Ne.getPrototypeOf,Ne),Ke=Ne.create,ze=Ce.propertyIsEnumerable,We=De.splice,Je=Ge?Ge.isConcatSpreadable:i,Xe=Ge?Ge.iterator:i,et=Ge?Ge.toStringTag:i,nt=function(){try{var e=fo(Ne,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,pt=r&&r.now!==dt.Date.now&&r.now,ft=t.setTimeout!==dt.setTimeout&&t.setTimeout,ht=Se.ceil,vt=Se.floor,gt=Ne.getOwnPropertySymbols,mt=$e?$e.isBuffer:i,Ft=t.isFinite,Ht=De.join,mn=cn(Ne.keys,Ne),_n=Se.max,En=Se.min,Tn=r.now,bn=t.parseInt,In=Se.random,On=De.reverse,Sn=fo(t,"DataView"),Nn=fo(t,"Map"),wn=fo(t,"Promise"),Rn=fo(t,"Set"),An=fo(t,"WeakMap"),Dn=fo(Ne,"create"),kn=An&&new An,Cn={},Un=Vo(Sn),xn=Vo(Nn),Ln=Vo(wn),Pn=Vo(Rn),Mn=Vo(An),Fn=Ge?Ge.prototype:i,jn=Fn?Fn.valueOf:i,Vn=Fn?Fn.toString:i;function Bn(e){if(rs(e)&&!Ha(e)&&!(e instanceof Yn)){if(e instanceof qn)return e;if(Le.call(e,"__wrapped__"))return Bo(e)}return new qn(e)}var $n=function(){function e(){}return function(t){if(!ns(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Gn(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Yn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new zn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new Kn(e);this.size=t.size}function Xn(e,t){var n=Ha(e),r=!n&&Ya(e),i=!n&&!r&&Ja(e),o=!n&&!r&&!i&&ps(e),a=n||r||i||o,s=a?Wt(e.length,Re):[],u=s.length;for(var c in e)!t&&!Le.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Eo(c,u))||s.push(c);return s}function Zn(e){var t=e.length;return t?e[Wr(0,t-1)]:i}function Qn(e,t){return Mo(Di(e),ur(t,0,e.length))}function er(e){return Mo(Di(e))}function tr(e,t,n){(n!==i&&!$a(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Le.call(e,t)&&$a(r,n)&&(n!==i||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if($a(e[n][0],t))return n;return-1}function ir(e,t,n,r){return dr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&ki(t,Us(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:Rs(e,t[r]);return a}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,o,a){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ns(e))return e;var p=Ha(e);if(p){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Di(e,s)}else{var f=yo(e),d=f==I||f==O;if(Ja(e))return Oi(e,u);if(f==w||f==m||d&&!o){if(s=c||d?{}:mo(e),!u)return c?function(e,t){return ki(e,vo(e),t)}(e,function(e,t){return e&&ki(t,xs(t),e)}(s,e)):function(e,t){return ki(e,ho(e),t)}(e,or(s,e))}else{if(!st[f])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case x:return Si(e);case E:case T:return new r(+e);case L:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case P:case M:case F:case j:case V:case B:case $:case G:case q:return Ni(e,n);case S:return new r;case N:case k:return new r(e);case A:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case D:return new r;case C:return i=e,jn?Ne(jn.call(i)):{}}var i}(e,f,u)}}a||(a=new Jn);var h=a.get(e);if(h)return h;a.set(e,s),us(e)?e.forEach((function(r){s.add(cr(r,t,n,r,e,a))})):is(e)&&e.forEach((function(r,i){s.set(i,cr(r,t,n,i,e,a))}));var v=p?i:(l?c?oo:io:c?xs:Us)(e);return wt(v||e,(function(r,i){v&&(r=e[i=r]),nr(s,i,cr(r,t,n,i,e,a))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ne(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function pr(e,t,n){if("function"!=typeof e)throw new Ae(o);return Uo((function(){e.apply(i,n)}),t)}function fr(e,t,n,r){var i=-1,o=kt,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=Ut(t,Xt(n))),r?(o=Ct,a=!1):t.length>=200&&(o=Qt,a=!1,t=new Wn(t));e:for(;++i<s;){var l=e[i],p=null==n?l:n(l);if(l=r||0!==l?l:0,a&&p===p){for(var f=c;f--;)if(t[f]===p)continue e;u.push(l)}else o(t,p,r)||u.push(l)}return u}Bn.templateSettings={escape:Z,evaluate:Q,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=Gn.prototype,Bn.prototype.constructor=Bn,qn.prototype=$n(Gn.prototype),qn.prototype.constructor=qn,Yn.prototype=$n(Gn.prototype),Yn.prototype.constructor=Yn,Hn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Dn){var n=t[e];return n===a?i:n}return Le.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return Dn?t[e]!==i:Le.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Dn&&t===i?a:t,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():We.call(t,n,1),--this.size,!0)},Kn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Kn.prototype.has=function(e){return rr(this.__data__,e)>-1},Kn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},zn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Nn||Kn),string:new Hn}},zn.prototype.delete=function(e){var t=lo(this,e).delete(e);return this.size-=t?1:0,t},zn.prototype.get=function(e){return lo(this,e).get(e)},zn.prototype.has=function(e){return lo(this,e).has(e)},zn.prototype.set=function(e,t){var n=lo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Wn.prototype.add=Wn.prototype.push=function(e){return this.__data__.set(e,a),this},Wn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!Nn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zn(r)}return n.set(e,t),this.size=n.size,this};var dr=xi(Tr),hr=xi(br,!0);function vr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function yr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s===s&&!ls(s):n(s,u)))var u=s,c=a}return c}function gr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=_o),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?mr(s,t-1,n,r,i):xt(i,s):r||(i[i.length]=s)}return i}var _r=Li(),Er=Li(!0);function Tr(e,t){return e&&_r(e,t,Us)}function br(e,t){return e&&Er(e,t,Us)}function Ir(e,t){return Dt(t,(function(t){return Qa(e[t])}))}function Or(e,t){for(var n=0,r=(t=Ei(t,e)).length;null!=e&&n<r;)e=e[jo(t[n++])];return n&&n==r?e:i}function Sr(e,t,n){var r=t(e);return Ha(e)?r:xt(r,n(e))}function Nr(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Ne(e)?function(e){var t=Le.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(a){}var o=Fe.call(e);r&&(t?e[et]=n:delete e[et]);return o}(e):function(e){return Fe.call(e)}(e)}function wr(e,t){return e>t}function Rr(e,t){return null!=e&&Le.call(e,t)}function Ar(e,t){return null!=e&&t in Ne(e)}function Dr(e,t,r){for(var o=r?Ct:kt,a=e[0].length,s=e.length,u=s,c=n(s),l=1/0,p=[];u--;){var f=e[u];u&&t&&(f=Ut(f,Xt(t))),l=En(f.length,l),c[u]=!r&&(t||a>=120&&f.length>=120)?new Wn(u&&f):i}f=e[0];var d=-1,h=c[0];e:for(;++d<a&&p.length<l;){var v=f[d],y=t?t(v):v;if(v=r||0!==v?v:0,!(h?Qt(h,y):o(p,y,r))){for(u=s;--u;){var g=c[u];if(!(g?Qt(g,y):o(e[u],y,r)))continue e}h&&h.push(y),p.push(v)}}return p}function kr(e,t,n){var r=null==(e=Ao(e,t=Ei(t,e)))?e:e[jo(Zo(t))];return null==r?i:St(r,e,n)}function Cr(e){return rs(e)&&Nr(e)==m}function Ur(e,t,n,r,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,n,r,o,a){var s=Ha(e),u=Ha(t),c=s?_:yo(e),l=u?_:yo(t),p=(c=c==m?w:c)==w,f=(l=l==m?w:l)==w,d=c==l;if(d&&Ja(e)){if(!Ja(t))return!1;s=!0,p=!1}if(d&&!p)return a||(a=new Jn),s||ps(e)?no(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!o(new qe(e),new qe(t)));case E:case T:case N:return $a(+e,+t);case b:return e.name==t.name&&e.message==t.message;case A:case k:return e==t+"";case S:var s=un;case D:var u=1&r;if(s||(s=pn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=no(s(e),s(t),r,i,o,a);return a.delete(e),l;case C:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,c,n,r,o,a);if(!(1&n)){var h=p&&Le.call(e,"__wrapped__"),v=f&&Le.call(t,"__wrapped__");if(h||v){var y=h?e.value():e,g=v?t.value():t;return a||(a=new Jn),o(y,g,n,r,a)}}if(!d)return!1;return a||(a=new Jn),function(e,t,n,r,o,a){var s=1&n,u=io(e),c=u.length,l=io(t).length;if(c!=l&&!s)return!1;var p=c;for(;p--;){var f=u[p];if(!(s?f in t:Le.call(t,f)))return!1}var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var v=!0;a.set(e,t),a.set(t,e);var y=s;for(;++p<c;){var g=e[f=u[p]],m=t[f];if(r)var _=s?r(m,g,f,t,e,a):r(g,m,f,e,t,a);if(!(_===i?g===m||o(g,m,n,r,a):_)){v=!1;break}y||(y="constructor"==f)}if(v&&!y){var E=e.constructor,T=t.constructor;E==T||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof T&&T instanceof T||(v=!1)}return a.delete(e),a.delete(t),v}(e,t,n,r,o,a)}(e,t,n,r,Ur,o))}function xr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Ne(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=n[o])[0],l=e[c],p=u[1];if(s&&u[2]){if(l===i&&!(c in e))return!1}else{var f=new Jn;if(r)var d=r(l,p,c,e,t,f);if(!(d===i?Ur(p,l,3,r,f):d))return!1}}return!0}function Lr(e){return!(!ns(e)||(t=e,Me&&Me in t))&&(Qa(e)?Be:me).test(Vo(e));var t}function Pr(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?Ha(e)?$r(e[0],e[1]):Br(e):hu(e)}function Mr(e){if(!So(e))return mn(e);var t=[];for(var n in Ne(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in Ne(e))t.push(n);return t}(e);var t=So(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function Vr(e,t){var r=-1,i=za(e)?n(e.length):[];return dr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Br(e){var t=po(e);return 1==t.length&&t[0][2]?wo(t[0][0],t[0][1]):function(n){return n===e||xr(n,e,t)}}function $r(e,t){return bo(e)&&No(t)?wo(jo(e),t):function(n){var r=Rs(n,e);return r===i&&r===t?As(n,e):Ur(t,r,3)}}function Gr(e,t,n,r,o){e!==t&&_r(t,(function(a,s){if(o||(o=new Jn),ns(a))!function(e,t,n,r,o,a,s){var u=ko(e,n),c=ko(t,n),l=s.get(c);if(l)return void tr(e,n,l);var p=a?a(u,c,n+"",e,t,s):i,f=p===i;if(f){var d=Ha(c),h=!d&&Ja(c),v=!d&&!h&&ps(c);p=c,d||h||v?Ha(u)?p=u:Wa(u)?p=Di(u):h?(f=!1,p=Oi(c,!0)):v?(f=!1,p=Ni(c,!0)):p=[]:as(c)||Ya(c)?(p=u,Ya(u)?p=_s(u):ns(u)&&!Qa(u)||(p=mo(c))):f=!1}f&&(s.set(c,p),o(p,c,r,a,s),s.delete(c));tr(e,n,p)}(e,t,s,n,Gr,r,o);else{var u=r?r(ko(e,s),a,s+"",e,t,o):i;u===i&&(u=a),tr(e,s,u)}}),xs)}function qr(e,t){var n=e.length;if(n)return Eo(t+=t<0?n:0,n)?e[t]:i}function Yr(e,t,n){t=t.length?Ut(t,(function(e){return Ha(e)?function(t){return Or(t,1===e.length?e[0]:e)}:e})):[ou];var r=-1;t=Ut(t,Xt(co()));var i=Vr(e,(function(e,n,i){var o=Ut(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=wi(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Or(e,a);n(s,a)&&ei(o,Ei(a,e),s)}return o}function Kr(e,t,n,r){var i=r?$t:Bt,o=-1,a=t.length,s=e;for(e===t&&(t=Di(t)),n&&(s=Ut(e,Xt(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&We.call(s,u,1),We.call(e,u,1);return e}function zr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Eo(i)?We.call(e,i,1):fi(e,i)}}return e}function Wr(e,t){return e+vt(In()*(t-e+1))}function Jr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return xo(Ro(e,t,ou),e+"")}function Zr(e){return Zn($s(e))}function Qr(e,t){var n=$s(e);return Mo(n,ur(t,0,n.length))}function ei(e,t,n,r){if(!ns(e))return e;for(var o=-1,a=(t=Ei(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var c=jo(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var p=u[c];(l=r?r(p,c,u):i)===i&&(l=ns(p)?p:Eo(t[o+1])?[]:{})}nr(u,c,l),u=u[c]}return e}var ti=kn?function(e,t){return kn.set(e,t),e}:ou,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:ou;function ri(e){return Mo($s(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ls(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,ou,n)}function si(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,c=ls(t),l=t===i;o<a;){var p=vt((o+a)/2),f=n(e[p]),d=f!==i,h=null===f,v=f===f,y=ls(f);if(s)var g=r||v;else g=l?v&&(r||d):u?v&&d&&(r||!h):c?v&&d&&!h&&(r||!y):!h&&!y&&(r?f<=t:f<t);g?o=p+1:a=p}return En(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!$a(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ci(e){return"number"==typeof e?e:ls(e)?v:+e}function li(e){if("string"==typeof e)return e;if(Ha(e))return Ut(e,li)+"";if(ls(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function pi(e,t,n){var r=-1,i=kt,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Ct;else if(o>=200){var c=t?null:Ji(e);if(c)return pn(c);a=!1,i=Qt,u=new Wn}else u=t?[]:s;e:for(;++r<o;){var l=e[r],p=t?t(l):l;if(l=n||0!==l?l:0,a&&p===p){for(var f=u.length;f--;)if(u[f]===p)continue e;t&&u.push(p),s.push(l)}else i(u,p,n)||(u!==s&&u.push(p),s.push(l))}return s}function fi(e,t){return null==(e=Ao(e,t=Ei(t,e)))||delete e[jo(Zo(t))]}function di(e,t,n,r){return ei(e,t,n(Or(e,t)),r)}function hi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function vi(e,t){var n=e;return n instanceof Yn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,xt([e],t.args))}),n)}function yi(e,t,r){var i=e.length;if(i<2)return i?pi(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=fr(a[o]||s,e[u],t,r));return pi(mr(a,1),t,r)}function gi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function mi(e){return Wa(e)?e:[]}function _i(e){return"function"==typeof e?e:ou}function Ei(e,t){return Ha(e)?e:bo(e,t)?[e]:Fo(Es(e))}var Ti=Xr;function bi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Ii=ut||function(e){return dt.clearTimeout(e)};function Oi(e,t){if(t)return e.slice();var n=e.length,r=Ye?Ye(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Ni(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function wi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=ls(e),s=t!==i,u=null===t,c=t===t,l=ls(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function Ri(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=_n(a-s,0),p=n(c+l),f=!i;++u<c;)p[u]=t[u];for(;++o<s;)(f||o<a)&&(p[r[o]]=e[o]);for(;l--;)p[u++]=e[o++];return p}function Ai(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,p=_n(a-u,0),f=n(p+l),d=!i;++o<p;)f[o]=e[o];for(var h=o;++c<l;)f[h+c]=t[c];for(;++s<u;)(d||o<a)&&(f[h+r[s]]=e[o++]);return f}function Di(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function ki(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?ar(n,u,c):nr(n,u,c)}return n}function Ci(e,t){return function(n,r){var i=Ha(n)?Nt:ir,o=t?t():{};return i(n,e,co(r,2),o)}}function Ui(e){return Xr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&To(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Ne(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function xi(e,t){return function(n,r){if(null==n)return n;if(!za(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ne(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Li(e){return function(t,n,r){for(var i=-1,o=Ne(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Pi(e){return function(t){var n=sn(t=Es(t))?hn(t):i,r=n?n[0]:t.charAt(0),o=n?bi(n,1).join(""):t.slice(1);return r[e]()+o}}function Mi(e){return function(t){return Lt(Qs(Ys(t).replace(Ze,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=$n(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function ji(e){return function(t,n,r){var o=Ne(t);if(!za(t)){var a=co(n,3);t=Us(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function Vi(e){return ro((function(t){var n=t.length,r=n,a=qn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ae(o);if(a&&!u&&"wrapper"==so(s))var u=new qn([],!0)}for(r=u?r:n;++r<n;){var c=so(s=t[r]),l="wrapper"==c?ao(s):i;u=l&&Io(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[so(l[0])].apply(u,l[3]):1==s.length&&Io(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ha(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Bi(e,t,r,o,a,s,u,c,l,f){var d=t&p,h=1&t,v=2&t,y=24&t,g=512&t,m=v?i:Fi(e);return function i(){for(var p=arguments.length,_=n(p),E=p;E--;)_[E]=arguments[E];if(y)var T=uo(i),b=nn(_,T);if(o&&(_=Ri(_,o,a,y)),s&&(_=Ai(_,s,u,y)),p-=b,y&&p<f){var I=ln(_,T);return zi(e,t,Bi,i.placeholder,r,_,I,c,l,f-p)}var O=h?r:this,S=v?O[e]:e;return p=_.length,c?_=Do(_,c):g&&p>1&&_.reverse(),d&&l<p&&(_.length=l),this&&this!==dt&&this instanceof i&&(S=m||Fi(S)),S.apply(O,_)}}function $i(e,t){return function(n,r){return function(e,t,n,r){return Tr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Gi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ci(n),r=ci(r)),o=e(n,r)}return o}}function qi(e){return ro((function(t){return t=Ut(t,Xt(co())),Xr((function(n){var r=this;return e(t,(function(e){return St(e,r,n)}))}))}))}function Yi(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Jr(t,e):t;var r=Jr(t,ht(e/dn(t)));return sn(t)?bi(hn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,r,o){return o&&"number"!=typeof o&&To(t,r,o)&&(r=o=i),t=vs(t),r===i?(r=t,t=0):r=vs(r),function(e,t,r,i){for(var o=-1,a=_n(ht((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:vs(o),e)}}function Ki(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ms(t),n=ms(n)),e(t,n)}}function zi(e,t,n,r,o,a,s,u,p,f){var d=8&t;t|=d?c:l,4&(t&=~(d?l:c))||(t&=-4);var h=[e,t,o,d?a:i,d?s:i,d?i:a,d?i:s,u,p,f],v=n.apply(i,h);return Io(e)&&Co(v,h),v.placeholder=r,Lo(v,e,t)}function Wi(e){var t=Se[e];return function(e,n){if(e=ms(e),(n=null==n?0:En(ys(n),292))&&Ft(e)){var r=(Es(e)+"e").split("e");return+((r=(Es(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ji=Rn&&1/pn(new Rn([,-0]))[1]==d?function(e){return new Rn(e)}:lu;function Xi(e){return function(t){var n=yo(t);return n==S?un(t):n==D?fn(t):function(e,t){return Ut(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zi(e,t,r,a,d,h,v,y){var g=2&t;if(!g&&"function"!=typeof e)throw new Ae(o);var m=a?a.length:0;if(m||(t&=-97,a=d=i),v=v===i?v:_n(ys(v),0),y=y===i?y:ys(y),m-=d?d.length:0,t&l){var _=a,E=d;a=d=i}var T=g?i:ao(e),b=[e,t,r,a,d,_,E,h,v,y];if(T&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==p&&8==n||r==p&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Ri(c,u,t[4]):u,e[4]=c?ln(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ai(c,u,t[6]):u,e[6]=c?ln(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&p&&(e[8]=null==e[8]?t[8]:En(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(b,T),e=b[0],t=b[1],r=b[2],a=b[3],d=b[4],!(y=b[9]=b[9]===i?g?0:e.length:_n(b[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)I=8==t||t==u?function(e,t,r){var o=Fi(e);return function a(){for(var s=arguments.length,u=n(s),c=s,l=uo(a);c--;)u[c]=arguments[c];var p=s<3&&u[0]!==l&&u[s-1]!==l?[]:ln(u,l);return(s-=p.length)<r?zi(e,t,Bi,a.placeholder,i,u,p,i,i,r-s):St(this&&this!==dt&&this instanceof a?o:e,this,u)}}(e,t,y):t!=c&&33!=t||d.length?Bi.apply(i,b):function(e,t,r,i){var o=1&t,a=Fi(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,p=n(l+u),f=this&&this!==dt&&this instanceof t?a:e;++c<l;)p[c]=i[c];for(;u--;)p[c++]=arguments[++s];return St(f,o?r:this,p)}}(e,t,r,a);else var I=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Lo((T?ti:Co)(I,b),e,t)}function Qi(e,t,n,r){return e===i||$a(e,Ce[n])&&!Le.call(r,n)?t:e}function eo(e,t,n,r,o,a){return ns(e)&&ns(t)&&(a.set(t,e),Gr(e,t,i,eo,a),a.delete(t)),e}function to(e){return as(e)?i:e}function no(e,t,n,r,o,a){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),p=a.get(t);if(l&&p)return l==t&&p==e;var f=-1,d=!0,h=2&n?new Wn:i;for(a.set(e,t),a.set(t,e);++f<u;){var v=e[f],y=t[f];if(r)var g=s?r(y,v,f,t,e,a):r(v,y,f,e,t,a);if(g!==i){if(g)continue;d=!1;break}if(h){if(!Mt(t,(function(e,t){if(!Qt(h,t)&&(v===e||o(v,e,n,r,a)))return h.push(t)}))){d=!1;break}}else if(v!==y&&!o(v,y,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function ro(e){return xo(Ro(e,i,Ko),e+"")}function io(e){return Sr(e,Us,ho)}function oo(e){return Sr(e,xs,vo)}var ao=kn?function(e){return kn.get(e)}:lu;function so(e){for(var t=e.name+"",n=Cn[t],r=Le.call(Cn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Le.call(Bn,"placeholder")?Bn:e).placeholder}function co(){var e=Bn.iteratee||au;return e=e===au?Pr:e,arguments.length?e(arguments[0],arguments[1]):e}function lo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function po(e){for(var t=Us(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,No(i)]}return t}function fo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var ho=gt?function(e){return null==e?[]:(e=Ne(e),Dt(gt(e),(function(t){return ze.call(e,t)})))}:gu,vo=gt?function(e){for(var t=[];e;)xt(t,ho(e)),e=He(e);return t}:gu,yo=Nr;function go(e,t,n){for(var r=-1,i=(t=Ei(t,e)).length,o=!1;++r<i;){var a=jo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ts(i)&&Eo(a,i)&&(Ha(e)||Ya(e))}function mo(e){return"function"!=typeof e.constructor||So(e)?{}:$n(He(e))}function _o(e){return Ha(e)||Ya(e)||!!(Je&&e&&e[Je])}function Eo(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&Ee.test(e))&&e>-1&&e%1==0&&e<t}function To(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?za(n)&&Eo(t,n.length):"string"==r&&t in n)&&$a(n[t],e)}function bo(e,t){if(Ha(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ne(t))}function Io(e){var t=so(e),n=Bn[t];if("function"!=typeof n||!(t in Yn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(Sn&&yo(new Sn(new ArrayBuffer(1)))!=L||Nn&&yo(new Nn)!=S||wn&&yo(wn.resolve())!=R||Rn&&yo(new Rn)!=D||An&&yo(new An)!=U)&&(yo=function(e){var t=Nr(e),n=t==w?e.constructor:i,r=n?Vo(n):"";if(r)switch(r){case Un:return L;case xn:return S;case Ln:return R;case Pn:return D;case Mn:return U}return t});var Oo=Ue?Qa:mu;function So(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ce)}function No(e){return e===e&&!ns(e)}function wo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ne(n)))}}function Ro(e,t,r){return t=_n(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=_n(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),St(e,this,u)}}function Ao(e,t){return t.length<2?e:Or(e,ii(t,0,-1))}function Do(e,t){for(var n=e.length,r=En(t.length,n),o=Di(e);r--;){var a=t[r];e[r]=Eo(a,n)?o[a]:i}return e}function ko(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Co=Po(ti),Uo=ft||function(e,t){return dt.setTimeout(e,t)},xo=Po(ni);function Lo(e,t,n){var r=t+"";return xo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return wt(g,(function(n){var r="_."+n[0];t&n[1]&&!kt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function Po(e){var t=0,n=0;return function(){var r=Tn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Mo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Wr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Fo=function(e){var t=Pa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function jo(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Vo(e){if(null!=e){try{return xe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Bo(e){if(e instanceof Yn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Di(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $o=Xr((function(e,t){return Wa(e)?fr(e,mr(t,1,Wa,!0)):[]})),Go=Xr((function(e,t){var n=Zo(t);return Wa(n)&&(n=i),Wa(e)?fr(e,mr(t,1,Wa,!0),co(n,2)):[]})),qo=Xr((function(e,t){var n=Zo(t);return Wa(n)&&(n=i),Wa(e)?fr(e,mr(t,1,Wa,!0),i,n):[]}));function Yo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=_n(r+i,0)),Vt(e,co(t,3),i)}function Ho(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ys(n),o=n<0?_n(r+o,0):En(o,r-1)),Vt(e,co(t,3),o,!0)}function Ko(e){return(null==e?0:e.length)?mr(e,1):[]}function zo(e){return e&&e.length?e[0]:i}var Wo=Xr((function(e){var t=Ut(e,mi);return t.length&&t[0]===e[0]?Dr(t):[]})),Jo=Xr((function(e){var t=Zo(e),n=Ut(e,mi);return t===Zo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Dr(n,co(t,2)):[]})),Xo=Xr((function(e){var t=Zo(e),n=Ut(e,mi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Dr(n,i,t):[]}));function Zo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Qo=Xr(ea);function ea(e,t){return e&&e.length&&t&&t.length?Kr(e,t):e}var ta=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return zr(e,Ut(t,(function(e){return Eo(e,n)?+e:e})).sort(wi)),r}));function na(e){return null==e?e:On.call(e)}var ra=Xr((function(e){return pi(mr(e,1,Wa,!0))})),ia=Xr((function(e){var t=Zo(e);return Wa(t)&&(t=i),pi(mr(e,1,Wa,!0),co(t,2))})),oa=Xr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,pi(mr(e,1,Wa,!0),i,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Wa(e))return t=_n(e.length,t),!0})),Wt(t,(function(t){return Ut(e,Yt(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:Ut(n,(function(e){return St(t,i,e)}))}var ua=Xr((function(e,t){return Wa(e)?fr(e,t):[]})),ca=Xr((function(e){return yi(Dt(e,Wa))})),la=Xr((function(e){var t=Zo(e);return Wa(t)&&(t=i),yi(Dt(e,Wa),co(t,2))})),pa=Xr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,yi(Dt(e,Wa),i,t)})),fa=Xr(aa);var da=Xr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,sa(e,n)}));function ha(e){var t=Bn(e);return t.__chain__=!0,t}function va(e,t){return t(e)}var ya=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Yn&&Eo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:va,args:[o],thisArg:i}),new qn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ga=Ci((function(e,t,n){Le.call(e,n)?++e[n]:ar(e,n,1)}));var ma=ji(Yo),_a=ji(Ho);function Ea(e,t){return(Ha(e)?wt:dr)(e,co(t,3))}function Ta(e,t){return(Ha(e)?Rt:hr)(e,co(t,3))}var ba=Ci((function(e,t,n){Le.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Ia=Xr((function(e,t,r){var i=-1,o="function"==typeof t,a=za(e)?n(e.length):[];return dr(e,(function(e){a[++i]=o?St(t,e,r):kr(e,t,r)})),a})),Oa=Ci((function(e,t,n){ar(e,n,t)}));function Sa(e,t){return(Ha(e)?Ut:Vr)(e,co(t,3))}var Na=Ci((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var wa=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&To(e,t[0],t[1])?t=[]:n>2&&To(t[0],t[1],t[2])&&(t=[t[0]]),Yr(e,mr(t,1),[])})),Ra=pt||function(){return dt.Date.now()};function Aa(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Zi(e,p,i,i,i,i,t)}function Da(e,t){var n;if("function"!=typeof t)throw new Ae(o);return e=ys(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var ka=Xr((function(e,t,n){var r=1;if(n.length){var i=ln(n,uo(ka));r|=c}return Zi(e,r,t,n,i)})),Ca=Xr((function(e,t,n){var r=3;if(n.length){var i=ln(n,uo(Ca));r|=c}return Zi(t,r,e,n,i)}));function Ua(e,t,n){var r,a,s,u,c,l,p=0,f=!1,d=!1,h=!0;if("function"!=typeof e)throw new Ae(o);function v(t){var n=r,o=a;return r=a=i,p=t,u=e.apply(o,n)}function y(e){return p=e,c=Uo(m,t),f?v(e):u}function g(e){var n=e-l;return l===i||n>=t||n<0||d&&e-p>=s}function m(){var e=Ra();if(g(e))return _(e);c=Uo(m,function(e){var n=t-(e-l);return d?En(n,s-(e-p)):n}(e))}function _(e){return c=i,h&&r?v(e):(r=a=i,u)}function E(){var e=Ra(),n=g(e);if(r=arguments,a=this,l=e,n){if(c===i)return y(l);if(d)return Ii(c),c=Uo(m,t),v(l)}return c===i&&(c=Uo(m,t)),u}return t=ms(t)||0,ns(n)&&(f=!!n.leading,s=(d="maxWait"in n)?_n(ms(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),E.cancel=function(){c!==i&&Ii(c),p=0,r=l=a=c=i},E.flush=function(){return c===i?u:_(Ra())},E}var xa=Xr((function(e,t){return pr(e,1,t)})),La=Xr((function(e,t,n){return pr(e,ms(t)||0,n)}));function Pa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Pa.Cache||zn),n}function Ma(e){if("function"!=typeof e)throw new Ae(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Pa.Cache=zn;var Fa=Ti((function(e,t){var n=(t=1==t.length&&Ha(t[0])?Ut(t[0],Xt(co())):Ut(mr(t,1),Xt(co()))).length;return Xr((function(r){for(var i=-1,o=En(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return St(e,this,r)}))})),ja=Xr((function(e,t){var n=ln(t,uo(ja));return Zi(e,c,i,t,n)})),Va=Xr((function(e,t){var n=ln(t,uo(Va));return Zi(e,l,i,t,n)})),Ba=ro((function(e,t){return Zi(e,f,i,i,i,t)}));function $a(e,t){return e===t||e!==e&&t!==t}var Ga=Ki(wr),qa=Ki((function(e,t){return e>=t})),Ya=Cr(function(){return arguments}())?Cr:function(e){return rs(e)&&Le.call(e,"callee")&&!ze.call(e,"callee")},Ha=n.isArray,Ka=_t?Xt(_t):function(e){return rs(e)&&Nr(e)==x};function za(e){return null!=e&&ts(e.length)&&!Qa(e)}function Wa(e){return rs(e)&&za(e)}var Ja=mt||mu,Xa=Et?Xt(Et):function(e){return rs(e)&&Nr(e)==T};function Za(e){if(!rs(e))return!1;var t=Nr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Qa(e){if(!ns(e))return!1;var t=Nr(e);return t==I||t==O||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==ys(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var is=Tt?Xt(Tt):function(e){return rs(e)&&yo(e)==S};function os(e){return"number"==typeof e||rs(e)&&Nr(e)==N}function as(e){if(!rs(e)||Nr(e)!=w)return!1;var t=He(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==je}var ss=bt?Xt(bt):function(e){return rs(e)&&Nr(e)==A};var us=It?Xt(It):function(e){return rs(e)&&yo(e)==D};function cs(e){return"string"==typeof e||!Ha(e)&&rs(e)&&Nr(e)==k}function ls(e){return"symbol"==typeof e||rs(e)&&Nr(e)==C}var ps=Ot?Xt(Ot):function(e){return rs(e)&&ts(e.length)&&!!at[Nr(e)]};var fs=Ki(jr),ds=Ki((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(za(e))return cs(e)?hn(e):Di(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=yo(e);return(t==S?un:t==D?pn:$s)(e)}function vs(e){return e?(e=ms(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ys(e){var t=vs(e),n=t%1;return t===t?n?t-n:t:0}function gs(e){return e?ur(ys(e),0,y):0}function ms(e){if("number"==typeof e)return e;if(ls(e))return v;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=ge.test(e);return n||_e.test(e)?lt(e.slice(2),n?2:8):ye.test(e)?v:+e}function _s(e){return ki(e,xs(e))}function Es(e){return null==e?"":li(e)}var Ts=Ui((function(e,t){if(So(t)||za(t))ki(t,Us(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),bs=Ui((function(e,t){ki(t,xs(t),e)})),Is=Ui((function(e,t,n,r){ki(t,xs(t),e,r)})),Os=Ui((function(e,t,n,r){ki(t,Us(t),e,r)})),Ss=ro(sr);var Ns=Xr((function(e,t){e=Ne(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&To(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=xs(a),u=-1,c=s.length;++u<c;){var l=s[u],p=e[l];(p===i||$a(p,Ce[l])&&!Le.call(e,l))&&(e[l]=a[l])}return e})),ws=Xr((function(e){return e.push(i,eo),St(Ps,i,e)}));function Rs(e,t,n){var r=null==e?i:Or(e,t);return r===i?n:r}function As(e,t){return null!=e&&go(e,t,Ar)}var Ds=$i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),nu(ou)),ks=$i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),co),Cs=Xr(kr);function Us(e){return za(e)?Xn(e):Mr(e)}function xs(e){return za(e)?Xn(e,!0):Fr(e)}var Ls=Ui((function(e,t,n){Gr(e,t,n)})),Ps=Ui((function(e,t,n,r){Gr(e,t,n,r)})),Ms=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ut(t,(function(t){return t=Ei(t,e),r||(r=t.length>1),t})),ki(e,oo(e),n),r&&(n=cr(n,7,to));for(var i=t.length;i--;)fi(n,t[i]);return n}));var Fs=ro((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function js(e,t){if(null==e)return{};var n=Ut(oo(e),(function(e){return[e]}));return t=co(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Vs=Xi(Us),Bs=Xi(xs);function $s(e){return null==e?[]:Zt(e,Us(e))}var Gs=Mi((function(e,t,n){return t=t.toLowerCase(),e+(n?qs(t):t)}));function qs(e){return Zs(Es(e).toLowerCase())}function Ys(e){return(e=Es(e))&&e.replace(Te,rn).replace(Qe,"")}var Hs=Mi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ks=Mi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),zs=Pi("toLowerCase");var Ws=Mi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Js=Mi((function(e,t,n){return e+(n?" ":"")+Zs(t)}));var Xs=Mi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Zs=Pi("toUpperCase");function Qs(e,t,n){return e=Es(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(pe)||[]}(e):e.match(t)||[]}var eu=Xr((function(e,t){try{return St(e,i,t)}catch(n){return Za(n)?n:new se(n)}})),tu=ro((function(e,t){return wt(t,(function(t){t=jo(t),ar(e,t,ka(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=Vi(),iu=Vi(!0);function ou(e){return e}function au(e){return Pr("function"==typeof e?e:cr(e,1))}var su=Xr((function(e,t){return function(n){return kr(n,e,t)}})),uu=Xr((function(e,t){return function(n){return kr(e,n,t)}}));function cu(e,t,n){var r=Us(t),i=Ir(t,r);null!=n||ns(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Ir(t,Us(t)));var o=!(ns(n)&&"chain"in n)||!!n.chain,a=Qa(e);return wt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Di(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,xt([this.value()],arguments))})})),e}function lu(){}var pu=qi(Ut),fu=qi(At),du=qi(Mt);function hu(e){return bo(e)?Yt(jo(e)):function(e){return function(t){return Or(t,e)}}(e)}var vu=Hi(),yu=Hi(!0);function gu(){return[]}function mu(){return!1}var _u=Gi((function(e,t){return e+t}),0),Eu=Wi("ceil"),Tu=Gi((function(e,t){return e/t}),1),bu=Wi("floor");var Iu=Gi((function(e,t){return e*t}),1),Ou=Wi("round"),Su=Gi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Ae(o);return e=ys(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Aa,Bn.assign=Ts,Bn.assignIn=bs,Bn.assignInWith=Is,Bn.assignWith=Os,Bn.at=Ss,Bn.before=Da,Bn.bind=ka,Bn.bindAll=tu,Bn.bindKey=Ca,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ha(e)?e:[e]},Bn.chain=ha,Bn.chunk=function(e,t,r){t=(r?To(e,t,r):t===i)?1:_n(ys(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=n(ht(o/t));a<o;)u[s++]=ii(e,a,a+=t);return u},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return xt(Ha(r)?Di(r):[r],mr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=co();return e=t?Ut(e,(function(e){if("function"!=typeof e[1])throw new Ae(o);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if(St(i[0],this,n))return St(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Us(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Bn.constant=nu,Bn.countBy=ga,Bn.create=function(e,t){var n=$n(e);return null==t?n:or(n,t)},Bn.curry=function e(t,n,r){var o=Zi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.curryRight=function e(t,n,r){var o=Zi(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.debounce=Ua,Bn.defaults=Ns,Bn.defaultsDeep=ws,Bn.defer=xa,Bn.delay=La,Bn.difference=$o,Bn.differenceBy=Go,Bn.differenceWith=qo,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:ys(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:ys(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?hi(e,co(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?hi(e,co(t,3),!0):[]},Bn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&To(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ys(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ys(r))<0&&(r+=o),r=n>r?0:gs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Ha(e)?Dt:gr)(e,co(t,3))},Bn.flatMap=function(e,t){return mr(Sa(e,t),1)},Bn.flatMapDeep=function(e,t){return mr(Sa(e,t),d)},Bn.flatMapDepth=function(e,t,n){return n=n===i?1:ys(n),mr(Sa(e,t),n)},Bn.flatten=Ko,Bn.flattenDeep=function(e){return(null==e?0:e.length)?mr(e,d):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?mr(e,t=t===i?1:ys(t)):[]},Bn.flip=function(e){return Zi(e,512)},Bn.flow=ru,Bn.flowRight=iu,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:Ir(e,Us(e))},Bn.functionsIn=function(e){return null==e?[]:Ir(e,xs(e))},Bn.groupBy=ba,Bn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Bn.intersection=Wo,Bn.intersectionBy=Jo,Bn.intersectionWith=Xo,Bn.invert=Ds,Bn.invertBy=ks,Bn.invokeMap=Ia,Bn.iteratee=au,Bn.keyBy=Oa,Bn.keys=Us,Bn.keysIn=xs,Bn.map=Sa,Bn.mapKeys=function(e,t){var n={};return t=co(t,3),Tr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=co(t,3),Tr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(cr(e,1))},Bn.matchesProperty=function(e,t){return $r(e,cr(t,1))},Bn.memoize=Pa,Bn.merge=Ls,Bn.mergeWith=Ps,Bn.method=su,Bn.methodOf=uu,Bn.mixin=cu,Bn.negate=Ma,Bn.nthArg=function(e){return e=ys(e),Xr((function(t){return qr(t,e)}))},Bn.omit=Ms,Bn.omitBy=function(e,t){return js(e,Ma(co(t)))},Bn.once=function(e){return Da(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Ha(t)||(t=null==t?[]:[t]),Ha(n=r?i:n)||(n=null==n?[]:[n]),Yr(e,t,n))},Bn.over=pu,Bn.overArgs=Fa,Bn.overEvery=fu,Bn.overSome=du,Bn.partial=ja,Bn.partialRight=Va,Bn.partition=Na,Bn.pick=Fs,Bn.pickBy=js,Bn.property=hu,Bn.propertyOf=function(e){return function(t){return null==e?i:Or(e,t)}},Bn.pull=Qo,Bn.pullAll=ea,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,co(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,i,n):e},Bn.pullAt=ta,Bn.range=vu,Bn.rangeRight=yu,Bn.rearg=Ba,Bn.reject=function(e,t){return(Ha(e)?Dt:gr)(e,Ma(co(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=co(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return zr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Ae(o);return Xr(e,t=t===i?t:ys(t))},Bn.reverse=na,Bn.sampleSize=function(e,t,n){return t=(n?To(e,t,n):t===i)?1:ys(t),(Ha(e)?Qn:Qr)(e,t)},Bn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Bn.shuffle=function(e){return(Ha(e)?er:ri)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&To(e,t,n)?(t=0,n=r):(t=null==t?0:ys(t),n=n===i?r:ys(n)),ii(e,t,n)):[]},Bn.sortBy=wa,Bn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,co(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&To(e,t,n)&&(t=n=i),(n=n===i?y:n>>>0)?(e=Es(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=li(t))&&sn(e)?bi(hn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Ae(o);return t=null==t?0:_n(ys(t),0),Xr((function(n){var r=n[t],i=bi(n,0,t);return r&&xt(i,r),St(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:ys(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:ys(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?hi(e,co(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?hi(e,co(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ae(o);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ua(e,t,{leading:r,maxWait:t,trailing:i})},Bn.thru=va,Bn.toArray=hs,Bn.toPairs=Vs,Bn.toPairsIn=Bs,Bn.toPath=function(e){return Ha(e)?Ut(e,jo):ls(e)?[e]:Di(Fo(Es(e)))},Bn.toPlainObject=_s,Bn.transform=function(e,t,n){var r=Ha(e),i=r||Ja(e)||ps(e);if(t=co(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ns(e)&&Qa(o)?$n(He(e)):{}}return(i?wt:Tr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return Aa(e,1)},Bn.union=ra,Bn.unionBy=ia,Bn.unionWith=oa,Bn.uniq=function(e){return e&&e.length?pi(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?pi(e,co(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?pi(e,i,t):[]},Bn.unset=function(e,t){return null==e||fi(e,t)},Bn.unzip=aa,Bn.unzipWith=sa,Bn.update=function(e,t,n){return null==e?e:di(e,t,_i(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,_i(n),r)},Bn.values=$s,Bn.valuesIn=function(e){return null==e?[]:Zt(e,xs(e))},Bn.without=ua,Bn.words=Qs,Bn.wrap=function(e,t){return ja(_i(t),e)},Bn.xor=ca,Bn.xorBy=la,Bn.xorWith=pa,Bn.zip=fa,Bn.zipObject=function(e,t){return gi(e||[],t||[],nr)},Bn.zipObjectDeep=function(e,t){return gi(e||[],t||[],ei)},Bn.zipWith=da,Bn.entries=Vs,Bn.entriesIn=Bs,Bn.extend=bs,Bn.extendWith=Is,cu(Bn,Bn),Bn.add=_u,Bn.attempt=eu,Bn.camelCase=Gs,Bn.capitalize=qs,Bn.ceil=Eu,Bn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ms(n))===n?n:0),t!==i&&(t=(t=ms(t))===t?t:0),ur(ms(e),t,n)},Bn.clone=function(e){return cr(e,4)},Bn.cloneDeep=function(e){return cr(e,5)},Bn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Bn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Bn.conformsTo=function(e,t){return null==t||lr(e,t,Us(t))},Bn.deburr=Ys,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=Tu,Bn.endsWith=function(e,t,n){e=Es(e),t=li(t);var r=e.length,o=n=n===i?r:ur(ys(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Bn.eq=$a,Bn.escape=function(e){return(e=Es(e))&&X.test(e)?e.replace(W,on):e},Bn.escapeRegExp=function(e){return(e=Es(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Bn.every=function(e,t,n){var r=Ha(e)?At:vr;return n&&To(e,t,n)&&(t=i),r(e,co(t,3))},Bn.find=ma,Bn.findIndex=Yo,Bn.findKey=function(e,t){return jt(e,co(t,3),Tr)},Bn.findLast=_a,Bn.findLastIndex=Ho,Bn.findLastKey=function(e,t){return jt(e,co(t,3),br)},Bn.floor=bu,Bn.forEach=Ea,Bn.forEachRight=Ta,Bn.forIn=function(e,t){return null==e?e:_r(e,co(t,3),xs)},Bn.forInRight=function(e,t){return null==e?e:Er(e,co(t,3),xs)},Bn.forOwn=function(e,t){return e&&Tr(e,co(t,3))},Bn.forOwnRight=function(e,t){return e&&br(e,co(t,3))},Bn.get=Rs,Bn.gt=Ga,Bn.gte=qa,Bn.has=function(e,t){return null!=e&&go(e,t,Rr)},Bn.hasIn=As,Bn.head=zo,Bn.identity=ou,Bn.includes=function(e,t,n,r){e=za(e)?e:$s(e),n=n&&!r?ys(n):0;var i=e.length;return n<0&&(n=_n(i+n,0)),cs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Bt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=_n(r+i,0)),Bt(e,t,i)},Bn.inRange=function(e,t,n){return t=vs(t),n===i?(n=t,t=0):n=vs(n),function(e,t,n){return e>=En(t,n)&&e<_n(t,n)}(e=ms(e),t,n)},Bn.invoke=Cs,Bn.isArguments=Ya,Bn.isArray=Ha,Bn.isArrayBuffer=Ka,Bn.isArrayLike=za,Bn.isArrayLikeObject=Wa,Bn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Nr(e)==E},Bn.isBuffer=Ja,Bn.isDate=Xa,Bn.isElement=function(e){return rs(e)&&1===e.nodeType&&!as(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(za(e)&&(Ha(e)||"string"==typeof e||"function"==typeof e.splice||Ja(e)||ps(e)||Ya(e)))return!e.length;var t=yo(e);if(t==S||t==D)return!e.size;if(So(e))return!Mr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Ur(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Ur(e,t,i,n):!!r},Bn.isError=Za,Bn.isFinite=function(e){return"number"==typeof e&&Ft(e)},Bn.isFunction=Qa,Bn.isInteger=es,Bn.isLength=ts,Bn.isMap=is,Bn.isMatch=function(e,t){return e===t||xr(e,t,po(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,xr(e,t,po(t),n)},Bn.isNaN=function(e){return os(e)&&e!=+e},Bn.isNative=function(e){if(Oo(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=os,Bn.isObject=ns,Bn.isObjectLike=rs,Bn.isPlainObject=as,Bn.isRegExp=ss,Bn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=h},Bn.isSet=us,Bn.isString=cs,Bn.isSymbol=ls,Bn.isTypedArray=ps,Bn.isUndefined=function(e){return e===i},Bn.isWeakMap=function(e){return rs(e)&&yo(e)==U},Bn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Nr(e)},Bn.join=function(e,t){return null==e?"":Ht.call(e,t)},Bn.kebabCase=Hs,Bn.last=Zo,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ys(n))<0?_n(r+o,0):En(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Vt(e,Gt,o,!0)},Bn.lowerCase=Ks,Bn.lowerFirst=zs,Bn.lt=fs,Bn.lte=ds,Bn.max=function(e){return e&&e.length?yr(e,ou,wr):i},Bn.maxBy=function(e,t){return e&&e.length?yr(e,co(t,2),wr):i},Bn.mean=function(e){return qt(e,ou)},Bn.meanBy=function(e,t){return qt(e,co(t,2))},Bn.min=function(e){return e&&e.length?yr(e,ou,jr):i},Bn.minBy=function(e,t){return e&&e.length?yr(e,co(t,2),jr):i},Bn.stubArray=gu,Bn.stubFalse=mu,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=Iu,Bn.nth=function(e,t){return e&&e.length?qr(e,ys(t)):i},Bn.noConflict=function(){return dt._===this&&(dt._=Ve),this},Bn.noop=lu,Bn.now=Ra,Bn.pad=function(e,t,n){e=Es(e);var r=(t=ys(t))?dn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Yi(vt(i),n)+e+Yi(ht(i),n)},Bn.padEnd=function(e,t,n){e=Es(e);var r=(t=ys(t))?dn(e):0;return t&&r<t?e+Yi(t-r,n):e},Bn.padStart=function(e,t,n){e=Es(e);var r=(t=ys(t))?dn(e):0;return t&&r<t?Yi(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bn(Es(e).replace(ae,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&To(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vs(e),t===i?(t=e,e=0):t=vs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=In();return En(e+o*(t-e+ct("1e-"+((o+"").length-1))),t)}return Wr(e,t)},Bn.reduce=function(e,t,n){var r=Ha(e)?Lt:Kt,i=arguments.length<3;return r(e,co(t,4),n,i,dr)},Bn.reduceRight=function(e,t,n){var r=Ha(e)?Pt:Kt,i=arguments.length<3;return r(e,co(t,4),n,i,hr)},Bn.repeat=function(e,t,n){return t=(n?To(e,t,n):t===i)?1:ys(t),Jr(Es(e),t)},Bn.replace=function(){var e=arguments,t=Es(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,o=(t=Ei(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[jo(t[r])];a===i&&(r=o,a=n),e=Qa(a)?a.call(e):a}return e},Bn.round=Ou,Bn.runInContext=e,Bn.sample=function(e){return(Ha(e)?Zn:Zr)(e)},Bn.size=function(e){if(null==e)return 0;if(za(e))return cs(e)?dn(e):e.length;var t=yo(e);return t==S||t==D?e.size:Mr(e).length},Bn.snakeCase=Ws,Bn.some=function(e,t,n){var r=Ha(e)?Mt:oi;return n&&To(e,t,n)&&(t=i),r(e,co(t,3))},Bn.sortedIndex=function(e,t){return ai(e,t)},Bn.sortedIndexBy=function(e,t,n){return si(e,t,co(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&$a(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return si(e,t,co(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if($a(e[n],t))return n}return-1},Bn.startCase=Js,Bn.startsWith=function(e,t,n){return e=Es(e),n=null==n?0:ur(ys(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Bn.subtract=Su,Bn.sum=function(e){return e&&e.length?zt(e,ou):0},Bn.sumBy=function(e,t){return e&&e.length?zt(e,co(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&To(e,t,n)&&(t=i),e=Es(e),t=Is({},t,r,Qi);var o,a,s=Is({},t.imports,r.imports,Qi),u=Us(s),c=Zt(s,u),l=0,p=t.interpolate||be,f="__p += '",d=we((t.escape||be).source+"|"+p.source+"|"+(p===ee?he:be).source+"|"+(t.evaluate||be).source+"|$","g"),h="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(d,(function(t,n,r,i,s,u){return r||(r=i),f+=e.slice(l,u).replace(Ie,an),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),f+="';\n";var v=Le.call(t,"variable")&&t.variable;if(v){if(fe.test(v))throw new se("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(Y,""):f).replace(H,"$1").replace(K,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=eu((function(){return Oe(u,h+"return "+f).apply(i,c)}));if(y.source=f,Za(y))throw y;return y},Bn.times=function(e,t){if((e=ys(e))<1||e>h)return[];var n=y,r=En(e,y);t=co(t),e-=y;for(var i=Wt(r,t);++n<e;)t(n);return i},Bn.toFinite=vs,Bn.toInteger=ys,Bn.toLength=gs,Bn.toLower=function(e){return Es(e).toLowerCase()},Bn.toNumber=ms,Bn.toSafeInteger=function(e){return e?ur(ys(e),-9007199254740991,h):0===e?e:0},Bn.toString=Es,Bn.toUpper=function(e){return Es(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=Es(e))&&(n||t===i))return Jt(e);if(!e||!(t=li(t)))return e;var r=hn(e),o=hn(t);return bi(r,en(r,o),tn(r,o)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=Es(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=li(t)))return e;var r=hn(e);return bi(r,0,tn(r,hn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=Es(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=li(t)))return e;var r=hn(e);return bi(r,en(r,hn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(ns(t)){var o="separator"in t?t.separator:o;n="length"in t?ys(t.length):n,r="omission"in t?li(t.omission):r}var a=(e=Es(e)).length;if(sn(e)){var s=hn(e);a=s.length}if(n>=a)return e;var u=n-dn(r);if(u<1)return r;var c=s?bi(s,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(s&&(u+=c.length-u),ss(o)){if(e.slice(u).search(o)){var l,p=c;for(o.global||(o=we(o.source,Es(ve.exec(o))+"g")),o.lastIndex=0;l=o.exec(p);)var f=l.index;c=c.slice(0,f===i?u:f)}}else if(e.indexOf(li(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+r},Bn.unescape=function(e){return(e=Es(e))&&J.test(e)?e.replace(z,yn):e},Bn.uniqueId=function(e){var t=++Pe;return Es(e)+t},Bn.upperCase=Xs,Bn.upperFirst=Zs,Bn.each=Ea,Bn.eachRight=Ta,Bn.first=zo,cu(Bn,function(){var e={};return Tr(Bn,(function(t,n){Le.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",wt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),wt(["drop","take"],(function(e,t){Yn.prototype[e]=function(n){n=n===i?1:_n(ys(n),0);var r=this.__filtered__&&!t?new Yn(this):this.clone();return r.__filtered__?r.__takeCount__=En(n,r.__takeCount__):r.__views__.push({size:En(n,y),type:e+(r.__dir__<0?"Right":"")}),r},Yn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),wt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Yn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),wt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Yn.prototype[e]=function(){return this[n](1).value()[0]}})),wt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Yn.prototype[e]=function(){return this.__filtered__?new Yn(this):this[n](1)}})),Yn.prototype.compact=function(){return this.filter(ou)},Yn.prototype.find=function(e){return this.filter(e).head()},Yn.prototype.findLast=function(e){return this.reverse().find(e)},Yn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Yn(this):this.map((function(n){return kr(n,e,t)}))})),Yn.prototype.reject=function(e){return this.filter(Ma(co(e)))},Yn.prototype.slice=function(e,t){e=ys(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Yn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ys(t))<0?n.dropRight(-t):n.take(t-e)),n)},Yn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Yn.prototype.toArray=function(){return this.take(y)},Tr(Yn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Bn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Bn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Yn,c=s[0],l=u||Ha(t),p=function(e){var t=o.apply(Bn,xt([e],s));return r&&f?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,d=!!this.__actions__.length,h=a&&!f,v=u&&!d;if(!a&&l){t=v?t:new Yn(this);var y=e.apply(t,s);return y.__actions__.push({func:va,args:[p],thisArg:i}),new qn(y,f)}return h&&v?e.apply(this,s):(y=this.thru(p),h?r?y.value()[0]:y.value():y)})})),wt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=De[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ha(i)?i:[],e)}return this[n]((function(n){return t.apply(Ha(n)?n:[],e)}))}})),Tr(Yn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Le.call(Cn,r)||(Cn[r]=[]),Cn[r].push({name:t,func:n})}})),Cn[Bi(i,2).name]=[{name:"wrapper",func:i}],Yn.prototype.clone=function(){var e=new Yn(this.__wrapped__);return e.__actions__=Di(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Di(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Di(this.__views__),e},Yn.prototype.reverse=function(){if(this.__filtered__){var e=new Yn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Yn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ha(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=En(t,e+a);break;case"takeRight":e=_n(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,p=l.length,f=0,d=En(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return vi(e,this.__actions__);var h=[];e:for(;u--&&f<d;){for(var v=-1,y=e[c+=t];++v<p;){var g=l[v],m=g.iteratee,_=g.type,E=m(y);if(2==_)y=E;else if(!E){if(1==_)continue e;break e}}h[f++]=y}return h},Bn.prototype.at=ya,Bn.prototype.chain=function(){return ha(this)},Bn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof Gn;){var r=Bo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Yn){var t=e;return this.__actions__.length&&(t=new Yn(this)),(t=t.reverse()).__actions__.push({func:va,args:[na],thisArg:i}),new qn(t,this.__chain__)}return this.thru(na)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Xe&&(Bn.prototype[Xe]=function(){return this}),Bn}();dt._=gn,(r=function(){return gn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},58053:function(e){!function(){function t(e,t){var n,r,i,o,a,s,u,c;for(n=3&e.length,r=e.length-n,i=t,a=3432918353,s=461845907,c=0;c<r;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(c)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var n=t;n.v2=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0},n.v3=t,e.exports=n}()},7544:function(e,t,n){e.exports=n(46029)},11752:function(e,t,n){e.exports=n(88027)},83454:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"===typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(77663)},6840:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(73085)}])},51591:function(e,t,n){"use strict";n.d(t,{B$r:function(){return u},_s$:function(){return s},bEp:function(){return c}});var r=n(14251),i=n(52875),o=function(){return window.analytics};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.Z)((0,r.Z)({},e),{context:(0,i.Z)((0,r.Z)({},e.context||{}),{typewriter:{language:"typescript",version:"7.4.1"}})})}function s(e,t,n){var r=o();r&&r.track("Product Added",e||{},a(t),n)}function u(e,t,n){var r=o();r&&r.track("Quantity Updated",e||{},a(t),n)}function c(e,t,n){var r=o();r&&r.track("View Type Selected",e||{},a(t),n)}var l={setTypewriterOptions:function(e){o=e.analytics?function(){return e.analytics||window.analytics}:o},absenteeRegistrationComplete:function(e,t,n){var r=o();r&&r.track("Absentee Registration Complete",e||{},a(t),n)},accountProfileCompleted:function(e,t,n){var r=o();r&&r.track("Account Profile Completed",e||{},a(t),n)},accountProfileUpdateSubmitted:function(e,t,n){var r=o();r&&r.track("Account Profile Update Submitted",e||{},a(t),n)},addToBagClicked:function(e,t,n){var r=o();r&&r.track("Add to Bag Clicked",e||{},a(t),n)},additionalInformationNeeded:function(e,t,n){var r=o();r&&r.track("Additional Information Needed",e||{},a(t),n)},auctionDetailsInteraction:function(e,t,n){var r=o();r&&r.track("Auction Details Interaction",e||{},a(t),n)},auctionDetailsViewed:function(e,t,n){var r=o();r&&r.track("Auction Details Viewed",e||{},a(t),n)},auctionFilterApplied:function(e,t,n){var r=o();r&&r.track("Auction Filter Applied",e||{},a(t),n)},auctionFilterCleared:function(e,t,n){var r=o();r&&r.track("Auction Filter Cleared",e||{},a(t),n)},auctionLandingCarouselClick:function(e,t,n){var r=o();r&&r.track("Auction Landing Carousel Click",e||{},a(t),n)},auctionPageView:function(e,t,n){var r=o();r&&r.track("Auction Page View",e||{},a(t),n)},auctionRegistrationAccountSelected:function(e,t,n){var r=o();r&&r.track("Auction Registration Account Selected",e||{},a(t),n)},auctionRegistrationBiddingMethodSelected:function(e,t,n){var r=o();r&&r.track("Auction Registration Bidding Method Selected",e||{},a(t),n)},auctionRegistrationButtonClicked:function(e,t,n){var r=o();r&&r.track("Auction Registration Button Clicked",e||{},a(t),n)},auctionRegistrationCompleted:function(e,t,n){var r=o();r&&r.track("Auction Registration Completed",e||{},a(t),n)},auctionRegistrationLotsSelected:function(e,t,n){var r=o();r&&r.track("Auction Registration Lots Selected",e||{},a(t),n)},auctionRegistrationPhoneBiddingClicked:function(e,t,n){var r=o();r&&r.track("Auction Registration Phone Bidding Clicked",e||{},a(t),n)},auctionRegistrationPhoneBiddingConfirmed:function(e,t,n){var r=o();r&&r.track("Auction Registration Phone Bidding Confirmed",e||{},a(t),n)},auctionRoomEntered:function(e,t,n){var r=o();r&&r.track("Auction Room Entered",e||{},a(t),n)},auctionRoomInteraction:function(e,t,n){var r=o();r&&r.track("Auction Room Interaction",e||{},a(t),n)},audioPlaybackPaused:function(e,t,n){var r=o();r&&r.track("Audio Playback Paused",e||{},a(t),n)},audioPlaybackStarted:function(e,t,n){var r=o();r&&r.track("Audio Playback Started",e||{},a(t),n)},audioStreamingToggle:function(e,t,n){var r=o();r&&r.track("Audio Streaming Toggle",e||{},a(t),n)},augmentedRealityOpened:function(e,t,n){var r=o();r&&r.track("Augmented Reality Opened",e||{},a(t),n)},authenticated:function(e,t,n){var r=o();r&&r.track("Authenticated",e||{},a(t),n)},biDnowRegistrationComplete:function(e,t,n){var r=o();r&&r.track("BIDnow Registration Complete",e||{},a(t),n)},bidConfirmationInteraction:function(e,t,n){var r=o();r&&r.track("Bid Confirmation Interaction",e||{},a(t),n)},bidPlaced:function(e,t,n){var r=o();r&&r.track("Bid Placed",e||{},a(t),n)},bidStarted:function(e,t,n){var r=o();r&&r.track("Bid Started",e||{},a(t),n)},bidStepCompleted:function(e,t,n){var r=o();r&&r.track("Bid Step Completed",e||{},a(t),n)},carouselClicked:function(e,t,n){var r=o();r&&r.track("Carousel Clicked",e||{},a(t),n)},carouselViewed:function(e,t,n){var r=o();r&&r.track("Carousel Viewed",e||{},a(t),n)},cartViewed:function(e,t,n){var r=o();r&&r.track("Cart Viewed",e||{},a(t),n)},chapterNavigationClicked:function(e,t,n){var r=o();r&&r.track("Chapter Navigation Clicked",e||{},a(t),n)},chapterViewed:function(e,t,n){var r=o();r&&r.track("Chapter Viewed",e||{},a(t),n)},checkoutError:function(e,t,n){var r=o();r&&r.track("Checkout Error",e||{},a(t),n)},checkoutStarted:function(e,t,n){var r=o();r&&r.track("Checkout Started",e||{},a(t),n)},checkoutStepCompleted:function(e,t,n){var r=o();r&&r.track("Checkout Step Completed",e||{},a(t),n)},checkoutStepViewed:function(e,t,n){var r=o();r&&r.track("Checkout Step Viewed",e||{},a(t),n)},clickAction:function(e,t,n){var r=o();r&&r.track("Click Action",e||{},a(t),n)},completeYourProfileClicked:function(e,t,n){var r=o();r&&r.track("Complete Your Profile Clicked",e||{},a(t),n)},conditionsOfSaleViewed:function(e,t,n){var r=o();r&&r.track("Conditions of Sale Viewed",e||{},a(t),n)},confirmEmailAddressRequested:function(e,t,n){var r=o();r&&r.track("Confirm Email Address Requested",e||{},a(t),n)},confirmQuickBidButton:function(e,t,n){var r=o();r&&r.track("Confirm Quick Bid Button",e||{},a(t),n)},consignmentCategorySelected:function(e,t,n){var r=o();r&&r.track("Consignment Category Selected",e||{},a(t),n)},consignmentErrorItemDetails:function(e,t,n){var r=o();r&&r.track("Consignment Error Item Details",e||{},a(t),n)},consignmentErrorPicsDocs:function(e,t,n){var r=o();r&&r.track("Consignment Error Pics & Docs",e||{},a(t),n)},consignmentItemDetails:function(e,t,n){var r=o();r&&r.track("Consignment Item Details",e||{},a(t),n)},consignmentItemDetailsEntered:function(e,t,n){var r=o();r&&r.track("Consignment Item Details Entered",e||{},a(t),n)},consignmentResumed:function(e,t,n){var r=o();r&&r.track("Consignment Resumed",e||{},a(t),n)},consignmentReview:function(e,t,n){var r=o();r&&r.track("Consignment Review",e||{},a(t),n)},consignmentSignInSelected:function(e,t,n){var r=o();r&&r.track("Consignment Sign In Selected",e||{},a(t),n)},consignmentSignUpSelected:function(e,t,n){var r=o();r&&r.track("Consignment Sign Up Selected",e||{},a(t),n)},consignmentStarted:function(e,t,n){var r=o();r&&r.track("Consignment Started",e||{},a(t),n)},consignmentStepCompleted:function(e,t,n){var r=o();r&&r.track("Consignment Step Completed",e||{},a(t),n)},consignmentStepError:function(e,t,n){var r=o();r&&r.track("Consignment Step Error",e||{},a(t),n)},consignmentStepViewed:function(e,t,n){var r=o();r&&r.track("Consignment Step Viewed",e||{},a(t),n)},consignmentSubmit:function(e,t,n){var r=o();r&&r.track("Consignment Submit",e||{},a(t),n)},consignmentSubmitted:function(e,t,n){var r=o();r&&r.track("Consignment Submitted",e||{},a(t),n)},consignmentUploads:function(e,t,n){var r=o();r&&r.track("Consignment Uploads",e||{},a(t),n)},contentCardClicked:function(e,t,n){var r=o();r&&r.track("Content Card Clicked",e||{},a(t),n)},contentHeroClicked:function(e,t,n){var r=o();r&&r.track("Content Hero Clicked",e||{},a(t),n)},continueToConfirmBidButton:function(e,t,n){var r=o();r&&r.track("Continue To Confirm Bid Button",e||{},a(t),n)},costEstimated:function(e,t,n){var r=o();r&&r.track("Cost Estimated",e||{},a(t),n)},costEstimatorError:function(e,t,n){var r=o();r&&r.track("Cost Estimator Error",e||{},a(t),n)},costEstimatorOpened:function(e,t,n){var r=o();r&&r.track("Cost Estimator Opened",e||{},a(t),n)},couponApplied:function(e,t,n){var r=o();r&&r.track("Coupon Applied",e||{},a(t),n)},couponDenied:function(e,t,n){var r=o();r&&r.track("Coupon Denied",e||{},a(t),n)},couponEntered:function(e,t,n){var r=o();r&&r.track("Coupon Entered",e||{},a(t),n)},couponRemoved:function(e,t,n){var r=o();r&&r.track("Coupon Removed",e||{},a(t),n)},currencySelected:function(e,t,n){var r=o();r&&r.track("Currency Selected",e||{},a(t),n)},downloadAppButtonClicked:function(e,t,n){var r=o();r&&r.track("Download App Button Clicked",e||{},a(t),n)},downloadAppModalViewed:function(e,t,n){var r=o();r&&r.track("Download App Modal Viewed",e||{},a(t),n)},emailConfirmationFailed:function(e,t,n){var r=o();r&&r.track("Email Confirmation Failed",e||{},a(t),n)},emailConfirmed:function(e,t,n){var r=o();r&&r.track("Email Confirmed",e||{},a(t),n)},emailSignup:function(e,t,n){var r=o();r&&r.track("Email Signup",e||{},a(t),n)},emailSubscribed:function(e,t,n){var r=o();r&&r.track("Email Subscribed",e||{},a(t),n)},enquireClicked:function(e,t,n){var r=o();r&&r.track("Enquire Clicked",e||{},a(t),n)},enquireSubmitted:function(e,t,n){var r=o();r&&r.track("Enquire Submitted",e||{},a(t),n)},exitLinkClicked:function(e,t,n){var r=o();r&&r.track("Exit Link Clicked",e||{},a(t),n)},experimentViewed:function(e,t,n){var r=o();r&&r.track("Experiment Viewed",e||{},a(t),n)},faqClick:function(e,t,n){var r=o();r&&r.track("FAQ Click",e||{},a(t),n)},filterResultsClicked:function(e,t,n){var r=o();r&&r.track("Filter Results Clicked",e||{},a(t),n)},formSubmitted:function(e,t,n){var r=o();r&&r.track("Form Submitted",e||{},a(t),n)},gridView:function(e,t,n){var r=o();r&&r.track("Grid View",e||{},a(t),n)},hotspotClicked:function(e,t,n){var r=o();r&&r.track("Hotspot Clicked",e||{},a(t),n)},hotspotOpened:function(e,t,n){var r=o();r&&r.track("Hotspot Opened",e||{},a(t),n)},interactiveModuleClicked:function(e,t,n){var r=o();r&&r.track("Interactive Module Clicked",e||{},a(t),n)},internalLink:function(e,t,n){var r=o();r&&r.track("Internal Link",e||{},a(t),n)},itemFollowed:function(e,t,n){var r=o();r&&r.track("Item Followed",e||{},a(t),n)},itemUnfollowed:function(e,t,n){var r=o();r&&r.track("Item Unfollowed",e||{},a(t),n)},learnMore:function(e,t,n){var r=o();r&&r.track("Learn More",e||{},a(t),n)},linkButtonClicked:function(e,t,n){var r=o();r&&r.track("Link Button Clicked",e||{},a(t),n)},loadMoreResultsClicked:function(e,t,n){var r=o();r&&r.track("Load More Results Clicked",e||{},a(t),n)},loginAttempt:function(e,t,n){var r=o();r&&r.track("Login Attempt",e||{},a(t),n)},loginAttemptError:function(e,t,n){var r=o();r&&r.track("Login Attempt Error",e||{},a(t),n)},loginClicked:function(e,t,n){var r=o();r&&r.track("Login Clicked",e||{},a(t),n)},loginStart:function(e,t,n){var r=o();r&&r.track("Login Start",e||{},a(t),n)},loginToBid:function(e,t,n){var r=o();r&&r.track("Login to Bid",e||{},a(t),n)},lotTracked:function(e,t,n){var r=o();r&&r.track("Lot Tracked",e||{},a(t),n)},makeAnOfferClicked:function(e,t,n){var r=o();r&&r.track("Make an Offer Clicked",e||{},a(t),n)},maybeLaterClicked:function(e,t,n){var r=o();r&&r.track("Maybe Later Clicked",e||{},a(t),n)},meiMosesChartInteraction:function(e,t,n){var r=o();r&&r.track("Mei Moses Chart Interaction",e||{},a(t),n)},meiMosesChartLoaded:function(e,t,n){var r=o();r&&r.track("Mei Moses Chart Loaded",e||{},a(t),n)},myProfileUpdated:function(e,t,n){var r=o();r&&r.track("My Profile Updated",e||{},a(t),n)},navigated:function(e,t,n){var r=o();r&&r.track("Navigated",e||{},a(t),n)},navigationClicked:function(e,t,n){var r=o();r&&r.track("Navigation Clicked",e||{},a(t),n)},notAllowedToBid:function(e,t,n){var r=o();r&&r.track("Not Allowed to Bid",e||{},a(t),n)},notifyMe:function(e,t,n){var r=o();r&&r.track("Notify Me",e||{},a(t),n)},offerCompleted:function(e,t,n){var r=o();r&&r.track("Offer Completed ",e||{},a(t),n)},offerEntered:function(e,t,n){var r=o();r&&r.track("Offer Entered",e||{},a(t),n)},onboardingModuleInteraction:function(e,t,n){var r=o();r&&r.track("Onboarding Module Interaction",e||{},a(t),n)},orderCancelled:function(e,t,n){var r=o();r&&r.track("Order Cancelled",e||{},a(t),n)},orderCompleted:function(e,t,n){var r=o();r&&r.track("Order Completed",e||{},a(t),n)},orderRefunded:function(e,t,n){var r=o();r&&r.track("Order Refunded",e||{},a(t),n)},paddleRegistrationComplete:function(e,t,n){var r=o();r&&r.track("Paddle Registration Complete",e||{},a(t),n)},pageViewed:function(e,t,n){var r=o();r&&r.track("Page Viewed",e||{},a(t),n)},passwordChangeRequested:function(e,t,n){var r=o();r&&r.track("Password Change Requested",e||{},a(t),n)},payment3DsError:function(e,t,n){var r=o();r&&r.track("Payment 3DS Error",e||{},a(t),n)},payment3DsValidationStarted:function(e,t,n){var r=o();r&&r.track("Payment 3DS Validation Started",e||{},a(t),n)},paymentAddNewMethod:function(e,t,n){var r=o();r&&r.track("Payment Add New Method",e||{},a(t),n)},paymentCancel:function(e,t,n){var r=o();r&&r.track("Payment Cancel",e||{},a(t),n)},paymentError:function(e,t,n){var r=o();r&&r.track("Payment Error",e||{},a(t),n)},paymentInfoEntered:function(e,t,n){var r=o();r&&r.track("Payment Info Entered",e||{},a(t),n)},paymentMethodSelected:function(e,t,n){var r=o();r&&r.track("Payment Method Selected",e||{},a(t),n)},paymentNewMethodError:function(e,t,n){var r=o();r&&r.track("Payment New Method Error",e||{},a(t),n)},paymentNewMethodSuccess:function(e,t,n){var r=o();r&&r.track("Payment New Method Success ",e||{},a(t),n)},paymentProcessStarted:function(e,t,n){var r=o();r&&r.track("Payment Process Started",e||{},a(t),n)},paymentSelectInvoice:function(e,t,n){var r=o();r&&r.track("Payment Select Invoice",e||{},a(t),n)},paymentShipping:function(e,t,n){var r=o();r&&r.track("Payment Shipping",e||{},a(t),n)},paymentSubmit:function(e,t,n){var r=o();r&&r.track("Payment Submit",e||{},a(t),n)},paymentSuccess:function(e,t,n){var r=o();r&&r.track("Payment Success",e||{},a(t),n)},percentPageViewed100:function(e,t,n){var r=o();r&&r.track("Percent Page Viewed 100",e||{},a(t),n)},percentPageViewed25:function(e,t,n){var r=o();r&&r.track("Percent Page Viewed 25",e||{},a(t),n)},percentPageViewed50:function(e,t,n){var r=o();r&&r.track("Percent Page Viewed 50",e||{},a(t),n)},percentPageViewed75:function(e,t,n){var r=o();r&&r.track("Percent Page Viewed 75",e||{},a(t),n)},placeBidButton:function(e,t,n){var r=o();r&&r.track("Place Bid Button",e||{},a(t),n)},placeMaximumBidButton:function(e,t,n){var r=o();r&&r.track("Place Maximum Bid Button",e||{},a(t),n)},preferredContentCardClicked:function(e,t,n){var r=o();r&&r.track("Preferred Content Card Clicked",e||{},a(t),n)},preferredMapInteraction:function(e,t,n){var r=o();r&&r.track("Preferred Map Interaction",e||{},a(t),n)},preferredSearchResultClicked:function(e,t,n){var r=o();r&&r.track("Preferred Search Result Clicked",e||{},a(t),n)},preferredViewTypeSelected:function(e,t,n){var r=o();r&&r.track("Preferred View Type Selected",e||{},a(t),n)},printButtonClicked:function(e,t,n){var r=o();r&&r.track("Print Button Clicked",e||{},a(t),n)},printCompleted:function(e,t,n){var r=o();r&&r.track("Print Completed",e||{},a(t),n)},printFormatSelected:function(e,t,n){var r=o();r&&r.track("Print Format Selected",e||{},a(t),n)},printLotsSelected:function(e,t,n){var r=o();r&&r.track("Print Lots Selected",e||{},a(t),n)},privateSaleProductClicked:function(e,t,n){var r=o();r&&r.track("Private Sale Product Clicked",e||{},a(t),n)},proceedToCheckout:function(e,t,n){var r=o();r&&r.track("Proceed To Checkout",e||{},a(t),n)},productAdded:s,productInteraction:function(e,t,n){var r=o();r&&r.track("Product Interaction",e||{},a(t),n)},productListFiltered:function(e,t,n){var r=o();r&&r.track("Product List Filtered",e||{},a(t),n)},productListViewed:function(e,t,n){var r=o();r&&r.track("Product List Viewed",e||{},a(t),n)},productRemoved:function(e,t,n){var r=o();r&&r.track("Product Removed",e||{},a(t),n)},productViewed:function(e,t,n){var r=o();r&&r.track("Product Viewed",e||{},a(t),n)},promotionClicked:function(e,t,n){var r=o();r&&r.track("Promotion Clicked",e||{},a(t),n)},quantityUpdated:u,quickBidButton:function(e,t,n){var r=o();r&&r.track("Quick Bid Button",e||{},a(t),n)},quickBidCancelButton:function(e,t,n){var r=o();r&&r.track("Quick Bid Cancel Button",e||{},a(t),n)},quickViewClicked:function(e,t,n){var r=o();r&&r.track("Quick View Clicked",e||{},a(t),n)},quickViewInteraction:function(e,t,n){var r=o();r&&r.track("Quick View Interaction",e||{},a(t),n)},quickViewOpened:function(e,t,n){var r=o();r&&r.track("Quick View Opened",e||{},a(t),n)},recommendationClicked:function(e,t,n){var r=o();r&&r.track("Recommendation Clicked",e||{},a(t),n)},recommendationLoaded:function(e,t,n){var r=o();r&&r.track("Recommendation Loaded",e||{},a(t),n)},recommendationSeen:function(e,t,n){var r=o();r&&r.track("Recommendation Seen",e||{},a(t),n)},registrationPendingMessageViewed:function(e,t,n){var r=o();r&&r.track("Registration Pending Message Viewed",e||{},a(t),n)},saleTracked:function(e,t,n){var r=o();r&&r.track("Sale Tracked",e||{},a(t),n)},saleroomNoticeView:function(e,t,n){var r=o();r&&r.track("Saleroom Notice View",e||{},a(t),n)},searchAnswerCardLoaded:function(e,t,n){var r=o();r&&r.track("Search Answer Card Loaded",e||{},a(t),n)},searchInitiated:function(e,t,n){var r=o();r&&r.track("Search Initiated",e||{},a(t),n)},searchInputActivated:function(e,t,n){var r=o();r&&r.track("Search Input Activated",e||{},a(t),n)},searchResultClicked:function(e,t,n){var r=o();r&&r.track("Search Result Clicked",e||{},a(t),n)},searchSubmitted:function(e,t,n){var r=o();r&&r.track("Search Submitted",e||{},a(t),n)},searchSuggestionClicked:function(e,t,n){var r=o();r&&r.track("Search Suggestion Clicked",e||{},a(t),n)},sellerPortalAction:function(e,t,n){var r=o();r&&r.track("Seller Portal Action",e||{},a(t),n)},shipmentViewed:function(e,t,n){var r=o();r&&r.track("Shipment Viewed",e||{},a(t),n)},shippingPreferenceConfirmed:function(e,t,n){var r=o();r&&r.track("Shipping Preference Confirmed",e||{},a(t),n)},shippingSelected:function(e,t,n){var r=o();r&&r.track("Shipping Selected",e||{},a(t),n)},signedOut:function(e,t,n){var r=o();r&&r.track("Signed Out",e||{},a(t),n)},simpleRegistrationStart:function(e,t,n){var r=o();r&&r.track("Simple Registration Start",e||{},a(t),n)},simpleRegistrationSubmitAttempt:function(e,t,n){var r=o();r&&r.track("Simple Registration Submit Attempt",e||{},a(t),n)},simpleRegistrationSubmitError:function(e,t,n){var r=o();r&&r.track("Simple Registration Submit Error",e||{},a(t),n)},slideshowAdvanced:function(e,t,n){var r=o();r&&r.track("Slideshow Advanced",e||{},a(t),n)},slideshowCarouselOpened:function(e,t,n){var r=o();r&&r.track("Slideshow Carousel Opened",e||{},a(t),n)},slideshowZoomed:function(e,t,n){var r=o();r&&r.track("Slideshow Zoomed",e||{},a(t),n)},sortApplied:function(e,t,n){var r=o();r&&r.track("Sort Applied",e||{},a(t),n)},tabClicked:function(e,t,n){var r=o();r&&r.track("Tab Clicked",e||{},a(t),n)},technicalRegistrationError:function(e,t,n){var r=o();r&&r.track("Technical Registration Error",e||{},a(t),n)},telephoneRegistrationComplete:function(e,t,n){var r=o();r&&r.track("Telephone Registration Complete",e||{},a(t),n)},tileGridModuleClicked:function(e,t,n){var r=o();r&&r.track("Tile Grid Module Clicked",e||{},a(t),n)},timelineModuleClicked:function(e,t,n){var r=o();r&&r.track("Timeline Module Clicked",e||{},a(t),n)},transactionalBillingAddressView:function(e,t,n){var r=o();r&&r.track("Transactional Billing Address View",e||{},a(t),n)},transactionalBillingInformationViewed:function(e,t,n){var r=o();r&&r.track("Transactional Billing Information Viewed",e||{},a(t),n)},transactionalComplete:function(e,t,n){var r=o();r&&r.track("Transactional Complete",e||{},a(t),n)},transactionalCreditCardDetailsInteraction:function(e,t,n){var r=o();r&&r.track("Transactional Credit Card Details Interaction",e||{},a(t),n)},transactionalCreditCardDetailsView:function(e,t,n){var r=o();r&&r.track("Transactional Credit Card Details View",e||{},a(t),n)},transactionalProfileInformationView:function(e,t,n){var r=o();r&&r.track("Transactional Profile Information View",e||{},a(t),n)},transactionalRegistrationCancelled:function(e,t,n){var r=o();r&&r.track("Transactional Registration Cancelled",e||{},a(t),n)},transactionalRegistrationCompleted:function(e,t,n){var r=o();r&&r.track("Transactional Registration Completed",e||{},a(t),n)},transactionalRegistrationEdit:function(e,t,n){var r=o();r&&r.track("Transactional Registration Edit",e||{},a(t),n)},transactionalRegistrationError:function(e,t,n){var r=o();r&&r.track("Transactional Registration Error",e||{},a(t),n)},transactionalRegistrationFailure:function(e,t,n){var r=o();r&&r.track("Transactional Registration Failure",e||{},a(t),n)},transactionalRegistrationReview:function(e,t,n){var r=o();r&&r.track("Transactional Registration Review",e||{},a(t),n)},transactionalRegistrationStarted:function(e,t,n){var r=o();r&&r.track("Transactional Registration Started",e||{},a(t),n)},transactionalRegistrationStepCompleted:function(e,t,n){var r=o();r&&r.track("Transactional Registration Step Completed",e||{},a(t),n)},transactionalRegistrationSubmitted:function(e,t,n){var r=o();r&&r.track("Transactional Registration Submitted",e||{},a(t),n)},transactionalValidationError:function(e,t,n){var r=o();r&&r.track("Transactional Validation Error",e||{},a(t),n)},unableToVerify:function(e,t,n){var r=o();r&&r.track("Unable to Verify",e||{},a(t),n)},uploadIdAction:function(e,t,n){var r=o();r&&r.track("Upload ID Action",e||{},a(t),n)},uploadIdClicked:function(e,t,n){var r=o();r&&r.track("Upload ID Clicked",e||{},a(t),n)},uploadIdError:function(e,t,n){var r=o();r&&r.track("Upload ID Error",e||{},a(t),n)},uploadIdFailed:function(e,t,n){var r=o();r&&r.track("Upload ID Failed",e||{},a(t),n)},uploadIdSuccess:function(e,t,n){var r=o();r&&r.track("Upload ID Success",e||{},a(t),n)},userSessionError:function(e,t,n){var r=o();r&&r.track("User Session Error",e||{},a(t),n)},videoCompanionContentClicked:function(e,t,n){var r=o();r&&r.track("Video Companion Content Clicked",e||{},a(t),n)},videoPlaybackCompleted:function(e,t,n){var r=o();r&&r.track("Video Playback Completed",e||{},a(t),n)},videoPlaybackPaused:function(e,t,n){var r=o();r&&r.track("Video Playback Paused",e||{},a(t),n)},videoPlaybackResumed:function(e,t,n){var r=o();r&&r.track("Video Playback Resumed",e||{},a(t),n)},videoPlaybackSeekCompleted:function(e,t,n){var r=o();r&&r.track("Video Playback Seek Completed",e||{},a(t),n)},videoPlaybackStarted:function(e,t,n){var r=o();r&&r.track("Video Playback Started",e||{},a(t),n)},videoPlaylistSelected:function(e,t,n){var r=o();r&&r.track("Video Playlist Selected",e||{},a(t),n)},videoSelected:function(e,t,n){var r=o();r&&r.track("Video Selected",e||{},a(t),n)},videoShared:function(e,t,n){var r=o();r&&r.track("Video Shared",e||{},a(t),n)},videoStarted:function(e,t,n){var r=o();r&&r.track("Video Started",e||{},a(t),n)},videoStreamInteraction:function(e,t,n){var r=o();r&&r.track("Video Stream Interaction",e||{},a(t),n)},videoWatched25:function(e,t,n){var r=o();r&&r.track("Video Watched 25",e||{},a(t),n)},videoWatched50:function(e,t,n){var r=o();r&&r.track("Video Watched 50",e||{},a(t),n)},videoWatched75:function(e,t,n){var r=o();r&&r.track("Video Watched 75",e||{},a(t),n)},viewConditionReport:function(e,t,n){var r=o();r&&r.track("View Condition Report",e||{},a(t),n)},viewPrintCatalogueClicked:function(e,t,n){var r=o();r&&r.track("View Print Catalogue Clicked",e||{},a(t),n)},viewTypeSelected:c,walletConnectClicked:function(e,t,n){var r=o();r&&r.track("Wallet Connect Clicked",e||{},a(t),n)},walletConnectOpened:function(e,t,n){var r=o();r&&r.track("Wallet Connect Opened",e||{},a(t),n)},zoomView:function(e,t,n){var r=o();r&&r.track("Zoom View",e||{},a(t),n)}};t.ZPm=new Proxy(l,{get:function(e,t){return"string"===typeof t&&e.hasOwnProperty(t)?e[t]:function(){console.warn("\u26a0\ufe0f  You made an analytics call (".concat(String(t),") that can't be found. Either:\n    a) Re-generate your typewriter client: `npx typewriter`\n    b) Add it to your Tracking Plan: https://app.segment.com/sothebys/protocols/tracking-plans/rs_1GG5Hb9m0xMkFPhCBTwAhU1CjOp"));var e=o();e&&e.track("Unknown Analytics Call Fired",{method:t},a())}}})},49708:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{FunctionToString:function(){return E},InboundFilters:function(){return y}});var i={};function o(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const t=e[r];"."===t?e.splice(r,1):".."===t?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}n.r(i),n.d(i,{Breadcrumbs:function(){return Ne},Dedupe:function(){return Ke},GlobalHandlers:function(){return Ce},HttpContext:function(){return He},LinkedErrors:function(){return qe},TryCatch:function(){return je}});const a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function s(e){const t=a.exec(e);return t?t.slice(1):[]}function u(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const i=r>=0?e[r]:"/";i&&(t=`${i}/${t}`,n="/"===i.charAt(0))}return t=o(t.split("/").filter((e=>!!e)),!n).join("/"),(n?"/":"")+t||"."}function c(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}class l{static __initStatic(){this.id="RewriteFrames"}__init(){this.name=l.id}__init2(){this._prefix="app:///"}constructor(e={}){l.prototype.__init.call(this),l.prototype.__init2.call(this),l.prototype.__init3.call(this),e.root&&(this._root=e.root),e.prefix&&(this._prefix=e.prefix),e.iteratee&&(this._iteratee=e.iteratee)}setupOnce(e,t){e((e=>{const n=t().getIntegration(l);return n?n.process(e):e}))}process(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=this._processExceptionsEvent(t)),t}__init3(){this._iteratee=e=>{if(!e.filename)return e;const t=/^[A-Z]:\\/.test(e.filename),n=/^\//.test(e.filename);if(t||n){const n=t?e.filename.replace(/^[A-Z]:/,"").replace(/\\/g,"/"):e.filename,r=this._root?function(e,t){e=u(e).slice(1),t=u(t).slice(1);const n=c(e.split("/")),r=c(t.split("/")),i=Math.min(n.length,r.length);let o=i;for(let s=0;s<i;s++)if(n[s]!==r[s]){o=s;break}let a=[];for(let s=o;s<n.length;s++)a.push("..");return a=a.concat(r.slice(o)),a.join("/")}(this._root,n):function(e,t){let n=s(e)[2];return t&&n.slice(-1*t.length)===t&&(n=n.slice(0,n.length-t.length)),n}(n);e.filename=`${this._prefix}${r}`}return e}}_processExceptionsEvent(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map((e=>({...e,...e.stacktrace&&{stacktrace:this._processStacktrace(e.stacktrace)}})))}}}catch(t){return e}}_processStacktrace(e){return{...e,frames:e&&e.frames&&e.frames.map((e=>this._iteratee(e)))}}}l.__initStatic();const p="7.38.0";var f=n(12343),d=n(62844),h=n(57321);const v=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class y{static __initStatic(){this.id="InboundFilters"}__init(){this.name=y.id}constructor(e={}){this._options=e,y.prototype.__init.call(this)}setupOnce(e,t){const n=e=>{const n=t();if(n){const t=n.getIntegration(y);if(t){const r=n.getClient(),i=r?r.getOptions():{},o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...v],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(t._options,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(t){}return!1}(e))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,d.jH)(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;return function(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch(t){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.error(`Cannot extract message for event ${(0,d.jH)(e)}`),[]}return[]}(e).some((e=>(0,h.U0)(e,t)))}(e,t.ignoreErrors))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,d.jH)(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=g(e);return!!n&&(0,h.U0)(n,t)}(e,t.denyUrls))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,d.jH)(e)}.\nUrl: ${g(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=g(e);return!n||(0,h.U0)(n,t)}(e,t.allowUrls))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,d.jH)(e)}.\nUrl: ${g(e)}`),!0;return!1}(e,o)?null:e}}return e};n.id=this.name,e(n)}}function g(e){try{let n;try{n=e.exception.values[0].stacktrace.frames}catch(t){}return n?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch(n){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.error(`Cannot extract url for event ${(0,d.jH)(e)}`),null}}y.__initStatic();var m=n(20535);let _;class E{constructor(){E.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=E.id}setupOnce(){_=Function.prototype.toString,Function.prototype.toString=function(...e){const t=(0,m.HK)(this)||this;return _.apply(t,e)}}}E.__initStatic();var T=n(95659),b=n(10350);const I=[];function O(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"===typeof n?(0,d.lE)(n(t)):t;const i=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(r),o=i.findIndex((e=>"Debug"===e.name));if(-1!==o){const[e]=i.splice(o,1);i.push(e)}return i}function S(e,t){t[e.name]=e,-1===I.indexOf(e.name)&&(e.setupOnce(b.c,T.Gd),I.push(e.name),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log(`Integration installed: ${e.name}`))}var N=n(30360),w=n(8823),R=n(9732);class A extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const D=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function k(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:a,protocol:s,publicKey:u}=e;return`${s}://${u}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${a}`}function C(e){const t=D.exec(e);if(!t)throw new A(`Invalid Sentry Dsn: ${e}`);const[n,r,i="",o,a="",s]=t.slice(1);let u="",c=s;const l=c.split("/");if(l.length>1&&(u=l.slice(0,-1).join("/"),c=l.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return U({host:o,pass:i,path:u,projectId:c,port:a,protocol:n,publicKey:r})}function U(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function x(e){const t="string"===typeof e?C(e):U(e);return function(e){if("undefined"!==typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:n,protocol:r}=e;if(["protocol","publicKey","host","projectId"].forEach((t=>{if(!e[t])throw new A(`Invalid Sentry Dsn: ${t} missing`)})),!n.match(/^\d+$/))throw new A(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(e){return"http"===e||"https"===e}(r))throw new A(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(t&&isNaN(parseInt(t,10)))throw new A(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}var L=n(67597),P=n(96893);function M(e,t=1/0,n=1/0){try{return j("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function F(e,t=3,n=102400){const r=M(e,t);return i=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?F(e,t-1,n):r;var i}function j(e,t,r=1/0,i=1/0,o=function(){const e="function"===typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[a,s]=o;if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,L.i2)(t))return t;const u=function(e,t){try{return"domain"===e&&t&&"object"===typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!==typeof n.g&&t===n.g?"[Global]":"undefined"!==typeof window&&t===window?"[Window]":"undefined"!==typeof document&&t===document?"[Document]":(0,L.Cy)(t)?"[SyntheticEvent]":"number"===typeof t&&t!==t?"[NaN]":void 0===t?"[undefined]":"function"===typeof t?`[Function: ${(0,N.$P)(t)}]`:"symbol"===typeof t?`[${String(t)}]`:"bigint"===typeof t?`[BigInt: ${String(t)}]`:`[object ${function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t)}]`}catch(r){return`**non-serializable** (${r})`}}(e,t);if(!u.startsWith("[object "))return u;if(t.__sentry_skip_normalization__)return t;if(0===r)return u.replace("object ","");if(a(t))return"[Circular ~]";const c=t;if(c&&"function"===typeof c.toJSON)try{return j("",c.toJSON(),r-1,i,o)}catch(d){}const l=Array.isArray(t)?[]:{};let p=0;const f=(0,m.Sh)(t);for(const n in f){if(!Object.prototype.hasOwnProperty.call(f,n))continue;if(p>=i){l[n]="[MaxProperties ~]";break}const e=f[n];l[n]=j(n,e,r-1,i,o),p++}return s(t),l}function V(e,t=[]){return[e,t]}function B(e,t){const[n,r]=e;return[n,[...r,t]]}function $(e,t){e[1].forEach((e=>{const n=e[0].type;t(e,n)}))}function G(e,t){return(t||new TextEncoder).encode(e)}function q(e,t){const[n,r]=e;let i=JSON.stringify(n);function o(e){"string"===typeof i?i="string"===typeof e?i+e:[G(i,t),e]:i.push("string"===typeof e?G(e,t):e)}for(const s of r){const[e,t]=s;if(o(`\n${JSON.stringify(e)}\n`),"string"===typeof t||t instanceof Uint8Array)o(t);else{let e;try{e=JSON.stringify(t)}catch(a){e=JSON.stringify(M(t))}o(e)}}return"string"===typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}(i)}function Y(e,t){const n="string"===typeof e.data?G(e.data,t):e.data;return[(0,m.Jr)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const H={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function K(e){return H[e]}function z(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function W(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function J(e,t={}){const n="string"===typeof t?t:t.tunnel,r="string"!==typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${W(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,m._j)({sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,r)}`}function X(e,t,n,r){const i=z(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=function(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&{dsn:k(r)},..."transaction"===e.type&&i&&{trace:(0,m.Jr)({...i})}}}(e,i,r,t);delete e.sdkProcessingMetadata;return V(a,[[{type:o},e]])}var Z=n(9015),Q=n(21170);function ee(e,t,n,r){const{normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=e,a={...t,event_id:t.event_id||n.event_id||(0,d.DM)(),timestamp:t.timestamp||(0,Q.yW)()},s=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:"production");void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=(0,h.$G)(e.message,o));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=(0,h.$G)(a.value,o));const s=e.request;s&&s.url&&(s.url=(0,h.$G)(s.url,o))}(a,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(a,s);let u=r;n.captureContext&&(u=b.s.clone(u).update(n.captureContext));let c=(0,P.WD)(a);if(u){if(u.getAttachments){const e=[...n.attachments||[],...u.getAttachments()];e.length&&(n.attachments=e)}c=u.applyToEvent(a,n)}return c.then((e=>"number"===typeof i&&i>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:M(e.data,t,n)}})))},...e.user&&{user:M(e.user,t,n)},...e.contexts&&{contexts:M(e.contexts,t,n)},...e.extra&&{extra:M(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=M(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>(e.data&&(e.data=M(e.data,t,n)),e))));return r}(e,i,o):e))}const te="Not capturing exception because it's already been captured.";class ne{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(ne.prototype.__init.call(this),ne.prototype.__init2.call(this),ne.prototype.__init3.call(this),ne.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=x(e.dsn);const t=J(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn("No DSN provided, client will not do anything.")}captureException(e,t,n){if((0,d.YO)(e))return void(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log(te));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let i=n&&n.event_id;const o=(0,L.pt)(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(o.then((e=>this._captureEvent(e,n,r))).then((e=>{i=e}))),i}captureEvent(e,t,n){if(t&&t.originalException&&(0,d.YO)(t.originalException))return void(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log(te));let r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{r=e}))),r}captureSession(e){this._isEnabled()?"string"!==typeof e.release?("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,Z.CT)(e,{init:!1})):("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):(0,P.WD)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(e){const t={};return e.forEach((e=>{e&&S(e,t)})),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){S(e,this._integrations)}sendEvent(e,t={}){if(this._dsn){let n=X(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=B(n,Y(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(n)}}sendSession(e){if(this._dsn){const t=function(e,t,n,r){const i=z(n);return V({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&{dsn:k(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}_updateSessionFromEvent(e,t){let n=!1,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&((0,Z.CT)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new P.cW((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,n){const r=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),ee(r,e,t,n)}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?f.kg.log(t.message):f.kg.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r;if(!this._isEnabled())return(0,P.$2)(new A("SDK not enabled, will not capture event.","log"));const o=ie(e),a=re(e),s=e.type||"error",u=`before send for type \`${s}\``;if(a&&"number"===typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),(0,P.$2)(new A(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const c="replay_event"===s?"replay":s;return this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new A("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;if(re(t)&&r)return r(t,n);if(ie(t)&&i)return i(t,n);return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if((0,L.J8)(e))return e.then((e=>{if(!(0,L.PO)(e)&&null!==e)throw new A(n);return e}),(e=>{throw new A(`${t} rejected with ${e}`)}));if(!(0,L.PO)(e)&&null!==e)throw new A(n);return e}(i,u)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",c,e),new A(`${u} returned \`null\`, will not send event.`,"log");const i=n&&n.getSession();!o&&i&&this._updateSessionFromEvent(i,r);const a=r.transaction_info;if(o&&a&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...a,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof A)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new A(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,(e=>{("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.error("Error while sending event:",e)})):("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function re(e){return void 0===e.type}function ie(e){return"transaction"===e.type}var oe=n(68518);function ae(e,t){const n=ue(e,t),r={type:t&&t.name,value:le(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function se(e,t){return{exception:{values:[ae(e,t)]}}}function ue(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"===typeof e.framesToPop)return e.framesToPop;if(ce.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(i){}return[]}const ce=/Minified React error #\d+;/i;function le(e){const t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function pe(e,t,n,r,i){let o;if((0,L.VW)(t)&&t.error){return se(e,t.error)}if((0,L.TX)(t)||(0,L.fm)(t)){const i=t;if("stack"in t)o=se(e,t);else{const t=i.name||((0,L.TX)(i)?"DOMError":"DOMException"),a=i.message?`${t}: ${i.message}`:t;o=fe(e,a,n,r),(0,d.Db)(o,a)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}if((0,L.VZ)(t))return se(e,t);if((0,L.PO)(t)||(0,L.cO)(t)){return o=function(e,t,n,r){const i=(0,T.Gd)().getClient(),o=i&&i.getOptions().normalizeDepth,a={exception:{values:[{type:(0,L.cO)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${(0,m.zf)(t)}`}]},extra:{__serialized__:F(t,o)}};if(n){const t=ue(e,n);t.length&&(a.exception.values[0].stacktrace={frames:t})}return a}(e,t,n,i),(0,d.EG)(o,{synthetic:!0}),o}return o=fe(e,t,n,r),(0,d.Db)(o,`${t}`,void 0),(0,d.EG)(o,{synthetic:!0}),o}function fe(e,t,n,r){const i={message:t};if(r&&n){const r=ue(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}return i}var de=n(64487),he=n(71235);const ve=he.n2;let ye=0;function ge(){return ye>0}function me(){ye++,setTimeout((()=>{ye--}))}function _e(e,t={},n){if("function"!==typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if((0,m.HK)(e))return e}catch(i){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);const i=r.map((e=>_e(e,t)));return e.apply(this,i)}catch(i){throw me(),(0,de.$e)((e=>{e.addEventProcessor((e=>(t.mechanism&&((0,d.Db)(e,void 0,void 0),(0,d.EG)(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),(0,de.Tb)(i)})),i}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(o){}(0,m.$Q)(r,e),(0,m.xp)(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(o){}return r}var Ee=n(58464);const Te=["fatal","error","warning","log","info","debug"];function be(e){return"warn"===e?"warning":Te.includes(e)?e:"log"}function Ie(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}const Oe=1024,Se="Breadcrumbs";class Ne{static __initStatic(){this.id=Se}__init(){this.name=Ne.id}constructor(e){Ne.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&(0,R.o)("console",we),this.options.dom&&(0,R.o)("dom",function(e){function t(t){let n,r="object"===typeof e?e.serializeAttribute:void 0,i="object"===typeof e&&"number"===typeof e.maxStringLength?e.maxStringLength:void 0;i&&i>Oe&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i} was configured. Sentry will use 1024 instead.`),i=Oe),"string"===typeof r&&(r=[r]);try{n=t.event.target?(0,Ee.Rt)(t.event.target,{keyAttrs:r,maxStringLength:i}):(0,Ee.Rt)(t.event,{keyAttrs:r,maxStringLength:i})}catch(o){n="<unknown>"}0!==n.length&&(0,T.Gd)().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})}return t}(this.options.dom)),this.options.xhr&&(0,R.o)("xhr",Re),this.options.fetch&&(0,R.o)("fetch",Ae),this.options.history&&(0,R.o)("history",De)}addSentryBreadcrumb(e){this.options.sentry&&(0,T.Gd)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,d.jH)(e)},{event:e})}}function we(e){for(let n=0;n<e.args.length;n++)if("ref=Ref<"===e.args[n]){e.args[n+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:be(e.level),message:(0,h.nK)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${(0,h.nK)(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}(0,T.Gd)().addBreadcrumb(t,{input:e.args,level:e.level})}function Re(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;const{method:t,url:n,status_code:r,body:i}=e.xhr.__sentry_xhr__||{};(0,T.Gd)().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:r},type:"http"},{xhr:e.xhr,input:i})}else;}function Ae(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?(0,T.Gd)().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):(0,T.Gd)().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response})))}function De(e){let t=e.from,n=e.to;const r=Ie(ve.location.href);let i=Ie(t);const o=Ie(n);i.path||(i=r),r.protocol===o.protocol&&r.host===o.host&&(n=o.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),(0,T.Gd)().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}Ne.__initStatic();class ke extends ne{constructor(e){const t=ve.SENTRY_SDK_SOURCE||(0,oe.S)();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${t}:@sentry/browser`,version:p}],version:p},super(e),e.sendClientReports&&ve.document&&ve.document.addEventListener("visibilitychange",(()=>{"hidden"===ve.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const i=pe(e,t,n&&n.syntheticException||void 0,r);return(0,d.EG)(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),(0,P.WD)(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){const o=fe(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),(0,P.WD)(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}sendEvent(e,t){const n=this.getIntegrationById(Se);n&&n.addSentryBreadcrumb&&n.addSentryBreadcrumb(e),super.sendEvent(e,t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("No outcomes to send"));if(!this._dsn)return void(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("No dsn provided, will not send outcomes"));("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("Sending outcomes:",e);const t=J(this._dsn,this._options),n=(r=e,V((i=this._options.tunnel&&k(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:o||(0,Q.yW)(),discarded_events:r}]]));var r,i,o;try{const e="[object Navigator]"===Object.prototype.toString.call(ve&&ve.navigator);if(e&&"function"===typeof ve.navigator.sendBeacon&&!this._options.transportOptions){ve.navigator.sendBeacon.bind(ve.navigator)(t,q(n))}else this._sendEnvelope(n)}catch(a){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.error(a)}}}class Ce{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Ce.id}__init2(){this._installFunc={onerror:Ue,onunhandledrejection:xe}}constructor(e){Ce.prototype.__init.call(this),Ce.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const r=this._installFunc[n];r&&e[n]&&(t=n,("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log(`Global Handler attached: ${t}`),r(),this._installFunc[n]=void 0)}var t}}function Ue(){(0,R.o)("error",(e=>{const[t,n,r]=Me();if(!t.getIntegration(Ce))return;const{msg:i,url:o,line:a,column:s,error:u}=e;if(ge()||u&&u.__sentry_own_request__)return;const c=void 0===u&&(0,L.HD)(i)?function(e,t,n,r){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=(0,L.VW)(e)?e.message:e,a="Error";const s=o.match(i);s&&(a=s[1],o=s[2]);return Le({exception:{values:[{type:a,value:o}]}},t,n,r)}(i,o,a,s):Le(pe(n,u||i,void 0,r,!1),o,a,s);c.level="error",Pe(t,u,c,"onerror")}))}function xe(){(0,R.o)("unhandledrejection",(e=>{const[t,n,r]=Me();if(!t.getIntegration(Ce))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch(a){}if(ge()||i&&i.__sentry_own_request__)return!0;const o=(0,L.pt)(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:pe(n,i,void 0,r,!0);o.level="error",Pe(t,i,o,"onunhandledrejection")}))}function Le(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},u=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,p=(0,L.HD)(t)&&t.length>0?t:(0,Ee.l4)();return 0===u.length&&u.push({colno:c,filename:p,function:"?",in_app:!0,lineno:l}),e}function Pe(e,t,n,r){(0,d.EG)(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function Me(){const e=(0,T.Gd)(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}Ce.__initStatic();const Fe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class je{static __initStatic(){this.id="TryCatch"}__init(){this.name=je.id}constructor(e){je.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&(0,m.hl)(ve,"setTimeout",Ve),this._options.setInterval&&(0,m.hl)(ve,"setInterval",Ve),this._options.requestAnimationFrame&&(0,m.hl)(ve,"requestAnimationFrame",Be),this._options.XMLHttpRequest&&"XMLHttpRequest"in ve&&(0,m.hl)(XMLHttpRequest.prototype,"send",$e);const e=this._options.eventTarget;if(e){(Array.isArray(e)?e:Fe).forEach(Ge)}}}function Ve(e){return function(...t){const n=t[0];return t[0]=_e(n,{mechanism:{data:{function:(0,N.$P)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function Be(e){return function(t){return e.apply(this,[_e(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,N.$P)(e)},handled:!0,type:"instrument"}})])}}function $e(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"===typeof n[e]&&(0,m.hl)(n,e,(function(t){const n={mechanism:{data:{function:e,handler:(0,N.$P)(t)},handled:!0,type:"instrument"}},r=(0,m.HK)(t);return r&&(n.mechanism.data.handler=(0,N.$P)(r)),_e(t,n)}))})),e.apply(this,t)}}function Ge(e){const t=ve,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,m.hl)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"===typeof r.handleEvent&&(r.handleEvent=_e(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,N.$P)(r),target:e},handled:!0,type:"instrument"}}))}catch(o){}return t.apply(this,[n,_e(r,{mechanism:{data:{function:"addEventListener",handler:(0,N.$P)(r),target:e},handled:!0,type:"instrument"}}),i])}})),(0,m.hl)(n,"removeEventListener",(function(e){return function(t,n,r){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(o){}return e.call(this,t,i,r)}})))}je.__initStatic();class qe{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=qe.id}constructor(e={}){qe.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){const e=(0,T.Gd)().getClient();e&&(0,b.c)(((t,n)=>{const r=(0,T.Gd)().getIntegration(qe);return r?function(e,t,n,r,i){if(!r.exception||!r.exception.values||!i||!(0,L.V9)(i.originalException,Error))return r;const o=Ye(e,n,i.originalException,t);return r.exception.values=[...o,...r.exception.values],r}(e.getOptions().stackParser,r._key,r._limit,t,n):t}))}}function Ye(e,t,n,r,i=[]){if(!(0,L.V9)(n[r],Error)||i.length+1>=t)return i;const o=ae(e,n[r]);return Ye(e,t,n[r],r,[o,...i])}qe.__initStatic();class He{constructor(){He.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=He.id}setupOnce(){(0,b.c)((e=>{if((0,T.Gd)().getIntegration(He)){if(!ve.navigator&&!ve.location&&!ve.document)return e;const t=e.request&&e.request.url||ve.location&&ve.location.href,{referrer:n}=ve.document||{},{userAgent:r}=ve.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};return{...e,request:o}}return e}))}}He.__initStatic();class Ke{constructor(){Ke.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Ke.id}setupOnce(e,t){const n=e=>{if(e.type)return e;const n=t().getIntegration(Ke);if(n){try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!We(e,t))return!1;if(!ze(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=Je(t),r=Je(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!We(e,t))return!1;if(!ze(e,t))return!1;return!0}(e,t))return!0;return!1}(e,n._previousEvent))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(r){return n._previousEvent=e}return n._previousEvent=e}return e};n.id=this.name,e(n)}}function ze(e,t){let n=Xe(e),r=Xe(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const e=r[i],t=n[i];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function We(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function Je(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Xe(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}Ke.__initStatic();const Ze="?";function Qe(e,t,n,r){const i={filename:e,abs_path:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const et=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?(?:async )?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tt=/\((\S*)(?::(\d+))(?::(\d+))\)/,nt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,rt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,it=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ot=[[30,e=>{const t=et.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=tt.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=st(t[1]||Ze,t[2]);return Qe(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=nt.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=rt.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Ze;return[n,e]=st(n,e),Qe(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=it.exec(e);return t?Qe(t[2],t[1]||Ze,+t[3],t[4]?+t[4]:void 0):void 0}]],at=(0,N.pE)(...ot),st=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Ze,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function ut(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,P.$2)(new A("Not adding Promise because buffer limit was reached."));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new P.cW(((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{(0,P.WD)(e).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}function ct(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(o)for(const s of o.trim().split(",")){const[e,t]=s.split(":",2),n=parseInt(e,10),o=1e3*(isNaN(n)?60:n);if(t)for(const a of t.split(";"))i[a]=r+o;else i.all=r+o}else a?i.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(a,r):429===t&&(i.all=r+6e4);return i}function lt(e,t,n=ut(e.bufferSize||30)){let r={};return{send:function(i){const o=[];if($(i,((t,n)=>{const i=K(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,i)){const r=pt(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else o.push(t)})),0===o.length)return(0,P.WD)();const a=V(i[0],o),s=t=>{$(a,((n,r)=>{const i=pt(n,r);e.recordDroppedEvent(t,K(r),i)}))};return n.add((()=>t({body:q(a,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=ct(r,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof A)return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.error("Skipped sending event because buffer is full."),s("queue_overflow"),(0,P.WD)();throw e}))},flush:e=>n.drain(e)}}function pt(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}let ft;function dt(e,t=function(){if(ft)return ft;if((0,w.Du)(ve.fetch))return ft=ve.fetch.bind(ve);const e=ve.document;let t=ve.fetch;if(e&&"function"===typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return ft=t.bind(ve)}()){return lt(e,(function(n){const r={body:n.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n.body.length<=65536,...e.fetchOptions};try{return t(e.url,r).then((e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(i){return ft=void 0,(0,P.$2)(i)}}))}function ht(e){return lt(e,(function(t){return new P.cW(((n,r)=>{const i=new XMLHttpRequest;i.onerror=r,i.onreadystatechange=()=>{4===i.readyState&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)}))}))}const vt=[new y,new E,new je,new Ne,new Ce,new qe,new Ke,new He];function yt(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=vt),void 0===e.release&&("string"===typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),ve.SENTRY_RELEASE&&ve.SENTRY_RELEASE.id&&(e.release=ve.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(0,N.Sq)(e.stackParser||at),integrations:O(e),transport:e.transport||((0,w.Ak)()?dt:ht)};!function(e,t){!0===t.debug&&("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?f.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=(0,T.Gd)(),r=n.getScope();r&&r.update(t.initialScope);const i=new e(t);n.bindClient(i)}(ke,t),e.autoSessionTracking&&function(){if("undefined"===typeof ve.document)return void(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const e=(0,T.Gd)();if(!e.captureSession)return;gt(e),(0,R.o)("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&gt((0,T.Gd)())}))}()}function gt(e){e.startSession({ignoreDuration:!0}),e.captureSession()}let mt={};ve.Sentry&&ve.Sentry.Integrations&&(mt=ve.Sentry.Integrations);var _t=n(62758);const Et=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Tt(e){const t=e.match(Et);if(!e||!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}const bt="baggage",It="sentry-",Ot=/^sentry-/;function St(e){if(!(0,L.HD)(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>({...e,...wt(t)})),{});else{if(!e)return;t=wt(e)}const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(Ot)){e[t.slice(It.length)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function Nt(e){return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const i=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,o=0===r?i:`${e},${i}`;return o.length>8192?(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):o}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`sentry-${t}`]=n),e)),{}))}function wt(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}var Rt=n(16458),At=n(63233);const Dt=he.n2;const kt=(e,t,n)=>{let r,i;return o=>{t.value>=0&&(o||n)&&(i=t.value-(r||0),(i||void 0===r)&&(r=t.value,t.delta=i,e(t)))}},Ct=()=>Dt.__WEB_VITALS_POLYFILL__?Dt.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=Dt.performance.timing,t=Dt.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const r in e)"navigationStart"!==r&&"toJSON"!==r&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n})()):Dt.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Ut=()=>{const e=Ct();return e&&e.activationStart||0},xt=(e,t)=>{const n=Ct();let r="navigate";return n&&(r=Dt.document.prerendering||Ut()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:"undefined"===typeof t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},Lt=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(r){}},Pt=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==Dt.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)};let Mt=-1;const Ft=()=>(Mt<0&&(Mt="hidden"!==Dt.document.visibilityState||Dt.document.prerendering?1/0:0,Pt((({timeStamp:e})=>{Mt=e}),!0)),{get firstHiddenTime(){return Mt}}),jt={};function Vt(e){return"number"===typeof e&&isFinite(e)}function Bt(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function $t(){return Dt&&Dt.addEventListener&&Dt.performance}let Gt,qt,Yt=0,Ht={};function Kt(){const e=$t();e&&Q.Z1&&(e.mark&&Dt.performance.mark("sentry-tracing-init"),(e=>{const t=xt("CLS",0);let n,r=0,i=[];const o=e=>{e.forEach((e=>{if(!e.hadRecentInput){const o=i[0],a=i[i.length-1];r&&0!==i.length&&e.startTime-a.startTime<1e3&&e.startTime-o.startTime<5e3?(r+=e.value,i.push(e)):(r=e.value,i=[e]),r>t.value&&(t.value=r,t.entries=i,n&&n())}}))},a=Lt("layout-shift",o);a&&(n=kt(e,t),Pt((()=>{o(a.takeRecords()),n(!0)})))})((e=>{const t=e.entries.pop();t&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Measurements] Adding CLS"),Ht.cls={value:e.value,unit:""},qt=t)})),(e=>{const t=Ft(),n=xt("LCP");let r;const i=e=>{const i=e[e.length-1];if(i){const e=Math.max(i.startTime-Ut(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[i],r())}},o=Lt("largest-contentful-paint",i);if(o){r=kt(e,n);const t=()=>{jt[n.id]||(i(o.takeRecords()),o.disconnect(),jt[n.id]=!0,r(!0))};["keydown","click"].forEach((e=>{addEventListener(e,t,{once:!0,capture:!0})})),Pt(t,!0)}})((e=>{const t=e.entries.pop();t&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Measurements] Adding LCP"),Ht.lcp={value:e.value,unit:"millisecond"},Gt=t)})),(e=>{const t=Ft(),n=xt("FID");let r;const i=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},o=e=>{e.forEach(i)},a=Lt("first-input",o);r=kt(e,n),a&&Pt((()=>{o(a.takeRecords()),a.disconnect()}),!0)})((e=>{const t=e.entries.pop();if(!t)return;const n=(0,At.XL)(Q.Z1),r=(0,At.XL)(t.startTime);("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Measurements] Adding FID"),Ht.fid={value:e.value,unit:"millisecond"},Ht["mark.fid"]={value:n+r,unit:"second"}})))}function zt(e){const t=$t();if(!t||!Dt.performance.getEntries||!Q.Z1)return;("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] Adding & adjusting spans using Performance API");const n=(0,At.XL)(Q.Z1),r=t.getEntries();let i,o;if(r.slice(Yt).forEach((t=>{const r=(0,At.XL)(t.startTime),a=(0,At.XL)(t.duration);if(!("navigation"===e.op&&n+r<e.startTimestamp))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{Wt(e,t,r,n)})),Wt(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Wt(e,t,"fetch",n,"cache","domainLookupStart"),Wt(e,t,"domainLookup",n,"DNS"),function(e,t,n){Bt(e,{op:"browser",description:"request",startTimestamp:n+(0,At.XL)(t.requestStart),endTimestamp:n+(0,At.XL)(t.responseEnd)}),Bt(e,{op:"browser",description:"response",startTimestamp:n+(0,At.XL)(t.responseStart),endTimestamp:n+(0,At.XL)(t.responseEnd)})}(e,t,n)}(e,t,n),i=n+(0,At.XL)(t.responseStart),o=n+(0,At.XL)(t.requestStart);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,i){const o=i+n,a=o+r;Bt(e,{description:t.name,endTimestamp:a,op:t.entryType,startTimestamp:o})}(e,t,r,a,n);const i=Ft(),o=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&o&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Measurements] Adding FP"),Ht.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Measurements] Adding FCP"),Ht.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":{const i=t.name.replace(Dt.location.origin,"");!function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const a={};"transferSize"in t&&(a["Transfer Size"]=t.transferSize);"encodedBodySize"in t&&(a["Encoded Body Size"]=t.encodedBodySize);"decodedBodySize"in t&&(a["Decoded Body Size"]=t.decodedBodySize);"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus);const s=o+r;Bt(e,{description:n,endTimestamp:s+i,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",startTimestamp:s,data:a})}(e,t,i,r,a,n);break}}})),Yt=Math.max(r.length-1,0),function(e){const t=Dt.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Vt(n.rtt)&&(Ht["connection.rtt"]={value:n.rtt,unit:"millisecond"}));Vt(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);Vt(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===e.op){"number"===typeof i&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Measurements] Adding TTFB"),Ht.ttfb={value:1e3*(i-e.startTimestamp),unit:"millisecond"},"number"===typeof o&&o<=i&&(Ht["ttfb.requestTime"]={value:1e3*(i-o),unit:"millisecond"})),["fcp","fp","lcp"].forEach((t=>{if(!Ht[t]||n>=e.startTimestamp)return;const r=Ht[t].value,i=n+(0,At.XL)(r),o=Math.abs(1e3*(i-e.startTimestamp)),a=o-r;("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log(`[Measurements] Normalized ${t} from ${r} to ${o} (${a})`),Ht[t].value=o}));const t=Ht["mark.fid"];t&&Ht.fid&&(Bt(e,{description:"first input delay",endTimestamp:t.value+(0,At.XL)(Ht.fid.value),op:"ui.action",startTimestamp:t.value}),delete Ht["mark.fid"]),"fcp"in Ht||delete Ht.cls,Object.keys(Ht).forEach((t=>{e.setMeasurement(t,Ht[t].value,Ht[t].unit)})),function(e){Gt&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Measurements] Adding LCP Data"),Gt.element&&e.setTag("lcp.element",(0,Ee.Rt)(Gt.element)),Gt.id&&e.setTag("lcp.id",Gt.id),Gt.url&&e.setTag("lcp.url",Gt.url.trim().slice(0,200)),e.setTag("lcp.size",Gt.size));qt&&qt.sources&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log("[Measurements] Adding CLS Data"),qt.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,(0,Ee.Rt)(t.node)))))}(e)}Gt=void 0,qt=void 0,Ht={}}function Wt(e,t,n,r,i,o){const a=o?t[o]:t[`${n}End`],s=t[`${n}Start`];s&&a&&Bt(e,{op:"browser",description:i||n,startTimestamp:r+(0,At.XL)(s),endTimestamp:r+(0,At.XL)(a)})}const Jt=["localhost",/^\//],Xt={traceFetch:!0,traceXHR:!0,tracingOrigins:Jt,tracePropagationTargets:Jt};function Zt(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:o}={traceFetch:Xt.traceFetch,traceXHR:Xt.traceXHR,...e},a="function"===typeof o?o:e=>!0,s=e=>function(e,t){return(0,h.U0)(e,t||Jt)}(e,r||i),u={};t&&(0,R.o)("fetch",(e=>{!function(e,t,n,r){if(!(0,At.zu)()||!e.fetchData||!t(e.fetchData.url))return;if(e.endTimestamp){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(e.response?n.setHttpStatus(e.response.status):e.error&&n.setStatus("internal_error"),n.finish(),delete r[t]))}const i=(0,T.Gd)().getScope(),o=i&&i.getSpan(),a=o&&o.transaction;if(o&&a){const t=o.startChild({data:{...e.fetchData,type:"fetch"},description:`${e.fetchData.method} ${e.fetchData.url}`,op:"http.client"});e.fetchData.__span=t.spanId,r[t.spanId]=t;const i=e.args[0];e.args[1]=e.args[1]||{};const s=e.args[1];n(e.fetchData.url)&&(s.headers=function(e,t,n,r){const i=Nt(t),o=n.toTraceparent(),a="undefined"!==typeof Request&&(0,L.V9)(e,Request)?e.headers:r.headers;if(a){if("undefined"!==typeof Headers&&(0,L.V9)(a,Headers)){const e=new Headers(a);return e.append("sentry-trace",o),i&&e.append(bt,i),e}if(Array.isArray(a)){const e=[...a,["sentry-trace",o]];return i&&e.push([bt,i]),e}{const e="baggage"in a?a.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),i&&t.push(i),{...a,"sentry-trace":o,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":o,baggage:i}}(i,a.getDynamicSamplingContext(),t,s))}}(e,a,s,u)})),n&&(0,R.o)("xhr",(e=>{!function(e,t,n,r){if(!(0,At.zu)()||e.xhr&&e.xhr.__sentry_own_request__||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url)))return;const i=e.xhr.__sentry_xhr__;if(e.endTimestamp){const t=e.xhr.__sentry_xhr_span_id__;if(!t)return;const n=r[t];return void(n&&(n.setHttpStatus(i.status_code),n.finish(),delete r[t]))}const o=(0,T.Gd)().getScope(),a=o&&o.getSpan(),s=a&&a.transaction;if(a&&s){const t=a.startChild({data:{...i.data,type:"xhr",method:i.method,url:i.url},description:`${i.method} ${i.url}`,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=t.spanId,r[e.xhr.__sentry_xhr_span_id__]=t,e.xhr.setRequestHeader&&n(e.xhr.__sentry_xhr__.url))try{e.xhr.setRequestHeader("sentry-trace",t.toTraceparent());const n=Nt(s.getDynamicSamplingContext());n&&e.xhr.setRequestHeader(bt,n)}catch(u){}}}(e,a,s,u)}))}const Qt={idleTimeout:Rt.nT,finalTimeout:Rt.mg,heartbeatInterval:Rt.hd,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!Dt||!Dt.location)return void(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn("Could not initialize routing instrumentation due to invalid location"));let r,i=Dt.location.href;t&&(r=e({name:Dt.location.pathname,op:"pageload",metadata:{source:"url"}})),n&&(0,R.o)("history",(({to:t,from:n})=>{void 0===n&&i&&-1!==i.indexOf(t)?i=void 0:n!==t&&(i=void 0,r&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.finish()),r=e({name:Dt.location.pathname,op:"navigation",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...Xt};class en{__init(){this.name="BrowserTracing"}constructor(e){en.prototype.__init.call(this),this.options={...Qt,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),Kt(),this.options.enableLongTask&&Lt("longtask",(e=>{for(const t of e){const e=(0,At.x1)();if(!e)return;const n=(0,At.XL)(Q.Z1+t.startTime),r=(0,At.XL)(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:n,endTimestamp:n+r})}}))}setupOnce(e,t){this._getCurrentHub=t;const{routingInstrumentation:n,startTransactionOnLocationChange:r,startTransactionOnPageLoad:i,markBackgroundTransactions:o,traceFetch:a,traceXHR:s,tracePropagationTargets:u,shouldCreateSpanForRequest:c,_experiments:l}=this.options;n((e=>this._createRouteTransaction(e)),i,r),o&&(Dt&&Dt.document?Dt.document.addEventListener("visibilitychange",(()=>{const e=(0,At.x1)();if(Dt.document.hidden&&e){const t="cancelled";("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}})):("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),l.enableInteractions&&this._registerInteractionListener(),Zt({traceFetch:a,traceXHR:s,tracePropagationTargets:u,shouldCreateSpanForRequest:c})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:t,idleTimeout:n,finalTimeout:r,heartbeatInterval:i}=this.options,o="pageload"===e.op,a=o?tn("sentry-trace"):null,s=o?tn("baggage"):null,u=a?Tt(a):void 0,c=s?St(s):void 0,l={...e,...u,metadata:{...e.metadata,dynamicSamplingContext:u&&!c?{}:c},trimEnd:!0},p="function"===typeof t?t(l):l,d=void 0===p?{...l,sampled:!1}:p;d.metadata=d.name!==l.name?{...d.metadata,source:"custom"}:d.metadata,this._latestRouteName=d.name,this._latestRouteSource=d.metadata&&d.metadata.source,!1===d.sampled&&("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log(`[Tracing] Will not send ${d.op} transaction because of beforeNavigate.`),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.log(`[Tracing] Starting ${d.op} transaction on scope`);const h=this._getCurrentHub(),{location:v}=Dt,y=(0,_t.lb)(h,d,n,r,!0,{location:v},i);return y.registerBeforeFinishCallback((e=>{zt(e)})),y}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,i="ui.action.click";if(e&&(e.finish(),e=void 0),!this._getCurrentHub)return void(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn(`[Tracing] Did not create ${i} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`));const o=this._getCurrentHub(),{location:a}=Dt,s={name:this._latestRouteName,op:i,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=(0,_t.lb)(o,s,t,n,!0,{location:a},r)};["click"].forEach((e=>{addEventListener(e,t,{once:!1,capture:!0})}))}}function tn(e){const t=(0,Ee.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):null}("undefined"===typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,_t.ro)();function nn(e,t,n){const r=t.match(/([a-z_]+)\.(.*)/i);if(null===r)e[t]=n;else{nn(e[r[1]],r[2],n)}}function rn(e,t,n={}){return Array.isArray(t)?on(e,t,n):function(e,t,n){const r=r=>{const i=t(r);if(e.allowExclusionByUser){if(!i.find((t=>t.name===e.name)))return i}return on(e,i,n)};return r}(e,t,n)}function on(e,t,n){const r=t.find((t=>t.name===e.name));if(r){for(const[e,t]of Object.entries(n))nn(r,e,t);return t}return[...t,e]}var an=n(11163),sn=n.n(an);const un=ve;const cn={"routing.instrumentation":"next-router"};let ln,pn;const fn=(0,T.Gd)().getClient();function dn(e,t=!0,n=!0){const{route:r,traceParentData:i,baggage:o,params:a}=function(){let e;const t=un.document.getElementById("__NEXT_DATA__");if(t&&t.innerHTML)try{e=JSON.parse(t.innerHTML)}catch(a){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn("Could not extract __NEXT_DATA__")}if(!e)return{};const n={},{page:r,query:i,props:o}=e;return n.route=r,n.params=i,o&&o.pageProps&&(o.pageProps._sentryBaggage&&(n.baggage=o.pageProps._sentryBaggage),o.pageProps._sentryTraceData&&(n.traceParentData=Tt(o.pageProps._sentryTraceData))),n}();if(pn=r||un.location.pathname,t){const t=r?"route":"url",n=St(o);ln=e({name:pn,op:"pageload",tags:cn,...a&&fn&&fn.getOptions().sendDefaultPii&&{data:a},...i,metadata:{source:t,dynamicSamplingContext:i&&!n?{}:n}})}n&&sn().events.on("routeChangeStart",(t=>{const n=function(e){const t=(un.__BUILD_MANIFEST||{}).sortedPages;if(!t)return;return t.find((t=>{const n=function(e){const t=e.split("/");let n="";t[t.length-1].match(/^\[\[\.\.\..+\]\]$/)&&(t.pop(),n="(?:/(.+?))?");const r=t.map((e=>e.replace(/^\[\.\.\..+\]$/,"(.+?)").replace(/^\[.*\]$/,"([^/]+?)"))).join("/");return new RegExp(`^${r}${n}(?:/)?$`)}(t);return e.match(n)}))}(t.split(/[\?#]/,1)[0]);let r,i;n?(r=n,i="route"):(r=t,i="url");const o={...cn,from:pn};pn=r,ln&&ln.finish();const a=e({name:r,op:"navigation",tags:o,metadata:{source:i}});if(a){const e=a.startChild({op:"ui.nextjs.route-change",description:"Next.js Route Change"}),t=()=>{e.finish(),sn().events.off("routeChangeComplete",t)};sn().events.on("routeChangeComplete",t)}}))}const hn=n.g;const vn=n.g;var yn=n(11752),gn=n.n(yn),mn=n(75624),_n=n(83454),En=window;En.__sentryRewritesTunnelPath__=void 0,En.SENTRY_RELEASE={id:"NjMLmiGjq_vAnkYkEYbz-"},En.__rewriteFramesAssetPrefixPath__="/static/marketplace";var Tn,bn=gn()().publicRuntimeConfig,In=_n.env.SENTRY_DSN||_n.env.NEXT_PUBLIC_SENTRY_DSN;(function(e){const t=hn.__sentryRewritesTunnelPath__;if(t&&e.dsn){const n=C(e.dsn),r=n.host.match(/^o(\d+)\.ingest\.sentry\.io$/);if(r){const i=`${t}?o=${r[1]}&p=${n.projectId}`;e.tunnel=i,("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.info(`Tunneling events to "${i}"`)}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&f.kg.warn("Provided DSN is not a Sentry SaaS DSN. Will not tunnel events.")}})(Tn={dsn:In||"https://f157037071d245c293f98d0fac638349@o142289.ingest.sentry.io/6726986",tracesSampleRate:.1,initialScope:{tags:{clientSide:!0,serverSide:!1}},environment:bn.tier,release:mn.ZP.githash()}),function(e,t){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.nextjs",packages:t.map((e=>({name:`npm:@sentry/${e}`,version:p}))),version:p}}(Tn,["nextjs","react"]),Tn.environment=Tn.environment||"production",function(e){let t=e.integrations||[];const n=vn.__rewriteFramesAssetPrefixPath__||"",r=new l({iteratee:e=>{try{const{origin:t}=new URL(e.filename);e.filename=function(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}([e,"access",e=>e.filename,"optionalAccess",e=>e.replace,"call",e=>e(t,"app://"),"access",e=>e.replace,"call",e=>e(n,"")])}catch(t){}return e.filename&&e.filename.startsWith("app:///_next")&&(e.filename=decodeURI(e.filename)),e.filename&&e.filename.match(/^app:\/\/\/_next\/static\/chunks\/(main-|main-app-|polyfills-|webpack-|framework-|framework\.)[0-9a-f]+\.js$/)&&(e.in_app=!1),e}});t=rn(r,t),("undefined"===typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,At.zu)(e)&&(t=rn(new en({tracingOrigins:[...Xt.tracingOrigins,/^(api\/)/],routingInstrumentation:dn}),t,{"options.routingInstrumentation":dn})),e.integrations=t}(Tn),function(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:p}],version:p},yt(e)}(Tn),(0,de.e)((e=>{e.setTag("runtime","browser");const t=e=>"transaction"===e.type&&"/404"===e.transaction?null:e;t.id="NextClient404Filter",e.addEventProcessor(t)})),de.e((function(e){e.setTag("app","marketplace")}))},84551:function(e,t,n){"use strict";n.d(t,{$K:function(){return I},A4:function(){return w},Dj:function(){return m},F:function(){return o},IS:function(){return k},Ky:function(){return L},PV:function(){return a},Q_:function(){return y},Tl:function(){return s},fe:function(){return S},iL:function(){return M},kJ:function(){return A},py:function(){return U},sI:function(){return T}});var r,i,o,a,s,u=n(34727),c=n(80969),l=n(46587),p=n(28687),f=n(75624),d=n(22917),h=function(e){return r||(r=new p.GraphQLClient(f.ZP.getGrahpqlUrl())),e&&r.setHeader("authorization","Bearer ".concat(e)),r.setEndpoint(f.ZP.getGrahpqlUrl()),r},v=function(){var e=(0,u.Z)((function(e,t,n){return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,h(n).rawRequest(e,t).catch((function(e){var t,n=e.response,r=null===n||void 0===n||null===(t=n.headers)||void 0===t?void 0:t.get("uber-trace-id");if(null!==(null===n||void 0===n?void 0:n.data))return Promise.resolve(n);throw e.uberTraceId=r,e}))];case 1:return[2,r.sent()]}}))}));return function(t,n,r){return e.apply(this,arguments)}}();function y(e,t){return g.apply(this,arguments)}function g(){return g=(0,u.Z)((function(e,t){var n,r,i,o,a,s,u,c,p=arguments;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return[4,(p.length>2&&void 0!==p[2]?p[2]:v)("\n    query getCollectionAndAlgoliaSearchKey(\n      $collectionPath: String!\n      $language: String!\n    ) {\n      collection(collectionPath: $collectionPath, language: $language) {\n        algoliaQuery\n        collectionPath\n        language\n        status\n        title\n        heroDescription\n        media {\n          images {\n            renditions {\n              url\n              width\n              height\n              imageSize\n            }\n          }\n        }\n        merchandisingTiles {\n          id\n          placementIndex\n          title\n          url\n        }\n      }\n      algoliaSearchKey {\n        key\n        timeToLive\n      }\n    }\n  ",{collectionPath:e,language:t})];case 1:if(o=l.sent(),a=null===o||void 0===o||null===(n=o.headers)||void 0===n?void 0:n.get("uber-trace-id"),(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.algoliaSearchKey)&&(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.collection))return[2,null===o||void 0===o?void 0:o.data];throw u="",u=void 0===(null===o||void 0===o||null===(s=o.data)||void 0===s?void 0:s.algoliaSearchKey)?"Algolia search key not found":"Collection: ".concat(e," not found"),(c=new Error(u)).statusCode=404,c.uberTraceId=a,c}}))})),g.apply(this,arguments)}function m(e,t){return _.apply(this,arguments)}function _(){return _=(0,u.Z)((function(e,t){var n,r,i,o,a,s,u,c=arguments;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:v,void 0===e?[2,void 0]:(i='query getParentPathCollections {\n    collectionParentPath(collectionPath: "'.concat(e,'", language: "').concat(t,'") {\n      collectionPath\n      title\n    }\n  }\n  '),[4,n(i)]);case 1:if(o=l.sent(),a=null===o||void 0===o||null===(r=o.headers)||void 0===r?void 0:r.get("uber-trace-id"),null===o||void 0===o?void 0:o.data)return[2,null===o||void 0===o?void 0:o.data];throw s="Failed to fetch collection parent path for: ".concat(e),(u=new Error(s)).statusCode=404,u.uberTraceId=a,u}}))})),_.apply(this,arguments)}!function(e){e[e.DRAFT=0]="DRAFT",e[e.PUBLISHED=1]="PUBLISHED",e[e.UNKNOWN=2]="UNKNOWN"}(i||(i={})),function(e){e.AED="AED",e.ARS="ARS",e.AUD="AUD",e.BRL="BRL",e.CAD="CAD",e.CHF="CHF",e.CNY="CNY",e.EUR="EUR",e.GBP="GBP",e.HKD="HKD",e.IDR="IDR",e.INR="INR",e.JPY="JPY",e.KRW="KRW",e.MXN="MXN",e.PHP="PHP",e.QAR="QAR",e.RUB="RUB",e.SGD="SGD",e.TWD="TWD",e.USD="USD"}(o||(o={})),function(e){e.ACCEPTED="ACCEPTED",e.CANCELED="CANCELED",e.COUNTERED="COUNTERED",e.PENDING="PENDING"}(a||(a={})),function(e){e.PeerToPeer="PeerToPeer",e.Marketplace="Marketplace",e.Confidential="Confidential",e.Conservation="Conservation",e.PrivateSaleExhibition="PrivateSaleExhibition",e.LiveAuctions="LiveAuctions",e.OnlineAuctions="OnlineAuctions",e.Storage="Storage",e.TimeBasedSale="TimeBasedSale",e.Valuation="Valuation"}(s||(s={}));var E="\n  id\n  retailItemId\n  sku\n  guaranteeLine\n  catalogueNote\n  itemInLoggedInCart\n  isAvailable\n  condition {\n    overall\n    notes\n  }\n  description\n  attribution\n  isOwned\n  creators {\n    displayName\n  }\n  config {\n    offerEnabled\n    enquireEnabled\n    buyNowEnabled\n    managerEmail\n  }\n  category {\n    name\n    categoryId\n  }\n  department {\n    title\n  }\n  media {\n    images {\n      title\n      renditions {\n        url\n        imageSize\n      }\n    }\n  }\n  pricing {\n    currency\n    listPrice\n    estimatedRetailPrice\n    minOffer\n  }\n  propertyType\n  saleDesignationLine\n  title\n  objects {\n    objectTypeName\n    sothebysApproved\n    provenance\n    exhibition\n    literature\n    metadata {\n      value {\n        ... on ObjectMetadataStringValue {\n          __typename\n          stringValue\n        }\n        ... on ObjectMetadataStringValues {\n          __typename\n          stringValues\n        }\n        ... on ObjectMetadataBooleanValue {\n          __typename\n          boolValue\n        }\n        ... on ObjectMetadataIntegerValue {\n          __typename\n          integerValue\n        }\n        ... on ObjectMetadataFloatValue {\n          __typename\n          floatValue\n        }\n      }\n      key\n    }\n    dimensionMetadata {\n      key\n      value\n      unit\n    }\n  }\n  tags {\n    tagLabel\n  }\n  shipping {\n    id\n    retailItemId\n    hasFreeShipping\n    originAddress {\n      city\n      state\n      countryISO {\n        englishShortNameReadingOrder\n      }\n    }\n    availableShippingDestinations {\n      id\n      englishShortNameReadingOrder\n    }\n    shipsInternationally\n    offeredServiceTypes\n  }\n  availableQuantity\n  salesEntity\n  variantGroup {\n    id\n    name\n    variants {\n      id\n      retailItemId\n      variantId\n      sku\n      value\n      availableQuantity\n      listPrice\n      isAvailable\n      groupName\n    }\n  }\n  url\n";function T(e,t){return b.apply(this,arguments)}function b(){return b=(0,u.Z)((function(e,t){var n,r,i,o,a,s,u,p,f,h,y,g,m,_,T,b,I,O,S,N,w,R=arguments;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return n=R.length>2&&void 0!==R[2]?R[2]:v,(0,d.t)(e)?(i="\n      query getRetailItem($id: String!) {\n        retailItem(id: $id) {\n          ".concat(E,"\n        }\n      }\n    "),[4,n(i,{id:e,language:t})]):[3,2];case 1:if(o=l.sent(),a=null===o||void 0===o?void 0:o.data,s=null===o||void 0===o?void 0:o.errors,u=null===o||void 0===o||null===(r=o.headers)||void 0===r?void 0:r.get("uber-trace-id"),null===a||void 0===a?void 0:a.retailItem)return[2,null===a||void 0===a?void 0:a.retailItem];throw p=(0,c.Z)(j(s,[404,"Retail Item by id: ".concat(e,", not found")]),2),f=p[0],h=p[1],(y=new Error(h)).statusCode=f,y.uberTraceId=u,y;case 2:return m="\n      query getRetailItemBySlug($slug: String!) {\n        retailItemBySlug(slug: $slug) {\n          ".concat(E,"\n        }\n      }\n    "),[4,n(m,{slug:e})];case 3:if(_=l.sent(),T=null===_||void 0===_?void 0:_.data,b=null===_||void 0===_?void 0:_.errors,I=null===_||void 0===_||null===(g=_.headers)||void 0===g?void 0:g.get("uber-trace-id"),null===T||void 0===T?void 0:T.retailItemBySlug)return[2,null===T||void 0===T?void 0:T.retailItemBySlug];throw O=(0,c.Z)(j(b,[404,"Retail Item with slug: ".concat(e,", not found")]),2),S=O[0],N=O[1],(w=new Error(N)).statusCode=S,w.uberTraceId=I,w;case 4:return[2]}}))})),b.apply(this,arguments)}function I(e,t,n,r){return O.apply(this,arguments)}function O(){return O=(0,u.Z)((function(e,t,n,r){var i,o,a,s,u,p,f,d,h,y,g,m=arguments;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return[4,(m.length>4&&void 0!==m[4]?m[4]:v)("\n    query getRetailItemRecommendations(\n      $retailItemId: String!\n      $limit: Int\n      $type: SimilarItemsType\n    ) {\n      retailItem(id: $retailItemId) {\n        recommendations(hideNonAvailable: true, limit: $limit, type: $type) {\n          __typename\n          ... on RetailItem {\n            id\n            sku\n            retailItemId\n            slug\n            title\n            creators {\n              displayName\n            }\n            pricing {\n              listPrice\n              currency\n              estimatedRetailPrice\n            }\n            salesEntity\n            propertyType\n            media {\n              images {\n                title\n                renditions {\n                  url\n                  imageSize\n                }\n              }\n            }\n            availableQuantity\n            category {\n              categoryId\n              name\n            }\n            url\n            objects {\n              objectTypeName\n              metadata {\n                value {\n                  ... on ObjectMetadataStringValue {\n                    __typename\n                    stringValue\n                  }\n                  ... on ObjectMetadataStringValues {\n                    __typename\n                    stringValues\n                  }\n                  ... on ObjectMetadataBooleanValue {\n                    __typename\n                    boolValue\n                  }\n                  ... on ObjectMetadataIntegerValue {\n                    __typename\n                    integerValue\n                  }\n                  ... on ObjectMetadataFloatValue {\n                    __typename\n                    floatValue\n                  }\n                }\n                key\n              }\n            }\n          }\n          ... on LotCard {\n            id\n            title\n            creators {\n              displayName\n            }\n            estimateV2 {\n              ... on LowHighEstimateV2 {\n                __typename\n                highEstimate {\n                  amount\n                  currency\n                }\n                lowEstimate {\n                  amount\n                  currency\n                }\n              }\n              ... on EstimateUponRequest {\n                __typename\n                estimateUponRequest\n              }\n            }\n            media {\n              images {\n                title\n                renditions {\n                  url\n                  imageSize\n                }\n              }\n            }\n            lotId\n            auction {\n              auctionId\n            }\n            lotSlug: slug {\n              lotSlug\n              auctionSlug {\n                name\n                year\n              }\n            }\n          }\n        }\n      }\n    }\n  ",{retailItemId:e,language:t,limit:n,type:r})];case 1:if(a=l.sent(),s=null===a||void 0===a?void 0:a.data,u=null===a||void 0===a?void 0:a.errors,p=null===a||void 0===a||null===(i=a.headers)||void 0===i?void 0:i.get("uber-trace-id"),u)throw f=(0,c.Z)(j(u,[500,"Error fetching recommendations for retailItemId: ".concat(e)]),2),d=f[0],h=f[1],(y=new Error(h)).statusCode=d,y.uberTraceId=p,y;return(null===s||void 0===s||null===(o=s.retailItem)||void 0===o?void 0:o.recommendations)?[2,null===s||void 0===s||null===(g=s.retailItem)||void 0===g?void 0:g.recommendations]:[2]}}))})),O.apply(this,arguments)}function S(e,t){return N.apply(this,arguments)}function N(){return N=(0,u.Z)((function(e,t){var n,r,i,o,a=arguments;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:return[4,(a.length>2&&void 0!==a[2]?a[2]:v)("\n    query getMyActiveOffer($id: String!) {\n      retailItem(id: $id) {\n        myActiveOffer {\n          offerStatus\n          pricing {\n            subtotal\n            currency\n          }\n          item {\n            offerAmount\n            counterOfferAmount\n          }\n        }\n      }\n    }\n  ",{id:t},e)];case 1:if(r=s.sent(),i=null===r||void 0===r||null===(n=r.headers)||void 0===n?void 0:n.get("uber-trace-id"),null===r||void 0===r?void 0:r.data)return[2,null===r||void 0===r?void 0:r.data];throw(o=new Error("No active offers for retail item: ".concat(t,", found"))).statusCode=404,o.uberTraceId=i,o}}))})),N.apply(this,arguments)}function w(e,t,n,r){return R.apply(this,arguments)}function R(){return R=(0,u.Z)((function(e,t,n,r){var i,o,a,s,u,c=arguments;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return[4,(c.length>4&&void 0!==c[4]?c[4]:v)("\n    mutation addRetailItemToBag(\n      $retailItemId: String!\n      $bagId: String\n      $quantity: Int\n    ) {\n      addRetailItemToBag(\n        retailItemId: $retailItemId\n        bagId: $bagId\n        quantity: $quantity\n      ) {\n        bagId\n        items {\n          quantity\n          retailItemId\n          retailItem {\n            id\n            itemInLoggedInCart\n          }\n        }\n      }\n    }\n  ",{retailItemId:e,bagId:n,quantity:t},r)];case 1:if(o=l.sent(),a=null===o||void 0===o||null===(i=o.headers)||void 0===i?void 0:i.get("uber-trace-id"),null===(s=null===o||void 0===o?void 0:o.data)||void 0===s?void 0:s.addRetailItemToBag)return[2,{itemInLoggedInCart:s.addRetailItemToBag.items.some((function(t){return t.retailItemId==e})),anonymousBagId:void 0===r?s.addRetailItemToBag.bagId:void 0,items:s.addRetailItemToBag.items.map((function(e){return{retailItemId:e.retailItemId,quantity:e.quantity}}))}];throw(u=new Error("Unable to add retail item by id: ".concat(e," to bag"))).statusCode=500,u.uberTraceId=a,u}}))})),R.apply(this,arguments)}function A(e){return D.apply(this,arguments)}function D(){return D=(0,u.Z)((function(e){var t,n=arguments;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,(n.length>1&&void 0!==n[1]?n[1]:v)("\n    query getCurrencyRates($baseCurrency: Currency!) {\n      currencyRates(base: $baseCurrency) {\n        date\n        baseCurrency\n        rates {\n          currency\n          rate\n        }\n      }\n    }\n  ",{baseCurrency:e})];case 1:return[2,null===(t=r.sent())||void 0===t?void 0:t.data]}}))})),D.apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return C=(0,u.Z)((function(e){var t,n=arguments;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,(n.length>1&&void 0!==n[1]?n[1]:v)("\n    query bags {\n      bags {\n        defaultBag {\n          id\n          items {\n            retailItemId\n            quantity\n          }\n        }\n        alcoholBag {\n          id\n          items {\n            retailItemId\n            quantity\n          }\n        }\n      }\n    }\n  ",{},e)];case 1:return[2,null===(t=r.sent())||void 0===t?void 0:t.data]}}))})),C.apply(this,arguments)}function U(e){return x.apply(this,arguments)}function x(){return x=(0,u.Z)((function(e){var t,n=arguments;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,(n.length>1&&void 0!==n[1]?n[1]:v)("\n    query bagById($id: ID!) {\n      bagById(id: $id) {\n        id\n        items {\n          retailItemId\n          quantity\n        }\n      }\n    }\n  ",{id:e})];case 1:return[2,null===(t=r.sent())||void 0===t?void 0:t.data]}}))})),x.apply(this,arguments)}function L(e,t){return P.apply(this,arguments)}function P(){return P=(0,u.Z)((function(e,t){var n,r=arguments;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return[4,(r.length>2&&void 0!==r[2]?r[2]:v)("\n    mutation mergeBags($guestBagId: String!) {\n      mergeBags(guestBagId: $guestBagId) {\n        id\n      }\n    }\n  ",{guestBagId:t},e)];case 1:return[2,null===(n=i.sent())||void 0===n?void 0:n.data]}}))})),P.apply(this,arguments)}function M(e,t,n){return F.apply(this,arguments)}function F(){return F=(0,u.Z)((function(e,t,n){var r,i=arguments;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return[4,(i.length>3&&void 0!==i[3]?i[3]:v)("\n    mutation sendRetailItemEnquireEmail(\n      $retailItemId: String!\n      $contactInfo: EnquireContactInfoInput!\n    ) {\n      sendRetailItemEnquireEmail(\n        retailItemId: $retailItemId\n        contactInfo: $contactInfo\n      ) {\n        retailItemId\n      }\n    }\n  ",{retailItemId:t,contactInfo:n},e)];case 1:return[2,null===(r=o.sent())||void 0===r?void 0:r.data]}}))})),F.apply(this,arguments)}function j(e,t){if(e&&e.length>0){var n=new Set,r=[];if(e.forEach((function(e){r.push(e.message);var t=function(e){var t,n,r,i;return(null===e||void 0===e||null===(t=e.extensions)||void 0===t?void 0:t.statusCode)&&"number"===typeof(null===e||void 0===e||null===(n=e.extensions)||void 0===n?void 0:n.statusCode)?{code:null===e||void 0===e||null===(i=e.extensions)||void 0===i?void 0:i.statusCode}:"INTERNAL_SERVER_ERROR"==(null===e||void 0===e||null===(r=e.extensions)||void 0===r?void 0:r.code)?{code:500}:void 0}(e);t&&n.add(t.code)})),1==n.size)return[n.values().next().value,r.join(", ")]}return t}},46341:function(e,t,n){"use strict";var r=n(14251),i=n(85893),o=n(9008),a=n.n(o),s={title:{fontFamily:"Mercury Display A, Mercury Display B, MercuryDisplay-wb, serif",fontWeight:400},titleH1:{fontSize:"100px",lineHeight:1,marginBottom:0},titleH3:{fontSize:"20px",maxWidth:"440px",lineHeight:"1.25",letterSpacing:"2px",margin:"64px auto"},titleH5:{fontSize:"20px",lineHeight:"1.2"},errorBody:{margin:"32px auto",maxWidth:"667px",textAlign:"center"},homepageLink:{marginTop:"64px",display:"inline-block",color:"#333"}};t.Z=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a(),{children:(0,i.jsx)("title",{children:"Something went wrong | Sotheby's"})}),(0,i.jsxs)("div",{style:s.errorBody,children:[(0,i.jsx)("h3",{style:(0,r.Z)({},s.title,s.titleH3),children:"Oops, an unexpected error occurred."}),(0,i.jsx)("h5",{style:(0,r.Z)({},s.title,s.titleH5),children:"Please try again."}),(0,i.jsx)("a",{href:"/",style:s.homepageLink,children:(0,i.jsx)("h5",{style:(0,r.Z)({},s.title,s.titleH5),children:"Return to Sotheby's homepage"})})]})]})}},75624:function(e,t,n){"use strict";n.d(t,{jU:function(){return i},tZ:function(){return s}});var r=n(83454),i=function(){return!0},o=function(e,t){var n=e[t];if(void 0!==n)return n;throw new Error("Environment variable ".concat(t," is missing"))},a=function(e){return i()?o(window,e):o(r.env,e)},s=function(e,t){return i()?window[e]||t:r.env[e]||t},u={algolia:{appID:function(){return a("ALGOLIA_APP_ID")},productIndexName:function(){return a("ALGOLIA_INDEX_NAME")},clickAnalytics:function(){return!0}},getGrahpqlUrl:function(){return i()?a("GRAPHQL_URL"):a("GRAPHQL_NEXTJS_URL")},tier:function(){return a("TIER")},auth0:{tenant:function(){return a("AUTH_0_TENANT")},domain:function(){return a("AUTH_0_DOMAIN")},clientID:function(){return a("AUTH_0_CLIENT_ID")},redirectUri:function(){return a("AUTH_0_REDIRECT_URI")},audience:function(){return a("AUTH_0_AUDIENCE")}},cartUrl:function(){return a("CART_URL")},checkoutUrl:function(){return a("CHECKOUT_URL")},damUrl:function(){return a("DAM_URL")},segmentWriteKey:function(){return a("SEGMENT_WRITE_KEY")},aemLoginUrl:function(){return a("AEM_LOGIN_URL")},aemRegisterUrl:function(){return a("AEM_REGISTER_URL")},googleOptimizeSrc:function(){return a("GOOGLE_OPTIMIZE_SRC")},githash:function(){return s("GITHASH","development")}};t.ZP=u},82489:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(67294),i=n(21856);var o=function(e){var t=(0,r.useState)(i.ZP.getState()),n=t[0],o=t[1];return(0,r.useEffect)((function(){return i.ZP.listen(e,(function(e){o(e)})),i.ZP.startAuthLoop(),function(){i.ZP.remove(e)}}),[]),n}},38337:function(e,t,n){"use strict";n.d(t,{T3:function(){return v},G9:function(){return f},U8:function(){return y}});var r=n(80969),i=n(85893),o=n(67294),a=n(84551),s=n(22917);function u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var c=function e(t,n){function r(e,r,i){if("undefined"!==typeof document){"number"===typeof(i=u({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=t.read(a,s),e===s)break}catch(u){}}return e?r[e]:r}},remove:function(e,t){r(e,"",u({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,u({},this.attributes,t))},withConverter:function(t){return e(u({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),l=c,p=n(860),f="marketplace-selected-currency-rate",d={selectedCurrency:a.F.USD,isLoading:!0,setSeletectedRate:function(){},convertedCurrency:function(e,t){return e.toString()+" "+t},convertedCurrencyAmount:function(e,t,n){return e}},h=o.createContext(void 0);function v(e){var t=e.children,n=e.currency,u=e.currencyRates,c=(0,r.Z)(o.useState(!0),2),d=c[0],v=c[1],y=(0,r.Z)(o.useState(n),2),g=y[0],m=y[1],_=(0,r.Z)(o.useState(u),2),E=_[0],T=_[1];o.useEffect((function(){v(!0),(0,a.kJ)(g).then((function(e){var t,n,r=null===e||void 0===e||null===(t=e.currencyRates)||void 0===t?void 0:t.baseCurrency;(null===e||void 0===e||null===(n=e.currencyRates)||void 0===n?void 0:n.baseCurrency)===r&&r&&T(e.currencyRates)})).finally((function(){v(!1)}))}),[g]);return(0,i.jsx)(h.Provider,{value:{selectedCurrency:g,allCurrencies:E,isLoading:d,setSeletectedRate:function(e){m(e.currency),l.set(f,e.currency,{expires:1})},convertedCurrency:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(E){var r,i=null===(r=E.rates)||void 0===r?void 0:r.find((function(e){return e.currency===t}));if(i){var o=+i.rate,a=n?e/o:Math.floor(e/o);return(0,s.yh)(a,g,n)}}return(0,s.yh)(e,t,n)},convertedCurrencyAmount:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(0,p.sk)()&&E){var r=E.rates.find((function(e){return e.currency===t}));if(r){var i=+r.rate;return n?Math.floor(e*i):Math.floor(e/i)}}return e}},children:t})}function y(){var e=o.useContext(h);return void 0===e?d:e}},79606:function(e,t,n){"use strict";n.d(t,{EG:function(){return i},GC:function(){return r},ZK:function(){return u},pY:function(){return l},se:function(){return c}});var r,i,o,a=n(67573);!function(e){e[e.METADATA=0]="METADATA",e[e.PRIMARY=1]="PRIMARY",e[e.BUCHERER=2]="BUCHERER",e[e.CONDITION=3]="CONDITION",e[e.DIMENSION=4]="DIMENSION",e[e.OBJECTPRIMARY=5]="OBJECTPRIMARY"}(r||(r={})),function(e){e[e.FINEART=1]="FINEART",e[e.SNEAKERS=2]="SNEAKERS",e[e.HANDBAG=3]="HANDBAG",e[e.VARIOUS=4]="VARIOUS",e[e.WATCH=5]="WATCH",e[e.BOOK=6]="BOOK",e[e.PEXSFINEART=7]="PEXSFINEART",e[e.PEXSVARIOUS=8]="PEXSVARIOUS"}(i||(i={}));var s=(o={},(0,a.Z)(o,i.FINEART,[{attribute:"description",type:r.PRIMARY,label:"Description"},{attribute:"Dimensions",type:r.DIMENSION,dimensionAttributes:["Height","Width","Depth","Frame Height","Frame Width","Frame Depth","Sight Height","Sight Width","Diameter"]},{attribute:"Signature Details",type:r.METADATA,label:"Signature"},{attribute:"provenance",type:r.OBJECTPRIMARY,label:"Provenance"},{attribute:"exhibition",type:r.OBJECTPRIMARY,label:"Exhibition"},{attribute:"literature",type:r.OBJECTPRIMARY,label:"Literature"},{attribute:"condition",type:r.CONDITION},{attribute:"Publisher",type:r.METADATA},{attribute:"Art Period - Specific",type:r.METADATA,label:"Art Period"},{attribute:"Art Movement",type:r.METADATA,label:"Movement/Style"}]),(0,a.Z)(o,i.PEXSFINEART,[{attribute:"provenance",type:r.OBJECTPRIMARY,label:"Provenance"},{attribute:"exhibition",type:r.OBJECTPRIMARY,label:"Exhibition"},{attribute:"literature",type:r.OBJECTPRIMARY,label:"Literature"},{attribute:"catalogueNote",type:r.PRIMARY,label:"Catalogue Note"}]),(0,a.Z)(o,i.SNEAKERS,[{attribute:"description",type:r.PRIMARY,label:"Description"},{attribute:"Sneaker Model",type:r.METADATA,label:"Model"},{attribute:"Special Feature",type:r.METADATA,label:"Special Feature(s)"},{attribute:"Sneaker Type",type:r.METADATA,label:"Type"},{attribute:"Color",type:r.METADATA,label:"Color(s)"},{attribute:"Materials",type:r.METADATA,label:"Materials"},{attribute:"condition",type:r.CONDITION}]),(0,a.Z)(o,i.HANDBAG,[{attribute:"description",type:r.PRIMARY,label:"Description"},{attribute:"condition",type:r.CONDITION},{attribute:"Year",type:r.METADATA},{attribute:"Dimensions",type:r.DIMENSION,dimensionAttributes:["Height","Width","Depth","Handle Drop","Shoulder Strap Drop Max","Shoulder Strap Drop Min"]}]),(0,a.Z)(o,i.VARIOUS,[{attribute:"description",type:r.PRIMARY,label:"Description"},{attribute:"provenance",type:r.OBJECTPRIMARY,label:"Provenance"},{attribute:"exhibition",type:r.OBJECTPRIMARY,label:"Exhibition"},{attribute:"literature",type:r.OBJECTPRIMARY,label:"Literature"},{attribute:"condition",type:r.CONDITION},{attribute:"Dimensions",type:r.DIMENSION,dimensionAttributes:["Show All","Height","Width","Depth","Arm Height","Seat Height","Seat Depth","Diameter"]},{attribute:"Materials",type:r.METADATA,label:"Materials"},{attribute:"Period - Specific",type:r.METADATA,label:"Period"},{attribute:"Decorative Style",type:r.METADATA,label:"Decorative Style"},{attribute:"Country",type:r.METADATA,label:"Country of Origin"}]),(0,a.Z)(o,i.WATCH,[{attribute:"description",type:r.PRIMARY,label:"Description"},{attribute:"Certified Pre-Owned By Bucherer",type:r.BUCHERER},{attribute:"condition",type:r.CONDITION},{attribute:"Year",type:r.METADATA,label:"Year"},{attribute:"Reference Number",type:r.METADATA,label:"Reference Number"},{attribute:"Watch Model",type:r.METADATA,label:"Model"},{attribute:"Watch Model Notes",type:r.METADATA,label:" "},{attribute:"Complication",type:r.METADATA,label:"Complication"},{attribute:"Gender",type:r.METADATA,label:"Gender"},{attribute:"Dial Color(s)",type:r.METADATA,label:"Dial Color(s)"},{attribute:"Dial Notes",type:r.METADATA,label:"Dial Notes"},{attribute:"Dial Numerals",type:r.METADATA,label:"Dial Numerals"},{attribute:"Caliber",type:r.METADATA,label:"Caliber"},{attribute:"Movement Type",type:r.METADATA,label:"Movement Type"},{attribute:"Movement Number",type:r.METADATA,label:"Movement Number"},{attribute:"Case Material(s)",type:r.METADATA,label:"Case Material(s)"},{attribute:"Case Number",type:r.METADATA,label:"Case Number"},{attribute:"Case Size (mm)",type:r.METADATA,label:"Case Size (mm)"},{attribute:"Case Back",type:r.METADATA,label:"Case Back"},{attribute:"Band Material",type:r.METADATA,label:"Band Material"},{attribute:"Dimension text",type:r.METADATA,label:"Dimension Notes"},{attribute:"Clasp Type",type:r.METADATA,label:"Clasp Type"},{attribute:"Clasp Material(s)",type:r.METADATA,label:"Clasp Material(s) "},{attribute:"Watch Signature",type:r.METADATA,label:"Signature"},{attribute:"Box",type:r.METADATA,label:"Box"},{attribute:"Papers",type:r.METADATA,label:"Papers"}]),(0,a.Z)(o,i.BOOK,[{attribute:"description",type:r.PRIMARY,label:"Description"},{attribute:"provenance",type:r.OBJECTPRIMARY,label:"Provenance"},{attribute:"literature",type:r.OBJECTPRIMARY,label:"Literature"},{attribute:"condition",type:r.CONDITION},{attribute:"Dimensions",type:r.DIMENSION,dimensionAttributes:["Height","Width","Depth"]},{attribute:"Book Special Feature",type:r.METADATA,label:"Feature(s)"},{attribute:"Book Language",type:r.METADATA,label:"Language"},{attribute:"Book Subject",type:r.METADATA,label:"Subject"}]),(0,a.Z)(o,i.PEXSVARIOUS,[{attribute:"description",type:r.PRIMARY,label:"Description"},{attribute:"provenance",type:r.OBJECTPRIMARY,label:"Provenance"},{attribute:"exhibition",type:r.OBJECTPRIMARY,label:"Exhibition"},{attribute:"literature",type:r.OBJECTPRIMARY,label:"Literature"},{attribute:"catalogueNote",type:r.PRIMARY,label:"Catalogue Note"},{attribute:"condition",type:r.CONDITION},{attribute:"Dimensions",type:r.DIMENSION,dimensionAttributes:["Show All","Height","Width","Depth","Arm Height","Seat Height","Seat Depth","Diameter"]},{attribute:"Materials",type:r.METADATA,label:"Materials"},{attribute:"Period - Specific",type:r.METADATA,label:"Period"},{attribute:"Decorative Style",type:r.METADATA,label:"Decorative Style"},{attribute:"Country",type:r.METADATA,label:"Country of Origin"}]),o),u=["Researcher notes","Dimension text","Period - General","Provenance","Exhibition","Literature"],c=function(e){switch(e){case"Sneakers":return"US Size";case"Apparel":return"Apparel Size"}},l=function(e){return s[e]||null}},29518:function(e,t,n){"use strict";n.d(t,{c:function(){return r},f:function(){return i}});var r=[{alphaTwo:"AL",englishShortNameReadingOrder:"Alabama"},{alphaTwo:"\u0410\u041a",englishShortNameReadingOrder:"Alaska"},{alphaTwo:"AZ",englishShortNameReadingOrder:"Arizona"},{alphaTwo:"AR",englishShortNameReadingOrder:"Arkansas"},{alphaTwo:"CA",englishShortNameReadingOrder:"California"},{alphaTwo:"CO",englishShortNameReadingOrder:"Colorado"},{alphaTwo:"CT",englishShortNameReadingOrder:"Connecticut"},{alphaTwo:"DE",englishShortNameReadingOrder:"Delaware"},{alphaTwo:"DC",englishShortNameReadingOrder:"District of Columbia"},{alphaTwo:"FL",englishShortNameReadingOrder:"Florida"},{alphaTwo:"GA",englishShortNameReadingOrder:"Georgia"},{alphaTwo:"HI",englishShortNameReadingOrder:"Hawaii"},{alphaTwo:"ID",englishShortNameReadingOrder:"Idaho"},{alphaTwo:"IL",englishShortNameReadingOrder:"Illinois"},{alphaTwo:"IN",englishShortNameReadingOrder:"Indiana"},{alphaTwo:"IA",englishShortNameReadingOrder:"Iowa"},{alphaTwo:"KS",englishShortNameReadingOrder:"Kansas"},{alphaTwo:"KY",englishShortNameReadingOrder:"Kentucky"},{alphaTwo:"LA",englishShortNameReadingOrder:"Louisiana"},{alphaTwo:"ME",englishShortNameReadingOrder:"Maine"},{alphaTwo:"MD",englishShortNameReadingOrder:"Maryland"},{alphaTwo:"\u041c\u0410",englishShortNameReadingOrder:"Massachusetts"},{alphaTwo:"MI",englishShortNameReadingOrder:"Michigan"},{alphaTwo:"MN",englishShortNameReadingOrder:"Minnesota"},{alphaTwo:"MS",englishShortNameReadingOrder:"Mississippi"},{alphaTwo:"\u041c\u041e",englishShortNameReadingOrder:"Missouri"},{alphaTwo:"MT",englishShortNameReadingOrder:"Montana"},{alphaTwo:"NE",englishShortNameReadingOrder:"Nebraska"},{alphaTwo:"NV",englishShortNameReadingOrder:"Nevada"},{alphaTwo:"NH",englishShortNameReadingOrder:"New Hampshire"},{alphaTwo:"NJ",englishShortNameReadingOrder:"New Jersey"},{alphaTwo:"NM",englishShortNameReadingOrder:"New Mexico"},{alphaTwo:"NY",englishShortNameReadingOrder:"New York"},{alphaTwo:"NC",englishShortNameReadingOrder:"North Carolina"},{alphaTwo:"ND",englishShortNameReadingOrder:"North Dakota"},{alphaTwo:"\u041e\u041d",englishShortNameReadingOrder:"Ohio"},{alphaTwo:"\u041e\u041a",englishShortNameReadingOrder:"Oklahoma"},{alphaTwo:"OR",englishShortNameReadingOrder:"Oregon"},{alphaTwo:"\u0420\u0410",englishShortNameReadingOrder:"Pennsylvania"},{alphaTwo:"RI",englishShortNameReadingOrder:"Rhode Island"},{alphaTwo:"SC",englishShortNameReadingOrder:"South Carolina"},{alphaTwo:"SD",englishShortNameReadingOrder:"South Dakota"},{alphaTwo:"TN",englishShortNameReadingOrder:"Tennessee"},{alphaTwo:"\u0422\u0425",englishShortNameReadingOrder:"Texas"},{alphaTwo:"UT",englishShortNameReadingOrder:"Utah"},{alphaTwo:"VT",englishShortNameReadingOrder:"Vermont"},{alphaTwo:"VA",englishShortNameReadingOrder:"Virginia"},{alphaTwo:"WA",englishShortNameReadingOrder:"Washington"},{alphaTwo:"WV",englishShortNameReadingOrder:"West Virginia"},{alphaTwo:"WI",englishShortNameReadingOrder:"Wisconsin"},{alphaTwo:"WY",englishShortNameReadingOrder:"Wyoming"}],i=["AL","AR","DE","IL","KY","MS","\u041e\u041a","RI","\u0422\u0425","UT"]},21856:function(e,t,n){"use strict";n.d(t,{Vi:function(){return Zr},ZP:function(){return ni}});var r=n(75815),i=n(55577),o=n(14251),a=n(52875),s=n(84737);function u(e){this.message=e}u.prototype=new Error,u.prototype.name="InvalidCharacterError";var c="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new u("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,a="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?a+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};function l(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(c(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return c(t)}}function p(e){this.message=e}p.prototype=new Error,p.prototype.name="InvalidTokenError";var f=function(e,t){if("string"!=typeof e)throw new p("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(l(e.split(".")[n]))}catch(e){throw new p("Invalid token specified: "+e.message)}},d=n(64487),h=n(83454),v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function y(e,t){return e(t={exports:{}},t.exports),t.exports}var g=y((function(e){var t,n;t=v,n=function(){function e(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<e.length;r++){var i=e[r];if("string"!=typeof i)throw new TypeError("Url must be a string. Received "+i);""!==i&&(r>0&&(i=i.replace(/^[\/]+/,"")),i=r<e.length-1?i.replace(/[\/]+$/,""):i.replace(/[\/]+$/,"/"),t.push(i))}var o=t.join("/"),a=(o=o.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return a.shift()+(a.length>0?"?":"")+a.join("&")}return function(){return e("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=n():t.urljoin=n()})),m="undefined"!=typeof Symbol&&Symbol,_="Function.prototype.bind called on incompatible ",E=Array.prototype.slice,T=Object.prototype.toString,b=Function.prototype.bind||function(e){var t=this;if("function"!=typeof t||"[object Function]"!==T.call(t))throw new TypeError(_+t);for(var n,r=E.call(arguments,1),i=function(){if(this instanceof n){var i=t.apply(this,r.concat(E.call(arguments)));return Object(i)===i?i:this}return t.apply(e,r.concat(E.call(arguments)))},o=Math.max(0,t.length-r.length),a=[],s=0;s<o;s++)a.push("$"+s);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var u=function(){};u.prototype=t.prototype,n.prototype=new u,u.prototype=null}return n},I=b.call(Function.call,Object.prototype.hasOwnProperty),O=SyntaxError,S=Function,N=TypeError,w=function(e){try{return S('"use strict"; return ('+e+").constructor;")()}catch(u){}},R=Object.getOwnPropertyDescriptor;if(R)try{R({},"")}catch(u){R=null}var A=function(){throw new N},D=R?function(){try{return A}catch(e){try{return R(arguments,"callee").get}catch(t){return A}}}():A,k="function"==typeof m&&"function"==typeof Symbol&&"symbol"==typeof m("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}(),C=Object.getPrototypeOf||function(e){return e.__proto__},U={},x="undefined"==typeof Uint8Array?void 0:C(Uint8Array),L={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":k?C([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":S,"%GeneratorFunction%":U,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k?C(C([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&k?C((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&k?C((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k?C(""[Symbol.iterator]()):void 0,"%Symbol%":k?Symbol:void 0,"%SyntaxError%":O,"%ThrowTypeError%":D,"%TypedArray%":x,"%TypeError%":N,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},P={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=b.call(Function.call,Array.prototype.concat),F=b.call(Function.apply,Array.prototype.splice),j=b.call(Function.call,String.prototype.replace),V=b.call(Function.call,String.prototype.slice),B=b.call(Function.call,RegExp.prototype.exec),$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G=/\\(\\)?/g,q=function(e){var t=V(e,0,1),n=V(e,-1);if("%"===t&&"%"!==n)throw new O("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new O("invalid intrinsic syntax, expected opening `%`");var r=[];return j(e,$,(function(e,t,n,i){r[r.length]=n?j(i,G,"$1"):t||e})),r},Y=function(e,t){var n,r=e;if(I(P,r)&&(r="%"+(n=P[r])[0]+"%"),I(L,r)){var i=L[r];if(i===U&&(i=function e(t){var n;if("%AsyncFunction%"===t)n=w("async function () {}");else if("%GeneratorFunction%"===t)n=w("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=w("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=C(i.prototype))}return L[t]=n,n}(r)),void 0===i&&!t)throw new N("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new O("intrinsic "+e+" does not exist!")},H=function(e,t){if("string"!=typeof e||0===e.length)throw new N("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new N('"allowMissing" argument must be a boolean');if(null===B(/^%?[^%]*%?$/g,e))throw new O("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=q(e),r=n.length>0?n[0]:"",i=Y("%"+r+"%",t),o=i.name,a=i.value,s=!1,u=i.alias;u&&(r=u[0],F(n,M([0,1],u)));for(var c=1,l=!0;c<n.length;c+=1){var p=n[c],f=V(p,0,1),d=V(p,-1);if(('"'===f||"'"===f||"`"===f||'"'===d||"'"===d||"`"===d)&&f!==d)throw new O("property names with quotes must have matching quotes");if("constructor"!==p&&l||(s=!0),I(L,o="%"+(r+="."+p)+"%"))a=L[o];else if(null!=a){if(!(p in a)){if(!t)throw new N("base intrinsic for "+e+" exists, but the property is not available.");return}if(R&&c+1>=n.length){var h=R(a,p);a=(l=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:a[p]}else l=I(a,p),a=a[p];l&&!s&&(L[o]=a)}}return a},K=y((function(e){var t=H("%Function.prototype.apply%"),n=H("%Function.prototype.call%"),r=H("%Reflect.apply%",!0)||b.call(n,t),i=H("%Object.getOwnPropertyDescriptor%",!0),o=H("%Object.defineProperty%",!0),a=H("%Math.max%");if(o)try{o({},"a",{value:1})}catch(u){o=null}e.exports=function(e){var t=r(b,n,arguments);if(i&&o){var s=i(t,"length");s.configurable&&o(t,"length",{value:1+a(0,e.length-(arguments.length-1))})}return t};var s=function(){return r(b,t,arguments)};o?o(e.exports,"apply",{value:s}):e.exports.apply=s})),z=(K.apply,K(H("String.prototype.indexOf"))),W=function(e,t){var n=H(e,!!t);return"function"==typeof n&&z(e,".prototype.")>-1?K(n):n},J=function(e){return e&&e.default||e}(Object.freeze({__proto__:null,default:{}})),X="function"==typeof Map&&Map.prototype,Z=Object.getOwnPropertyDescriptor&&X?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Q=X&&Z&&"function"==typeof Z.get?Z.get:null,ee=X&&Map.prototype.forEach,te="function"==typeof Set&&Set.prototype,ne=Object.getOwnPropertyDescriptor&&te?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,re=te&&ne&&"function"==typeof ne.get?ne.get:null,ie=te&&Set.prototype.forEach,oe="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,ae="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,se="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,ue=Boolean.prototype.valueOf,ce=Object.prototype.toString,le=Function.prototype.toString,pe=String.prototype.match,fe=String.prototype.slice,de=String.prototype.replace,he=String.prototype.toUpperCase,ve=String.prototype.toLowerCase,ye=RegExp.prototype.test,ge=Array.prototype.concat,me=Array.prototype.join,_e=Array.prototype.slice,Ee=Math.floor,Te="function"==typeof BigInt?BigInt.prototype.valueOf:null,be=Object.getOwnPropertySymbols,Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Oe="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Se="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,Ne=Object.prototype.propertyIsEnumerable,we=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Re(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||ye.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-Ee(-e):Ee(e);if(r!==e){var i=String(r),o=fe.call(t,i.length+1);return de.call(i,n,"$&_")+"."+de.call(de.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return de.call(t,n,"$&_")}var Ae=J.custom,De=Pe(Ae)?Ae:null,ke=function e(t,n,r,i){var o=n||{};if(Fe(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Fe(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!Fe(o,"customInspect")||o.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Fe(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Fe(o,"numericSeparator")&&"boolean"!=typeof o.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,n){if(t.length>n.maxStringLength){var r=t.length-n.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return e(fe.call(t,0,n.maxStringLength),n)+i}return Ce(de.call(de.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Be),"single",n)}(t,o);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var c=String(t);return s?Re(t,c):c}if("bigint"==typeof t){var l=String(t)+"n";return s?Re(t,l):l}var p=void 0===o.depth?5:o.depth;if(void 0===r&&(r=0),r>=p&&p>0&&"object"==typeof t)return xe(t)?"[Array]":"[Object]";var f=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=me.call(Array(e.indent+1)," ")}return{base:n,prev:me.call(Array(t+1),n)}}(o,r);if(void 0===i)i=[];else if(Ve(i,t)>=0)return"[Circular]";function d(t,n,a){if(n&&(i=_e.call(i)).push(n),a){var s={depth:o.depth};return Fe(o,"quoteStyle")&&(s.quoteStyle=o.quoteStyle),e(t,s,r+1,i)}return e(t,o,r+1,i)}if("function"==typeof t&&!Le(t)){var h=function(e){if(e.name)return e.name;var t=pe.call(le.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),v=He(t,d);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(v.length>0?" { "+me.call(v,", ")+" }":"")}if(Pe(t)){var y=Oe?de.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ie.call(t);return"object"!=typeof t||Oe?y:$e(y)}if(function(e){return!(!e||"object"!=typeof e)&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}(t)){for(var g="<"+ve.call(String(t.nodeName)),m=t.attributes||[],_=0;_<m.length;_++)g+=" "+m[_].name+"="+Ce(Ue(m[_].value),"double",o);return g+=">",t.childNodes&&t.childNodes.length&&(g+="..."),g+"</"+ve.call(String(t.nodeName))+">"}if(xe(t)){if(0===t.length)return"[]";var E=He(t,d);return f&&!function(e){for(var t=0;t<e.length;t++)if(Ve(e[t],"\n")>=0)return!1;return!0}(E)?"["+Ye(E,f)+"]":"[ "+me.call(E,", ")+" ]"}if(function(e){return!("[object Error]"!==je(e)||Se&&"object"==typeof e&&Se in e)}(t)){var T=He(t,d);return"cause"in Error.prototype||!("cause"in t)||Ne.call(t,"cause")?0===T.length?"["+String(t)+"]":"{ ["+String(t)+"] "+me.call(T,", ")+" }":"{ ["+String(t)+"] "+me.call(ge.call("[cause]: "+d(t.cause),T),", ")+" }"}if("object"==typeof t&&a){if(De&&"function"==typeof t[De]&&J)return J(t,{depth:p-r});if("symbol"!==a&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!Q||!e||"object"!=typeof e)return!1;try{Q.call(e);try{re.call(e)}catch(g){return!0}return e instanceof Map}catch(u){}return!1}(t)){var b=[];return ee.call(t,(function(e,n){b.push(d(n,t,!0)+" => "+d(e,t))})),qe("Map",Q.call(t),b,f)}if(function(e){if(!re||!e||"object"!=typeof e)return!1;try{re.call(e);try{Q.call(e)}catch(ir){return!0}return e instanceof Set}catch(u){}return!1}(t)){var I=[];return ie.call(t,(function(e){I.push(d(e,t))})),qe("Set",re.call(t),I,f)}if(function(e){if(!oe||!e||"object"!=typeof e)return!1;try{oe.call(e,oe);try{ae.call(e,ae)}catch(g){return!0}return e instanceof WeakMap}catch(u){}return!1}(t))return Ge("WeakMap");if(function(e){if(!ae||!e||"object"!=typeof e)return!1;try{ae.call(e,ae);try{oe.call(e,oe)}catch(g){return!0}return e instanceof WeakSet}catch(u){}return!1}(t))return Ge("WeakSet");if(function(e){if(!se||!e||"object"!=typeof e)return!1;try{return se.call(e),!0}catch(u){}return!1}(t))return Ge("WeakRef");if(function(e){return!("[object Number]"!==je(e)||Se&&"object"==typeof e&&Se in e)}(t))return $e(d(Number(t)));if(function(e){if(!e||"object"!=typeof e||!Te)return!1;try{return Te.call(e),!0}catch(u){}return!1}(t))return $e(d(Te.call(t)));if(function(e){return!("[object Boolean]"!==je(e)||Se&&"object"==typeof e&&Se in e)}(t))return $e(ue.call(t));if(function(e){return!("[object String]"!==je(e)||Se&&"object"==typeof e&&Se in e)}(t))return $e(d(String(t)));if(!function(e){return!("[object Date]"!==je(e)||Se&&"object"==typeof e&&Se in e)}(t)&&!Le(t)){var O=He(t,d),S=we?we(t)===Object.prototype:t instanceof Object||t.constructor===Object,N=t instanceof Object?"":"null prototype",w=!S&&Se&&Object(t)===t&&Se in t?fe.call(je(t),8,-1):N?"Object":"",R=(S||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(w||N?"["+me.call(ge.call([],w||[],N||[]),": ")+"] ":"");return 0===O.length?R+"{}":f?R+"{"+Ye(O,f)+"}":R+"{ "+me.call(O,", ")+" }"}return String(t)};function Ce(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function Ue(e){return de.call(String(e),/"/g,"&quot;")}function xe(e){return!("[object Array]"!==je(e)||Se&&"object"==typeof e&&Se in e)}function Le(e){return!("[object RegExp]"!==je(e)||Se&&"object"==typeof e&&Se in e)}function Pe(e){if(Oe)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!Ie)return!1;try{return Ie.call(e),!0}catch(u){}return!1}var Me=Object.prototype.hasOwnProperty||function(e){return e in this};function Fe(e,t){return Me.call(e,t)}function je(e){return ce.call(e)}function Ve(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Be(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+he.call(t.toString(16))}function $e(e){return"Object("+e+")"}function Ge(e){return e+" { ? }"}function qe(e,t,n,r){return e+" ("+t+") {"+(r?Ye(n,r):me.call(n,", "))+"}"}function Ye(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+me.call(e,","+n)+"\n"+t.prev}function He(e,t){var n=xe(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=Fe(e,i)?t(e[i],e):""}var o,a="function"==typeof be?be(e):[];if(Oe){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)Fe(e,u)&&(n&&String(Number(u))===u&&u<e.length||Oe&&o["$"+u]instanceof Symbol||(ye.call(/[^\w$]/,u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if("function"==typeof be)for(var c=0;c<a.length;c++)Ne.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}var Ke=H("%TypeError%"),ze=H("%WeakMap%",!0),We=H("%Map%",!0),Je=W("WeakMap.prototype.get",!0),Xe=W("WeakMap.prototype.set",!0),Ze=W("WeakMap.prototype.has",!0),Qe=W("Map.prototype.get",!0),et=W("Map.prototype.set",!0),tt=W("Map.prototype.has",!0),nt=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},rt=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new Ke("Side channel does not contain "+ke(e))},get:function(r){if(ze&&r&&("object"==typeof r||"function"==typeof r)){if(e)return Je(e,r)}else if(We){if(t)return Qe(t,r)}else if(n)return function(e,t){var n=nt(e,t);return n&&n.value}(n,r)},has:function(r){if(ze&&r&&("object"==typeof r||"function"==typeof r)){if(e)return Ze(e,r)}else if(We){if(t)return tt(t,r)}else if(n)return function(e,t){return!!nt(e,t)}(n,r);return!1},set:function(r,i){ze&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new ze),Xe(e,r,i)):We?(t||(t=new We),et(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=nt(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r},it=String.prototype.replace,ot=/%20/g,at="RFC3986",st={default:at,formatters:{RFC1738:function(e){return it.call(e,ot,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:at},ut=Object.prototype.hasOwnProperty,ct=Array.isArray,lt=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),pt=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},ft={arrayToObject:pt,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var u=a[s],c=o[u];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:o,prop:u}),n.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(ct(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(u){return r}},encode:function(e,t,n,r,i){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",s=0;s<o.length;++s){var u=o.charCodeAt(s);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===st.RFC1738&&(40===u||41===u)?a+=o.charAt(s):u<128?a+=lt[u]:u<2048?a+=lt[192|u>>6]+lt[128|63&u]:u<55296||u>=57344?a+=lt[224|u>>12]+lt[128|u>>6&63]+lt[128|63&u]:(s+=1,u=65536+((1023&u)<<10|1023&o.charCodeAt(s)),a+=lt[240|u>>18]+lt[128|u>>12&63]+lt[128|u>>6&63]+lt[128|63&u])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(ct(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(ct(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!ut.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var i=t;return ct(t)&&!ct(n)&&(i=pt(t,r)),ct(t)&&ct(n)?(n.forEach((function(n,i){if(ut.call(t,i)){var o=t[i];o&&"object"==typeof o&&n&&"object"==typeof n?t[i]=e(o,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var o=n[i];return ut.call(t,i)?t[i]=e(t[i],o,r):t[i]=o,t}),i)}},dt=Object.prototype.hasOwnProperty,ht={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},vt=Array.isArray,yt=String.prototype.split,gt=Array.prototype.push,mt=function(e,t){gt.apply(e,vt(t)?t:[t])},_t=Date.prototype.toISOString,Et=st.default,Tt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ft.encode,encodeValuesOnly:!1,format:Et,formatter:st.formatters[Et],indices:!1,serializeDate:function(e){return _t.call(e)},skipNulls:!1,strictNullHandling:!1},bt={},It=function e(t,n,r,i,o,a,s,u,c,l,p,f,d,h,v,y){for(var g=t,m=y,_=0,E=!1;void 0!==(m=m.get(bt))&&!E;){var T=m.get(t);if(_+=1,void 0!==T){if(T===_)throw new RangeError("Cyclic object value");E=!0}void 0===m.get(bt)&&(_=0)}if("function"==typeof u?g=u(n,g):g instanceof Date?g=p(g):"comma"===r&&vt(g)&&(g=ft.maybeMap(g,(function(e){return e instanceof Date?p(e):e}))),null===g){if(o)return s&&!h?s(n,Tt.encoder,v,"key",f):n;g=""}if(function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e}(g)||ft.isBuffer(g)){if(s){var b=h?n:s(n,Tt.encoder,v,"key",f);if("comma"===r&&h){for(var I=yt.call(String(g),","),O="",S=0;S<I.length;++S)O+=(0===S?"":",")+d(s(I[S],Tt.encoder,v,"value",f));return[d(b)+(i&&vt(g)&&1===I.length?"[]":"")+"="+O]}return[d(b)+"="+d(s(g,Tt.encoder,v,"value",f))]}return[d(n)+"="+d(String(g))]}var N,w=[];if(void 0===g)return w;if("comma"===r&&vt(g))N=[{value:g.length>0?g.join(",")||null:void 0}];else if(vt(u))N=u;else{var R=Object.keys(g);N=c?R.sort(c):R}for(var A=i&&vt(g)&&1===g.length?n+"[]":n,D=0;D<N.length;++D){var k=N[D],C="object"==typeof k&&void 0!==k.value?k.value:g[k];if(!a||null!==C){var U=vt(g)?"function"==typeof r?r(A,k):A:A+(l?"."+k:"["+k+"]");y.set(t,_);var x=rt();x.set(bt,y),mt(w,e(C,U,r,i,o,a,s,u,c,l,p,f,d,h,v,x))}}return w},Ot=Object.prototype.hasOwnProperty,St=Array.isArray,Nt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ft.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},wt=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},Rt=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},At=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(i),s=a?i.slice(0,a.index):i,u=[];if(s){if(!n.plainObjects&&Ot.call(Object.prototype,s)&&!n.allowPrototypes)return;u.push(s)}for(var c=0;n.depth>0&&null!==(a=o.exec(i))&&c<n.depth;){if(c+=1,!n.plainObjects&&Ot.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+i.slice(a.index)+"]"),function(e,t,n,r){for(var i=r?t:Rt(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(u,10);n.parseArrays||""!==u?!isNaN(c)&&s!==u&&String(c)===u&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(a=[])[c]=i:"__proto__"!==u&&(a[u]=i):a={0:i}}i=a}return i}(u,t,n,r)}},Dt=function(e,t){var n,r=e,i=function(e){if(!e)return Tt;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||Tt.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=st.default;if(void 0!==e.format){if(!dt.call(st.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=st.formatters[n],i=Tt.filter;return("function"==typeof e.filter||vt(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:Tt.addQueryPrefix,allowDots:void 0===e.allowDots?Tt.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Tt.charsetSentinel,delimiter:void 0===e.delimiter?Tt.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:Tt.encode,encoder:"function"==typeof e.encoder?e.encoder:Tt.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:Tt.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:Tt.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:Tt.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Tt.strictNullHandling}}(t);"function"==typeof i.filter?r=(0,i.filter)("",r):vt(i.filter)&&(n=i.filter);var o,a=[];if("object"!=typeof r||null===r)return"";o=t&&t.arrayFormat in ht?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var s=ht[o];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u="comma"===s&&t&&t.commaRoundTrip;n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=rt(),l=0;l<n.length;++l){var p=n[l];i.skipNulls&&null===r[p]||mt(a,It(r[p],p,s,u,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,c))}var f=a.join(i.delimiter),d=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),f.length>0?d+f:""},kt=y((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}})),Ct=Pt;Pt.default=Pt,Pt.stable=jt,Pt.stableStringify=jt;var Ut=[],xt=[];function Lt(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Pt(e,t,n,r){var i;void 0===r&&(r=Lt()),function e(t,n,r,i,o,a,s){var u;if(a+=1,"object"==typeof t&&null!==t){for(u=0;u<i.length;u++)if(i[u]===t)return void Mt("[Circular]",t,n,o);if(void 0!==s.depthLimit&&a>s.depthLimit)return void Mt("[...]",t,n,o);if(void 0!==s.edgesLimit&&r+1>s.edgesLimit)return void Mt("[...]",t,n,o);if(i.push(t),Array.isArray(t))for(u=0;u<t.length;u++)e(t[u],u,u,i,t,a,s);else{var c=Object.keys(t);for(u=0;u<c.length;u++){var l=c[u];e(t[l],l,u,i,t,a,s)}}i.pop()}}(e,"",0,[],void 0,0,r);try{i=0===xt.length?JSON.stringify(e,t,n):JSON.stringify(e,Vt(t),n)}catch(pr){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==Ut.length;){var o=Ut.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Mt(e,t,n,r){var i=Object.getOwnPropertyDescriptor(r,n);void 0!==i.get?i.configurable?(Object.defineProperty(r,n,{value:e}),Ut.push([r,n,t,i])):xt.push([t,n,e]):(r[n]=e,Ut.push([r,n,t]))}function Ft(e,t){return e<t?-1:e>t?1:0}function jt(e,t,n,r){void 0===r&&(r=Lt());var i,o=function e(t,n,r,i,o,a,s){var u;if(a+=1,"object"==typeof t&&null!==t){for(u=0;u<i.length;u++)if(i[u]===t)return void Mt("[Circular]",t,n,o);try{if("function"==typeof t.toJSON)return}catch(pr){return}if(void 0!==s.depthLimit&&a>s.depthLimit)return void Mt("[...]",t,n,o);if(void 0!==s.edgesLimit&&r+1>s.edgesLimit)return void Mt("[...]",t,n,o);if(i.push(t),Array.isArray(t))for(u=0;u<t.length;u++)e(t[u],u,u,i,t,a,s);else{var c={},l=Object.keys(t).sort(Ft);for(u=0;u<l.length;u++){var p=l[u];e(t[p],p,u,i,t,a,s),c[p]=t[p]}if(void 0===o)return c;Ut.push([o,n,t]),o[n]=c}i.pop()}}(e,"",0,[],void 0,0,r)||e;try{i=0===xt.length?JSON.stringify(o,t,n):JSON.stringify(o,Vt(t),n)}catch(pr){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==Ut.length;){var a=Ut.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function Vt(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(xt.length>0)for(var r=0;r<xt.length;r++){var i=xt[r];if(i[1]===t&&i[0]===n){n=i[2],xt.splice(r,1);break}}return e.call(this,t,n)}}function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $t=function(e){return null!==e&&"object"===Bt(e)};function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qt=Yt;function Yt(e){if(e)return function(e){for(var t in Yt.prototype)Object.prototype.hasOwnProperty.call(Yt.prototype,t)&&(e[t]=Yt.prototype[t]);return e}(e)}Yt.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},Yt.prototype.parse=function(e){return this._parser=e,this},Yt.prototype.responseType=function(e){return this._responseType=e,this},Yt.prototype.serialize=function(e){return this._serializer=e,this},Yt.prototype.timeout=function(e){if(!e||"object"!==Gt(e))return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},Yt.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var Ht=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];Yt.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(r){console.error(r)}if(t&&t.status&&t.status>=500&&501!==t.status)return!0;if(e){if(e.code&&Ht.includes(e.code))return!0;if(e.timeout&&"ECONNABORTED"===e.code)return!0;if(e.crossDomain)return!0}return!1},Yt.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},Yt.prototype.then=function(e,t){var n=this;if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,t){r.on("abort",(function(){if(!(n._maxRetries&&n._maxRetries>n._retries))if(n.timedout&&n.timedoutError)t(n.timedoutError);else{var e=new Error("Aborted");e.code="ABORTED",e.status=n.status,e.method=n.method,e.url=n.url,t(e)}})),r.end((function(n,r){n?t(n):e(r)}))}))}return this._fullfilledPromise.then(e,t)},Yt.prototype.catch=function(e){return this.then(void 0,e)},Yt.prototype.use=function(e){return e(this),this},Yt.prototype.ok=function(e){if("function"!=typeof e)throw new Error("Callback required");return this._okCallback=e,this},Yt.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},Yt.prototype.get=function(e){return this._header[e.toLowerCase()]},Yt.prototype.getHeader=Yt.prototype.get,Yt.prototype.set=function(e,t){if($t(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},Yt.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},Yt.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if($t(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.field(e,t[r]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=String(t)),this._getFormData().append(e,t),this},Yt.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},Yt.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic ".concat(r("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e))}return this},Yt.prototype.withCredentials=function(e){return void 0===e&&(e=!0),this._withCredentials=e,this},Yt.prototype.redirects=function(e){return this._maxRedirects=e,this},Yt.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},Yt.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},Yt.prototype.send=function(e){var t=$t(e),n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&$t(this._data))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this._data[r]=e[r]);else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"===n?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},Yt.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},Yt.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.slice(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.slice(0,t)+"?"+n.join("&")}}},Yt.prototype._appendQueryString=function(){console.warn("Unsupported")},Yt.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error("".concat(e+t,"ms exceeded"));r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.timedoutError=r,this.abort(),this.callback(r)}},Yt.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))};var Kt=zt;function zt(e){if(e)return function(e){for(var t in zt.prototype)Object.prototype.hasOwnProperty.call(zt.prototype,t)&&(e[t]=zt.prototype[t]);return e}(e)}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jt(){this._defaults=[]}zt.prototype.get=function(e){return this.header[e.toLowerCase()]},zt.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=t.split(/ *; */).shift();var n=function(e){return e.split(/ *; */).reduce((function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e}),{})}(t);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(this[r]=n[r]);this.links={};try{e.link&&(this.links=function(e){return e.split(/ *, */).reduce((function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e}),{})}(e.link))}catch(i){}},zt.prototype._setStatusProperties=function(e){var t=e/100|0;this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=1===t,this.ok=2===t,this.redirect=3===t,this.clientError=4===t,this.serverError=5===t,this.error=(4===t||5===t)&&this.toError(),this.created=201===e,this.accepted=202===e,this.noContent=204===e,this.badRequest=400===e,this.unauthorized=401===e,this.notAcceptable=406===e,this.forbidden=403===e,this.notFound=404===e,this.unprocessableEntity=422===e},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(e){Jt.prototype[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._defaults.push({fn:e,args:n}),this}})),Jt.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,function(e){return function(e){if(Array.isArray(e))return Wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.args))}))};for(var Xt=Jt,Zt=y((function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;function i(){}"undefined"!=typeof window?r=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),r=void 0):r=self,e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1===arguments.length?new t.Request("GET",e):new t.Request(e,n)};var o=t=e.exports;t.Request=f,o.getXHR=function(){if(r.XMLHttpRequest&&(!r.location||"file:"!==r.location.protocol||!r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(n){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(i){}throw new Error("Browser-only version of superagent could not find XHR")};var a="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function s(e){if(!$t(e))return e;var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&u(t,n,e[n]);return t.join("&")}function u(e,t,n){if(void 0!==n)if(null!==n)if(Array.isArray(n))n.forEach((function(n){u(e,t,n)}));else if($t(n))for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&u(e,"".concat(t,"[").concat(r,"]"),n[r]);else e.push(encodeURI(t)+"="+encodeURIComponent(n));else e.push(encodeURI(t))}function c(e){for(var t,n,r={},i=e.split("&"),o=0,a=i.length;o<a;++o)-1===(n=(t=i[o]).indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function l(e){return/[/+]json($|[^-\w])/.test(e)}function p(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.headers=function(e){for(var t,n,r,i,o=e.split(/\r?\n/),s={},u=0,c=o.length;u<c;++u)-1!==(t=(n=o[u]).indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),i=a(n.slice(t+1)),s[r]=i);return s}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function f(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,r=null;try{r=new p(n)}catch(i){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=i,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||r.text||"Unsuccessful HTTP response"))}catch(i){e=i}e?(e.original=t,e.response=r,e.status=r.status,n.callback(e,r)):n.callback(null,r)}))}function d(e,t,n){var r=o("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}o.serializeObject=s,o.parseString=c,o.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},o.serialize={"application/x-www-form-urlencoded":s,"application/json":Ct},o.parse={"application/x-www-form-urlencoded":c,"application/json":JSON.parse},Kt(p.prototype),p.prototype._parseBody=function(e){var t=o.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&l(this.type)&&(t=o.parse["application/json"]),t&&e&&(e.length>0||e instanceof Object)?t(e):null)},p.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot ".concat(t," ").concat(n," (").concat(this.status,")"),i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},o.Response=p,kt(f.prototype),qt(f.prototype),f.prototype.type=function(e){return this.set("Content-Type",o.types[e]||e),this},f.prototype.accept=function(e){return this.set("Accept",o.types[e]||e),this},f.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"===n(t)&&null!==t&&(r=t,t=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var i=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,r,i)},f.prototype.query=function(e){return"string"!=typeof e&&(e=s(e)),e&&this._query.push(e),this},f.prototype.attach=function(e,t,n){if(t){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},f.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},f.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},f.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},f.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},f.prototype.ca=f.prototype.agent,f.prototype.buffer=f.prototype.ca,f.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},f.prototype.pipe=f.prototype.write,f.prototype._isHost=function(e){return e&&"object"===n(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},f.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||i,this._finalizeQueryString(),this._end()},f.prototype._setUploadTimeout=function(){var e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},f.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var e=this;this.xhr=o.getXHR();var t=this.xhr,n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4===n){var r;try{r=t.status}catch(i){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(e._uploadTimeoutTimer)),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.addEventListener("progress",r.bind(null,"download")),t.upload&&t.upload.addEventListener("progress",r.bind(null,"upload"))}catch(u){}t.upload&&this._setUploadTimeout();try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(c){return this.callback(c)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],a=this._serializer||o.serialize[i?i.split(";")[0]:""];!a&&l(i)&&(a=o.serialize["application/json"]),a&&(n=a(n))}for(var s in this.header)null!==this.header[s]&&Object.prototype.hasOwnProperty.call(this.header,s)&&t.setRequestHeader(s,this.header[s]);this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0===n?null:n)},o.agent=function(){return new Xt},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){Xt.prototype[e.toLowerCase()]=function(t,n){var r=new o.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}})),Xt.prototype.del=Xt.prototype.delete,o.get=function(e,t,n){var r=o("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},o.head=function(e,t,n){var r=o("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},o.options=function(e,t,n){var r=o("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},o.del=d,o.delete=d,o.patch=function(e,t,n){var r=o("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},o.post=function(e,t,n){var r=o("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},o.put=function(e,t,n){var r=o("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}})),Qt=(Zt.Request,[]),en=[],tn=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),nn=0,rn=tn.length;nn<rn;++nn)Qt[nn]=tn[nn],en[tn.charCodeAt(nn)]=nn;function on(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function an(e,t,n){for(var r,i,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(Qt[(i=r)>>18&63]+Qt[i>>12&63]+Qt[i>>6&63]+Qt[63&i]);return o.join("")}en["-".charCodeAt(0)]=62,en["_".charCodeAt(0)]=63;var sn=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(an(e,o,o+16383>a?a:o+16383));return 1===r?(t=e[n-1],i.push(Qt[t>>2]+Qt[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(Qt[t>>10]+Qt[t>>4&63]+Qt[t<<2&63]+"=")),i.join("")},un=function(e){return sn(function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)).replace(/\+/g,"-").replace(/\//g,"_")},cn={raw:"9.20.1"},ln=Object.prototype.toString;function pn(e,t,n,r){if(n="array"===n?"object":n,e&&typeof e[t]!==n)throw new Error(r)}function fn(e,t,n){if(typeof e!==t)throw new Error(n)}function dn(e,t,n){if(-1===t.indexOf(e))throw new Error(n)}var hn={check:function(e,t,n){if(t.optional&&!e||fn(e,t.type,t.message),"object"===t.type&&n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i];n[o].optional&&!e[o]||n[o].condition&&!n[o].condition(e)||(pn(e,o,n[o].type,n[o].message),n[o].values&&dn(e[o],n[o].values,n[o].value_message))}},attribute:pn,variable:fn,value:dn,isArray:function(e){return this.supportsIsArray()?Array.isArray(e):"[object Array]"===ln.call(e)},supportsIsArray:function(){return null!=Array.isArray}};function vn(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i=Object.keys(Object(r)),o=0,a=i.length;o<a;o++){var s=i[o],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(t[s]=r[s])}}return t}var yn=function(){return Object.assign?Object.assign:vn};function gn(e,t){return t.reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),{})}function mn(e){var t=[];for(var n in e)t.push(e[n]);return t}function _n(){var e=mn(arguments);return e.unshift({}),yn().apply(void 0,e)}function En(e){var t=e.match(/^(https?:|file:|chrome-extension:)\/\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return t&&{href:e,protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]}}function Tn(e,t){var n=_n(e);return e[t]&&(n[t]=e[t].trim()),n}var bn={toSnakeCase:function e(t,n){return"object"!=typeof t||hn.isArray(t)||null===t?t:(n=n||[],Object.keys(t).reduce((function(r,i){return r[-1===n.indexOf(i)?function(e){for(var t,n="",r=0,i=!0,o=!0;r<e.length;)t=e.charCodeAt(r),!o&&t>=65&&t<=90||!i&&t>=48&&t<=57?(n+="_",n+=e[r].toLowerCase()):n+=e[r].toLowerCase(),i=t>=48&&t<=57,o=t>=65&&t<=90,r++;return n}(i):i]=e(t[i]),r}),{}))},toCamelCase:function e(t,n,r){return"object"!=typeof t||hn.isArray(t)||null===t?t:(n=n||[],r=r||{},Object.keys(t).reduce((function(i,o){var a,s=-1===n.indexOf(o)?(a=o.split("_")).reduce((function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}),a.shift()):o;return i[s]=e(t[s]||t[o],[],r),r.keepOriginal&&(i[o]=e(t[o],[],r)),i}),{}))},blacklist:function(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})},merge:function(e,t){return{base:t?gn(e,t):e,with:function(e,t){return e=t?gn(e,t):e,_n(this.base,e)}}},pick:gn,getKeysNotIn:function(e,t){var n=[];for(var r in e)-1===t.indexOf(r)&&n.push(r);return n},extend:_n,getOriginFromUrl:function(e){if(e){var t=En(e);if(!t)return null;var n=t.protocol+"//"+t.hostname;return t.port&&(n+=":"+t.port),n}},getLocationFromUrl:En,trimUserDetails:function(e){return function(e,t){return["username","email","phoneNumber"].reduce(Tn,e)}(e)},updatePropertyOn:function e(t,n,r){"string"==typeof n&&(n=n.split("."));var i=n[0];t.hasOwnProperty(i)&&(1===n.length?t[i]=r:e(t[i],n.slice(1),r))}};function In(e){this.request=e,this.method=e.method,this.url=e.url,this.body=e._data,this.headers=e._header}function On(e){this.request=e}function Sn(e){this._sendTelemetry=!1!==e._sendTelemetry||e._sendTelemetry,this._telemetryInfo=e._telemetryInfo||null,this._timesToRetryFailedRequests=e._timesToRetryFailedRequests,this.headers=e.headers||{},this._universalLoginPage=e.universalLoginPage}function Nn(){return window}In.prototype.abort=function(){this.request.abort()},In.prototype.getMethod=function(){return this.method},In.prototype.getBody=function(){return this.body},In.prototype.getUrl=function(){return this.url},In.prototype.getHeaders=function(){return this.headers},On.prototype.set=function(e,t){return this.request=this.request.set(e,t),this},On.prototype.send=function(e){return this.request=this.request.send(bn.trimUserDetails(e)),this},On.prototype.withCredentials=function(){return this.request=this.request.withCredentials(),this},On.prototype.end=function(e){return this.request.end(e),new In(this.request)},Sn.prototype.setCommonConfiguration=function(e,t){if(t=t||{},this._timesToRetryFailedRequests>0&&(e=e.retry(this._timesToRetryFailedRequests)),t.noHeaders)return e;var n=this.headers;e=e.set("Content-Type","application/json"),t.xRequestLanguage&&(e=e.set("X-Request-Language",t.xRequestLanguage));for(var r=Object.keys(this.headers),i=0;i<r.length;i++)e=e.set(r[i],n[r[i]]);return this._sendTelemetry&&(e=e.set("Auth0-Client",this.getTelemetryData())),e},Sn.prototype.getTelemetryData=function(){var e=this._universalLoginPage?"auth0.js-ulp":"auth0.js",t={name:e,version:cn.raw};this._telemetryInfo&&((t=bn.extend({},this._telemetryInfo)).env=bn.extend({},this._telemetryInfo.env),t.env[e]=cn.raw);var n=JSON.stringify(t);return un(n)},Sn.prototype.get=function(e,t){return new On(this.setCommonConfiguration(Zt.get(e),t))},Sn.prototype.post=function(e,t){return new On(this.setCommonConfiguration(Zt.post(e),t))},Sn.prototype.patch=function(e,t){return new On(this.setCommonConfiguration(Zt.patch(e),t))};var wn={redirect:function(e){Nn().location=e},getDocument:function(){return Nn().document},getWindow:Nn,getOrigin:function(){var e=Nn().location,t=e.origin;return t||(t=bn.getOriginFromUrl(e.href)),t}};function Rn(){}Rn.prototype.getItem=function(){return null},Rn.prototype.removeItem=function(){},Rn.prototype.setItem=function(){};var An=y((function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(u){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(r.read||r)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(u){}if(i[l]=c,e===l)break}catch(u){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},e.exports=n()}));function Dn(e){return"_"+e+"_compat"}function kn(e){this._options=e||{}}function Cn(e){this.disableWarnings=e.disableWarnings}function Un(e){if(this.warn=new Cn({}),this.storage=new kn(e),!0===e.__tryLocalStorageFirst)try{var t=wn.getWindow().localStorage;t&&(this.storage=t)}catch(u){this.warn.warning(u),this.warn.warning("Can't use localStorage. Using CookieStorage instead.")}}function xn(e){this.handler=new Un(e)}function Ln(e){this.storage=new xn(e)}function Pn(e,t){return{error:e,errorDescription:t}}kn.prototype.getItem=function(e){return An.get(e)||An.get(Dn(e))},kn.prototype.removeItem=function(e){An.remove(e),An.remove(Dn(e))},kn.prototype.setItem=function(e,t,n){var r=bn.extend({expires:1},n);if("https:"===wn.getWindow().location.protocol&&(r.secure=!0,r.sameSite="none",this._options.legacySameSiteCookie)){var i=bn.blacklist(r,["sameSite"]);An.set(Dn(e),t,i)}An.set(e,t,r)},Cn.prototype.warning=function(e){this.disableWarnings||console.warn(e)},Un.prototype.failover=function(){this.storage instanceof Rn?this.warn.warning("DummyStorage: ignore failover"):this.storage instanceof kn?(this.warn.warning("CookieStorage: failing over DummyStorage"),this.storage=new Rn):(this.warn.warning("LocalStorage: failing over CookieStorage"),this.storage=new kn)},Un.prototype.getItem=function(e){try{return this.storage.getItem(e)}catch(u){return this.warn.warning(u),this.failover(),this.getItem(e)}},Un.prototype.removeItem=function(e){try{return this.storage.removeItem(e)}catch(u){return this.warn.warning(u),this.failover(),this.removeItem(e)}},Un.prototype.setItem=function(e,t,n){try{return this.storage.setItem(e,t,n)}catch(u){return this.warn.warning(u),this.failover(),this.setItem(e,t,n)}},xn.prototype.getItem=function(e){var t=this.handler.getItem(e);try{return JSON.parse(t)}catch(pr){return t}},xn.prototype.removeItem=function(e){return this.handler.removeItem(e)},xn.prototype.setItem=function(e,t,n){var r=JSON.stringify(t);return this.handler.setItem(e,r,n)},Ln.prototype.set=function(e,t){var n={lastUsedConnection:e,lastUsedSub:t};this.storage.setItem("auth0.ssodata",JSON.stringify(n))},Ln.prototype.get=function(){var e=this.storage.getItem("auth0.ssodata");if(e)return JSON.parse(e)};var Mn={buildResponse:Pn,invalidToken:function(e){return Pn("invalid_token",e)}};function Fn(e,t){return(t=t||{}).ignoreCasing=!!t.ignoreCasing&&t.ignoreCasing,function(n,r){var i;return n||r?(!n&&r.err&&(n=r.err,r=null),!n&&r.error&&(n=r,r=null),n?(i={original:n},bn.updatePropertyOn(i,"original.response.req._data.password","*****"),n.response&&n.response.statusCode&&(i.statusCode=n.response.statusCode),n.response&&n.response.statusText&&(i.statusText=n.response.statusText),n.response&&n.response.body&&(n=n.response.body),n.err&&(n=n.err),i.code=n.code||n.error||n.error_code||n.status||null,i.description=n.errorDescription||n.error_description||n.description||n.error||n.details||n.err||null,t.forceLegacyError&&(i.error=i.code,i.error_description=i.description),n.error_codes&&n.error_details&&(i.errorDetails={codes:n.error_codes,details:n.error_details}),n.name&&(i.name=n.name),n.policy&&(i.policy=n.policy),e(i)):!r.type||"text/html"!==r.type&&"text/plain"!==r.type?t.ignoreCasing?e(null,r.body||r):e(null,bn.toCamelCase(r.body||r,[],{keepOriginal:t.keepOriginalCasing})):e(null,r.text)):e(Mn.buildResponse("generic_error","Something went wrong"))}}var jn=["realm","audience","otp","client_id","client_secret","redirect_uri","scope","code","grant_type","username","password","refresh_token","assertion","client_assertion","client_assertion_type","code_verifier"],Vn=["connection","connection_scope","auth0Client","owp","device","realm","organization","invitation","protocol","_csrf","_intstate","login_ticket","client_id","response_type","response_mode","redirect_uri","audience","scope","state","nonce","display","prompt","screen_hint","max_age","ui_locales","claims_locales","id_token_hint","login_hint","acr_values","claims","registration","request","request_uri","code_challenge","code_challenge_method","access_type","display"],Bn=function(e,t){return bn.pick(t,jn)},$n=function(e,t){var n=bn.getKeysNotIn(t,Vn);return n.length>0&&e.warning("Following parameters are not allowed on the `/authorize` endpoint: ["+n.join(",")+"]"),t},Gn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function qn(e){var t={exports:{}};return e(t,t.exports),t.exports}var Yn=qn((function(e,t){e.exports=function(){function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,r=void 0,i=void 0,o=function(e,t){d[n]=e,d[n+1]=t,2===(n+=2)&&(i?i(v):E())},a="undefined"!=typeof window?window:void 0,s=a||{},u=s.MutationObserver||s.WebKitMutationObserver,c="undefined"==typeof self&&"undefined"!=typeof h&&"[object process]"==={}.toString.call(h),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(v,1)}}var d=new Array(1e3);function v(){for(var e=0;e<n;e+=2)(0,d[e])(d[e+1]),d[e]=void 0,d[e+1]=void 0;n=0}var y,g,m,_,E=void 0;function T(e,t){var n=this,r=new this.constructor(O);void 0===r[I]&&L(r);var i=n._state;if(i){var a=arguments[i-1];o((function(){return U(i,r,a,n._result)}))}else k(n,r,e,t);return r}function b(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(O);return w(t,e),t}E=c?function(){return h.nextTick(v)}:u?(g=0,m=new u(v),_=document.createTextNode(""),m.observe(_,{characterData:!0}),function(){_.data=g=++g%2}):p?((y=new MessageChannel).port1.onmessage=v,function(){return y.port2.postMessage(0)}):void 0===a?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(v)}:f()}catch(e){return f()}}():f();var I=Math.random().toString(36).substring(2);function O(){}var S=void 0;function N(t,n,r){n.constructor===t.constructor&&r===T&&n.constructor.resolve===b?function(e,t){1===t._state?A(e,t._result):2===t._state?D(e,t._result):k(t,void 0,(function(t){return w(e,t)}),(function(t){return D(e,t)}))}(t,n):void 0===r?A(t,n):e(r)?function(e,t,n){o((function(e){var r=!1,i=function(n,i,o,a){try{n.call(i,(function(n){r||(r=!0,t!==n?w(e,n):A(e,n))}),(function(t){r||(r=!0,D(e,t))}))}catch(e){return e}}(n,t);!r&&i&&(r=!0,D(e,i))}),e)}(t,n,r):A(t,n)}function w(e,t){if(e===t)D(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=t),null===r||"object"!==i&&"function"!==i)A(e,t);else{var n=void 0;try{n=t.then}catch(t){return void D(e,t)}N(e,t,n)}var r,i}function R(e){e._onerror&&e._onerror(e._result),C(e)}function A(e,t){e._state===S&&(e._result=t,e._state=1,0!==e._subscribers.length&&o(C,e))}function D(e,t){e._state===S&&(e._state=2,e._result=t,o(R,e))}function k(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+1]=n,i[a+2]=r,0===a&&e._state&&o(C,e)}function C(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a+n],(r=t[a])?U(n,r,i,o):i(o);e._subscribers.length=0}}function U(t,n,r,i){var o=e(r),a=void 0,s=void 0,u=!0;if(o){try{a=r(i)}catch(t){u=!1,s=t}if(n===a)return void D(n,new TypeError("A promises callback cannot return that same promise."))}else a=i;n._state!==S||(o&&u?w(n,a):!1===u?D(n,s):1===t?A(n,a):2===t&&D(n,a))}var x=0;function L(e){e[I]=x++,e._state=void 0,e._result=void 0,e._subscribers=[]}var P=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(O),this.promise[I]||L(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&A(this.promise,this._result))):D(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===S&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===b){var i=void 0,o=void 0,a=!1;try{i=e.then}catch(e){a=!0,o=e}if(i===T&&e._state!==S)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===M){var s=new n(O);a?D(s,o):N(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===S&&(this._remaining--,2===e?D(r,n):this._result[t]=n),0===this._remaining&&A(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;k(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),M=function(){function t(e){this[I]=x++,this._result=this._state=void 0,this._subscribers=[],O!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){w(e,t)}),(function(t){D(e,t)}))}catch(t){D(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return M.prototype.then=T,M.all=function(e){return new P(this,e).promise},M.race=function(e){var n=this;return t(e)?new n((function(t,r){for(var i=e.length,o=0;o<i;o++)n.resolve(e[o]).then(t,r)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))},M.resolve=b,M.reject=function(e){var t=new this(O);return D(t,e),t},M._setScheduler=function(e){i=e},M._setAsap=function(e){o=e},M._asap=o,M.polyfill=function(){var e=void 0;if(void 0!==Gn)e=Gn;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(l){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(l){}if("[object Promise]"===n&&!t.cast)return}e.Promise=M},M.Promise=M,M}()})),Hn={__proto__:null,default:{}},Kn=qn((function(e,t){var n;e.exports=n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==Gn&&Gn.crypto&&(n=Gn.crypto),!n)try{n=Hn}catch(l){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(l){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(l){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},a=o.lib={},s=a.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=a.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++)t[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new u.init(t,e)}}),c=o.enc={},p=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},f=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++)r.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},d=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},h=a.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,o);if(c){for(var p=0;p<c;p+=a)this._doProcessBlock(i,p);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=h.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}});var v=o.algo={};return o}(Math)})),zn=qn((function(e,t){var n;e.exports=(n=Kn,function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,a=t.algo,s=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],p=n[6],f=n[7],d=0;d<64;d++){if(d<16)c[d]=0|e[t+d];else{var h=c[d-15],v=c[d-2];c[d]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+c[d-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+c[d-16]}var y=r&i^r&o^i&o,g=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&p)+u[d]+c[d];f=p,p=l,l=s,s=a+g|0,a=o,o=i,i=r,r=g+(((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+p|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),n.SHA256)})),Wn=qn((function(e,t){var n,r;e.exports=(r=(n=Kn).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var i=[],o=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,u=n[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=(s|u)<<24-o%4*8,o++}return r.create(i,o)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)})),Jn=qn((function(e,t){e.exports=Kn.enc.Hex})),Xn=qn((function(e,t){(function(){var t;function n(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):this.fromString(e,null==t&&"string"!=typeof e?256:t))}function r(){return new n(null)}var i="undefined"!=typeof navigator;i&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*a;i=((u=a*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),n[r++]=1073741823&u}return i},t=30):i&&"Netscape"!=navigator.appName?(n.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},t=26):(n.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*a;i=((u=a*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return i},t=28),n.prototype.DB=t,n.prototype.DM=(1<<t)-1,n.prototype.DV=1<<t,n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-t,n.prototype.F2=2*t-52;var o,a,s=new Array;for(o="0".charCodeAt(0),a=0;a<=9;++a)s[o++]=a;for(o="a".charCodeAt(0),a=10;a<36;++a)s[o++]=a;for(o="A".charCodeAt(0),a=10;a<36;++a)s[o++]=a;function u(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function c(e,t){var n=s[e.charCodeAt(t)];return null==n?-1:n}function l(e){var t=r();return t.fromInt(e),t}function p(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function f(e){this.m=e}function d(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function h(e,t){return e&t}function v(e,t){return e|t}function y(e,t){return e^t}function g(e,t){return e&~t}function m(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function _(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function E(){}function T(e){return e}function b(e){this.r2=r(),this.q3=r(),n.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}f.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},f.prototype.revert=function(e){return e},f.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},f.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},f.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},d.prototype.convert=function(e){var t=r();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(n.ZERO)>0&&this.m.subTo(t,t),t},d.prototype.revert=function(e){var t=r();return e.copyTo(t),this.reduce(t),t},d.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},d.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},d.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},n.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},n.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var i=e.length,o=!1,a=0;--i>=0;){var s=8==r?255&e[i]:c(e,i);s<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},n.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},n.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},n.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},n.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},n.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},n.prototype.multiplyTo=function(e,t){var r=this.abs(),i=e.abs(),o=r.t;for(t.t=o+i.t;--o>=0;)t[o]=0;for(o=0;o<i.t;++o)t[o+r.t]=r.am(0,i[o],t,o,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)},n.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},n.prototype.divRemTo=function(e,t,i){var o=e.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=r());var s=r(),u=this.s,c=e.s,l=this.DB-p(o[o.t-1]);l>0?(o.lShiftTo(l,s),a.lShiftTo(l,i)):(o.copyTo(s),a.copyTo(i));var f=s.t,d=s[f-1];if(0!=d){var h=d*(1<<this.F1)+(f>1?s[f-2]>>this.F2:0),v=this.FV/h,y=(1<<this.F1)/h,g=1<<this.F2,m=i.t,_=m-f,E=null==t?r():t;for(s.dlShiftTo(_,E),i.compareTo(E)>=0&&(i[i.t++]=1,i.subTo(E,i)),n.ONE.dlShiftTo(f,E),E.subTo(s,s);s.t<f;)s[s.t++]=0;for(;--_>=0;){var T=i[--m]==d?this.DM:Math.floor(i[m]*v+(i[m-1]+g)*y);if((i[m]+=s.am(0,T,i,_,0,f))<T)for(s.dlShiftTo(_,E),i.subTo(E,i);i[m]<--T;)i.subTo(E,i)}null!=t&&(i.drShiftTo(f,t),u!=c&&n.ZERO.subTo(t,t)),i.t=f,i.clamp(),l>0&&i.rShiftTo(l,i),u<0&&n.ZERO.subTo(i,i)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},n.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},n.prototype.exp=function(e,t){if(e>4294967295||e<1)return n.ONE;var i=r(),o=r(),a=t.convert(this),s=p(e)-1;for(a.copyTo(i);--s>=0;)if(t.sqrTo(i,o),(e&1<<s)>0)t.mulTo(o,a,i);else{var u=i;i=o,o=u}return t.revert(i)},n.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=u(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=u(n));return i?o:"0"},n.prototype.negate=function(){var e=r();return n.ZERO.subTo(this,e),e},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(e){var t=r();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t},n.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new f(t):new d(t),this.exp(e,n)},n.ZERO=l(0),n.ONE=l(1),E.prototype.convert=T,E.prototype.revert=T,E.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},E.prototype.sqrTo=function(e,t){e.squareTo(t)},b.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=r();return e.copyTo(t),this.reduce(t),t},b.prototype.revert=function(e){return e},b.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},b.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},b.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var I,O,S,N=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],w=(1<<26)/N[N.length-1];function R(){var e;e=(new Date).getTime(),O[S++]^=255&e,O[S++]^=e>>8&255,O[S++]^=e>>16&255,O[S++]^=e>>24&255,S>=L&&(S-=L)}if(n.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},n.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),i=l(n),o=r(),a=r(),s="";for(this.divRemTo(i,o,a);o.signum()>0;)s=(n+a.intValue()).toString(e).substr(1)+s,o.divRemTo(i,o,a);return a.intValue().toString(e)+s},n.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),i=Math.pow(t,r),o=!1,a=0,s=0,u=0;u<e.length;++u){var l=c(e,u);l<0?"-"==e.charAt(u)&&0==this.signum()&&(o=!0):(s=t*s+l,++a>=r&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),o&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),v,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(n.ONE.shiftLeft(e-1),this);else{var i=new Array,o=7&e;i.length=1+(e>>3),t.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},n.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},n.prototype.changeBit=function(e,t){var r=n.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},n.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},n.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},n.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},n.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},n.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},n.prototype.millerRabin=function(e){var t=this.subtract(n.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var o=t.shiftRight(i);(e=e+1>>1)>N.length&&(e=N.length);for(var a=r(),s=0;s<e;++s){a.fromInt(N[Math.floor(Math.random()*N.length)]);var u=a.modPow(o,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(t)){for(var c=1;c++<i&&0!=u.compareTo(t);)if(0==(u=u.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=u.compareTo(t))return!1}}return!0},n.prototype.clone=function(){var e=r();return this.copyTo(e),e},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},n.prototype.equals=function(e){return 0==this.compareTo(e)},n.prototype.min=function(e){return this.compareTo(e)<0?this:e},n.prototype.max=function(e){return this.compareTo(e)>0?this:e},n.prototype.and=function(e){var t=r();return this.bitwiseTo(e,h,t),t},n.prototype.or=function(e){var t=r();return this.bitwiseTo(e,v,t),t},n.prototype.xor=function(e){var t=r();return this.bitwiseTo(e,y,t),t},n.prototype.andNot=function(e){var t=r();return this.bitwiseTo(e,g,t),t},n.prototype.not=function(){for(var e=r(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},n.prototype.shiftLeft=function(e){var t=r();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},n.prototype.shiftRight=function(e){var t=r();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},n.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+m(this[e]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=_(this[n]^t);return e},n.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},n.prototype.setBit=function(e){return this.changeBit(e,v)},n.prototype.clearBit=function(e){return this.changeBit(e,g)},n.prototype.flipBit=function(e){return this.changeBit(e,y)},n.prototype.add=function(e){var t=r();return this.addTo(e,t),t},n.prototype.subtract=function(e){var t=r();return this.subTo(e,t),t},n.prototype.multiply=function(e){var t=r();return this.multiplyTo(e,t),t},n.prototype.divide=function(e){var t=r();return this.divRemTo(e,t,null),t},n.prototype.remainder=function(e){var t=r();return this.divRemTo(e,null,t),t},n.prototype.divideAndRemainder=function(e){var t=r(),n=r();return this.divRemTo(e,t,n),new Array(t,n)},n.prototype.modPow=function(e,t){var n,i,o=e.bitLength(),a=l(1);if(o<=0)return a;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new f(t):t.isEven()?new b(t):new d(t);var s=new Array,u=3,c=n-1,h=(1<<n)-1;if(s[1]=i.convert(this),n>1){var v=r();for(i.sqrTo(s[1],v);u<=h;)s[u]=r(),i.mulTo(v,s[u-2],s[u]),u+=2}var y,g,m=e.t-1,_=!0,E=r();for(o=p(e[m])-1;m>=0;){for(o>=c?y=e[m]>>o-c&h:(y=(e[m]&(1<<o+1)-1)<<c-o,m>0&&(y|=e[m-1]>>this.DB+o-c)),u=n;0==(1&y);)y>>=1,--u;if((o-=u)<0&&(o+=this.DB,--m),_)s[y].copyTo(a),_=!1;else{for(;u>1;)i.sqrTo(a,E),i.sqrTo(E,a),u-=2;u>0?i.sqrTo(a,E):(g=a,a=E,E=g),i.mulTo(E,s[y],a)}for(;m>=0&&0==(e[m]&1<<o);)i.sqrTo(a,E),g=a,a=E,E=g,--o<0&&(o=this.DB-1,--m)}return i.revert(a)},n.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return n.ZERO;for(var r=e.clone(),i=this.clone(),o=l(1),a=l(0),s=l(0),u=l(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),t?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(e,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),t&&o.subTo(s,o),a.subTo(u,a)):(i.subTo(r,i),t&&s.subTo(o,s),u.subTo(a,u))}return 0!=i.compareTo(n.ONE)?n.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},n.prototype.pow=function(e){return this.exp(e,new E)},n.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},n.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=N[N.length-1]){for(t=0;t<N.length;++t)if(n[0]==N[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<N.length;){for(var r=N[t],i=t+1;i<N.length&&r<w;)r*=N[i++];for(r=n.modInt(r);t<i;)if(r%N[t++]==0)return!1}return n.millerRabin(e)},n.prototype.square=function(){var e=r();return this.squareTo(e),e},n.prototype.Barrett=b,null==O){var A;if(O=new Array,S=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var D=new Uint8Array(32);for(window.crypto.getRandomValues(D),A=0;A<32;++A)O[S++]=D[A]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var k=window.crypto.random(32);for(A=0;A<k.length;++A)O[S++]=255&k.charCodeAt(A)}for(;S<L;)A=Math.floor(65536*Math.random()),O[S++]=A>>>8,O[S++]=255&A;S=0,R()}function C(){if(null==I){for(R(),(I=new x).init(O),S=0;S<O.length;++S)O[S]=0;S=0}return I.next()}function U(){}function x(){this.i=0,this.j=0,this.S=new Array}U.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=C()},x.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)r=this.S[t],this.S[t]=this.S[n=n+this.S[t]+e[t%e.length]&255],this.S[n]=r;this.i=0,this.j=0},x.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var L=256;e.exports={default:n,BigInteger:n,SecureRandom:U}}).call(Gn)})),Zn={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},Qn={sha256:zn};function er(e,t){if(this.n=null,this.e=0,!(null!=e&&null!=t&&e.length>0&&t.length>0))throw new Error("Invalid key data");this.n=new Xn.BigInteger(e,16),this.e=parseInt(t,16)}er.prototype.verify=function(e,t){t=t.replace(/[^0-9a-f]|[\s\n]]/gi,"");var n=new Xn.BigInteger(t,16);if(n.bitLength()>this.n.bitLength())throw new Error("Signature does not match with the key modulus.");var r=function(e){for(var t in Zn){var n=Zn[t],r=n.length;if(e.substring(0,r)===n)return{alg:t,hash:e.substring(r)}}return[]}(n.modPowInt(this.e,this.n).toString(16).replace(/^1f+00/,""));if(0===r.length)return!1;if(!Qn.hasOwnProperty(r.alg))throw new Error("Hashing algorithm is not supported.");var i=Qn[r.alg](e).toString();return r.hash===i};for(var tr=[],nr=[],rr="undefined"!=typeof Uint8Array?Uint8Array:Array,ir="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",or=0,ar=ir.length;or<ar;++or)tr[or]=ir[or],nr[ir.charCodeAt(or)]=or;nr["-".charCodeAt(0)]=62,nr["_".charCodeAt(0)]=63;var sr=function(e){var t,n,r=function(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}(e),i=r[0],o=r[1],a=new rr(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),s=0,u=o>0?i-4:i;for(n=0;n<u;n+=4)t=nr[e.charCodeAt(n)]<<18|nr[e.charCodeAt(n+1)]<<12|nr[e.charCodeAt(n+2)]<<6|nr[e.charCodeAt(n+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===o&&(t=nr[e.charCodeAt(n)]<<2|nr[e.charCodeAt(n+1)]>>4,a[s++]=255&t),1===o&&(t=nr[e.charCodeAt(n)]<<10|nr[e.charCodeAt(n+1)]<<4|nr[e.charCodeAt(n+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a};function ur(e){var t=e.length%4;return 0===t?e:e+new Array(4-t+1).join("=")}function cr(e){return e=ur(e).replace(/\-/g,"+").replace(/_/g,"/"),decodeURIComponent(function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(sr(e)).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function lr(e){return function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);t+=2===r.length?r:"0"+r}return t}(sr(ur(e)))}var pr=qn((function(e){var t,n;t=Gn,n=function(){function e(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0]=e[0].match(/^file:\/\/\//)?e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<e.length;r++){var i=e[r];if("string"!=typeof i)throw new TypeError("Url must be a string. Received "+i);""!==i&&(r>0&&(i=i.replace(/^[\/]+/,"")),i=i.replace(/[\/]+$/,r<e.length-1?"":"/"),t.push(i))}var o=t.join("/"),a=(o=o.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return a.shift()+(a.length>0?"?":"")+a.join("&")}return function(){return e("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=n():t.urljoin=n()}));function fr(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],a=[],s={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}function dr(e){if(e.ok)return e.json();var t=new Error(e.statusText);return t.response=e,Promise.reject(t)}function hr(e){this.name="ConfigurationError",this.message=e||""}function vr(e){this.name="TokenValidationError",this.message=e||""}hr.prototype=Error.prototype,vr.prototype=Error.prototype;var yr=function(){function e(){}var t=e.prototype;return t.get=function(){return null},t.has=function(){return null},t.set=function(){return null},e}();Yn.polyfill();var gr=function(e){return"number"==typeof e},mr=function(){return new Date};function _r(e){var t=e||{};if(this.jwksCache=t.jwksCache||new yr,this.expectedAlg=t.expectedAlg||"RS256",this.issuer=t.issuer,this.audience=t.audience,this.leeway=0===t.leeway?0:t.leeway||60,this.jwksURI=t.jwksURI,this.maxAge=t.maxAge,this.__clock="function"==typeof t.__clock?t.__clock:mr,this.leeway<0||this.leeway>300)throw new hr("The leeway should be positive and lower than five minutes.");if("RS256"!==this.expectedAlg)throw new hr('Signature algorithm of "'+this.expectedAlg+'" is not supported. Expected the ID token to be signed with "RS256".')}function Er(e,t){this.plugins=t;for(var n=0;n<this.plugins.length;n++){if(this.plugins[n].version!==cn.raw){var r="";throw this.plugins[n].constructor&&this.plugins[n].constructor.name&&(r=this.plugins[n].constructor.name),new Error("Plugin "+r+" version ("+this.plugins[n].version+") is not compatible with the SDK version ("+cn.raw+")")}this.plugins[n].setWebAuth(e)}}_r.prototype.verify=function(e,t,n){if(!n&&t&&"function"==typeof t&&(n=t,t=void 0),!e)return n(new vr("ID token is required but missing"),null);var r=this.decode(e);if(r instanceof Error)return n(new vr("ID token could not be decoded"),null);var i=r.encoded.header+"."+r.encoded.payload,o=lr(r.encoded.signature),a=r.header.alg,s=r.header.kid,u=r.payload.aud,c=r.payload.sub,l=r.payload.iss,p=r.payload.exp,f=r.payload.nbf,d=r.payload.iat,h=r.payload.azp,v=r.payload.auth_time,y=r.payload.nonce,g=this.__clock(),m=this;if(m.expectedAlg!==a)return n(new vr('Signature algorithm of "'+a+'" is not supported. Expected the ID token to be signed with "RS256".'),null);this.getRsaVerifier(l,s,(function(e,a){if(e)return n(e,null);if(!a.verify(i,o))return n(new vr("Invalid ID token signature."),null);if(!l||"string"!=typeof l)return n(new vr("Issuer (iss) claim must be a string present in the ID token"),null);if(m.issuer!==l)return n(new vr('Issuer (iss) claim mismatch in the ID token, expected "'+m.issuer+'", found "'+l+'"'),null);if(!c||"string"!=typeof c)return n(new vr("Subject (sub) claim must be a string present in the ID token"),null);if(!u||"string"!=typeof u&&!Array.isArray(u))return n(new vr("Audience (aud) claim must be a string or array of strings present in the ID token"),null);if(Array.isArray(u)&&!u.includes(m.audience))return n(new vr('Audience (aud) claim mismatch in the ID token; expected "'+m.audience+'" but was not one of "'+u.join(", ")+'"'),null);if("string"==typeof u&&m.audience!==u)return n(new vr('Audience (aud) claim mismatch in the ID token; expected "'+m.audience+'" but found "'+u+'"'),null);if(t){if(!y||"string"!=typeof y)return n(new vr("Nonce (nonce) claim must be a string present in the ID token"),null);if(y!==t)return n(new vr('Nonce (nonce) claim value mismatch in the ID token; expected "'+t+'", found "'+y+'"'),null)}if(Array.isArray(u)&&u.length>1){if(!h||"string"!=typeof h)return n(new vr("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values"),null);if(h!==m.audience)return n(new vr('Authorized Party (azp) claim mismatch in the ID token; expected "'+m.audience+'", found "'+h+'"'),null)}if(!p||!gr(p))return n(new vr("Expiration Time (exp) claim must be a number present in the ID token"),null);if(!d||!gr(d))return n(new vr("Issued At (iat) claim must be a number present in the ID token"),null);var s=p+m.leeway,_=new Date(0);if(_.setUTCSeconds(s),g>_)return n(new vr('Expiration Time (exp) claim error in the ID token; current time "'+g+'" is after expiration time "'+_+'"'),null);if(f&&gr(f)){var E=f-m.leeway,T=new Date(0);if(T.setUTCSeconds(E),g<T)return n(new vr('Not Before Time (nbf) claim error in the ID token; current time "'+g+'" is before the not before time "'+T+'"'),null)}if(m.maxAge){if(!v||!gr(v))return n(new vr("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified"),null);var b=v+m.maxAge+m.leeway,I=new Date(0);if(I.setUTCSeconds(b),g>I)return n(new vr('Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time "'+g+'" is after last auth time at "'+I+'"'),null)}return n(null,r.payload)}))},_r.prototype.getRsaVerifier=function(e,t,n){var r=this,i=e+t;Promise.resolve(this.jwksCache.has(i)).then((function(n){return n?r.jwksCache.get(i):(o={jwksURI:r.jwksURI,iss:e,kid:t},("undefined"==typeof fetch?fr:fetch)(o.jwksURI||pr(o.iss,".well-known","jwks.json")).then(dr).then((function(e){var t,n,r,i=null;for(t=0;t<e.keys.length&&null===i;t++)(n=e.keys[t]).kid===o.kid&&(i=n);if(!i)throw new Error('Could not find a public key for Key ID (kid) "'+o.kid+'"');return{modulus:lr((r=i).n),exp:lr(r.e)}})).catch((function(e){throw e})));var o})).then((function(e){if(!e||!e.modulus||!e.exp)throw new Error("Empty keyInfo in response");return Promise.resolve(r.jwksCache.set(i,e)).then((function(){n&&n(null,new er(e.modulus,e.exp))}))})).catch((function(e){n&&n(e)}))},_r.prototype.decode=function(e){var t,n,r=e.split(".");if(3!==r.length)return new vr("Cannot decode a malformed JWT");try{t=JSON.parse(cr(r[0])),n=JSON.parse(cr(r[1]))}catch(e){return new vr("Token header or payload is not valid JSON")}return{header:t,payload:n,encoded:{header:r[0],payload:r[1],signature:r[2]}}},_r.prototype.validateAccessToken=function(e,t,n,r){if(this.expectedAlg!==t)return r(new vr('Signature algorithm of "'+t+'" is not supported. Expected "'+this.expectedAlg+'"'));var i,o=zn(e),a=Jn.stringify(o),s=a.substring(0,a.length/2),u=Jn.parse(s),c=Wn.stringify(u);return r((i={"+":"-","/":"_","=":""},c.replace(/[+/=]/g,(function(e){return i[e]}))!==n?new vr("Invalid access_token"):null))},Er.prototype.get=function(e){for(var t=0;t<this.plugins.length;t++)if(this.plugins[t].supports(e))return this.plugins[t].init();return null};var Tr=function(e){var t=new Uint8Array(e),n=[],r="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._~",i=wn.getWindow().crypto||wn.getWindow().msCrypto;if(!i)return null;for(var o=i.getRandomValues(t),a=0;a<o.length;a++)n.push(r[o[a]%r.length]);return n.join("")};function br(e){var t=e.transaction||{};this.namespace=t.namespace||"com.auth0.auth.",this.keyLength=t.keyLength||32,this.stateExpiration=e.stateExpiration?e.stateExpiration/60/24:1/48,this.storage=new xn(e),this.options=e}function Ir(e){if(this.url=e.url,this.callback=e.callback,this.timeout=e.timeout||6e4,this.timeoutCallback=e.timeoutCallback||null,this.eventListenerType=e.eventListenerType||"message",this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.proxyEventListener=null,this.eventValidator=e.eventValidator||{isValid:function(){return!0}},"function"!=typeof this.callback)throw new Error("options.callback must be a function")}function Or(e){this.webAuth=e,this.warn=new Cn(e.baseOptions)}function Sr(e,t){this.webAuth=e,this.baseOptions=t,this.request=new Sn(t),this.webMessageHandler=new Or(e),this.storage=new xn(t)}function Nr(e,t){return["co/verifier",encodeURIComponent(e),encodeURIComponent(t)].join("/")}function wr(e,t){this.webAuth=e,this.baseOptions=t,this.crossOriginAuthentication=new Sr(e,this.baseOptions),this.warn=new Cn({disableWarnings:!!t._disableDeprecationWarnings})}br.prototype.process=function(e){if(!e.responseType)throw new Error("responseType is required");var t=e.realm||e.connection,n=-1!==e.responseType.indexOf("id_token"),r=this.generateTransaction(e.appState,e.state,e.nonce,t,n,e.organization);return e.state||(e.state=r.state),n&&!e.nonce&&(e.nonce=r.nonce),e},br.prototype.generateTransaction=function(e,t,n,r,i,o){if(t=t||Tr(this.keyLength),n=n||(i?Tr(this.keyLength):null),wn.getWindow().location.host!==this.options.domain){var a={nonce:n,appState:e,state:t,lastUsedConnection:r};o&&(a.organization=o),this.storage.setItem(this.namespace+t,a,{expires:this.stateExpiration})}return{state:t,nonce:n}},br.prototype.getStoredTransaction=function(e){var t;return t=this.storage.getItem(this.namespace+e),this.clearTransaction(e),t},br.prototype.clearTransaction=function(e){this.storage.removeItem(this.namespace+e)},Ir.prototype.init=function(){var e=this,t=wn.getWindow();switch(this.iframe=t.document.createElement("iframe"),this.iframe.style.display="none",this.proxyEventListener=function(t){e.eventListener(t)},this.eventListenerType){case"message":this.eventSourceObject=t;break;case"load":this.eventSourceObject=this.iframe;break;default:throw new Error("Unsupported event listener type: "+this.eventListenerType)}this.eventSourceObject.addEventListener(this.eventListenerType,this.proxyEventListener,!1),t.document.body.appendChild(this.iframe),this.iframe.src=this.url,this.timeoutHandle=setTimeout((function(){e.timeoutHandler()}),this.timeout)},Ir.prototype.eventListener=function(e){var t={event:e,sourceObject:this.eventSourceObject};this.eventValidator.isValid(t)&&(this.destroy(),this.callback(t))},Ir.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},Ir.prototype.destroy=function(){var e=this;clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout((function(){e.eventSourceObject.removeEventListener(e.eventListenerType,e.proxyEventListener,!1),e.iframe.parentNode&&e.iframe.parentNode.removeChild(e.iframe)}),0)},Or.prototype.run=function(e,t){var n=this;e.responseMode="web_message",e.prompt="none";var r=wn.getOrigin(),i=bn.getOriginFromUrl(e.redirectUri);if(i&&r!==i)return t({error:"origin_mismatch",error_description:"The redirectUri's origin ("+i+") should match the window's origin ("+r+")."});!function(e,t,n){new Ir({url:e,eventListenerType:"message",callback:function(e){n(null,e)},timeout:t.timeout,eventValidator:{isValid:function(e){return!(!e.event.data||"authorization_response"!==e.event.data.type||t.state!==e.event.data.response.state)}},timeoutCallback:function(){n({error:"timeout",error_description:"Timeout during executing web_message communication",state:t.state})}}).init()}(this.webAuth.client.buildAuthorizeUrl(e),e,(function(r,i){var o=r;if(!r&&i.event.data.response.error&&(o=i.event.data.response),!o){var a=i.event.data.response;return n.webAuth.validateAuthenticationResponse(e,a,t)}return"consent_required"===o.error&&"localhost"===wn.getWindow().location.hostname&&n.warn.warning("Consent Required. Consent can't be skipped on localhost. Read more here: https://auth0.com/docs/api-auth/user-consent#skipping-consent-for-first-party-clients"),n.webAuth.transactionManager.clearTransaction(o.state),t(bn.pick(o,["error","error_description"]))}))},Sr.prototype.login=function(e,t){var n=this,r=g(this.baseOptions.rootUrl,"/co/authenticate");e.username=e.username||e.email,delete e.email;var i={client_id:e.clientID||this.baseOptions.clientID,username:e.username};e.password&&(i.password=e.password),e.otp&&(i.otp=e.otp);var o=e.realm||this.baseOptions.realm;if(o){var a=e.credentialType||this.baseOptions.credentialType||"http://auth0.com/oauth/grant-type/password-realm";i.realm=o,i.credential_type=a}else i.credential_type="password";this.request.post(r).withCredentials().send(i).end((function(r,i){if(r){var o=r.response&&r.response.body||{error:"request_error",error_description:JSON.stringify(r)};return Fn(t,{forceLegacyError:!0})(o)}function a(){var r=!0===e.popup;e=bn.blacklist(e,["password","credentialType","otp","popup","onRedirecting"]);var o=bn.merge(e).with({loginTicket:i.body.login_ticket}),a=Nr(n.baseOptions.rootUrl,i.body.co_id);n.storage.setItem(a,i.body.co_verifier,{expires:1/96}),r?n.webMessageHandler.run(o,Fn(t,{forceLegacyError:!0})):n.webAuth.authorize(o)}"function"==typeof e.onRedirecting?e.onRedirecting(a):a()}))},Sr.prototype.callback=function(){var e=decodeURIComponent(function(e){var t=("&"+wn.getWindow().location.hash.substring(1)).split("&origin=");if(2===t.length)return t.pop().split("&").shift()}()),t=wn.getWindow(),n=this;t.addEventListener("message",(function(e){if("co_verifier_request"===e.data.type){var t=Nr(e.origin,e.data.request.id),r=function(e,t){try{var n=e.getItem(t);return e.removeItem(t),n||""}catch(u){return""}}(n.storage,t);e.source.postMessage({type:"co_verifier_response",response:{verifier:r}},e.origin)}})),t.parent.postMessage({type:"ready"},e)},wr.prototype.loginWithCredentials=function(e,t){e.realm=e.realm||e.connection,delete e.connection,this.crossOriginAuthentication.login(e,t)},wr.prototype.signupAndLogin=function(e,t){var n=this;return this.webAuth.client.dbConnection.signup(e,(function(r){return r?t(r):(e.realm=e.realm||e.connection,delete e.connection,n.webAuth.login(e,t))}))};var Rr=y((function(e){var t=function(){function e(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)}function t(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n,!1)}function n(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(e);return t?t[1]:e}var r=function(){if("undefined"==typeof navigator)return!1;var e=-1,t=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)):t.indexOf("Trident")>-1&&null!==new RegExp("rv:([0-9]{2,2}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)),e>=8}();return"undefined"!=typeof window&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage?{open:function(i,o){if(!o)throw"missing required callback argument";var a,s;i.url||(a="missing required 'url' parameter"),i.relay_url||(a="missing required 'relay_url' parameter"),a&&setTimeout((function(){o(a)}),0),i.window_name||(i.window_name=null),i.window_features&&!function(){try{var e=navigator.userAgent;return-1!=e.indexOf("Fennec/")||-1!=e.indexOf("Firefox/")&&-1!=e.indexOf("Android")}catch(u){}return!1}()||(i.window_features=void 0);var c,l=i.origin||n(i.url);if(l!==n(i.relay_url))return setTimeout((function(){o("invalid arguments: origin of url and relay_url must match")}),0);r&&((s=document.createElement("iframe")).setAttribute("src",i.relay_url),s.style.display="none",s.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(s),c=s.contentWindow);var p=i.popup||window.open(i.url,i.window_name,i.window_features);i.popup&&(p.location.href=i.url),c||(c=p);var f=setInterval((function(){p&&p.closed&&(h(),o&&(o("User closed the popup window"),o=null))}),500),d=JSON.stringify({a:"request",d:i.params});function h(){if(s&&document.body.removeChild(s),s=void 0,f&&(f=clearInterval(f)),t(window,"message",v),t(window,"unload",h),p)try{p.close()}catch(e){c.postMessage("die",l)}p=c=void 0}function v(e){if(e.origin===l){try{var t=JSON.parse(e.data)}catch(a){if(o)return o(a);throw a}"ready"===t.a?c.postMessage(d,l):"error"===t.a?(h(),o&&(o(t.d),o=null)):"response"===t.a&&(h(),o&&(o(null,t.d),o=null))}}return e(window,"unload",h),e(window,"message",v),{originalPopup:p,close:h,focus:function(){if(p)try{p.focus()}catch(u){}}}},onOpen:function(n){var i="*",o=r?function(){for(var e=window.opener.frames,t=e.length-1;t>=0;t--)try{if(e[t].location.protocol===window.location.protocol&&e[t].location.host===window.location.host&&"__winchan_relay_frame"===e[t].name)return e[t]}catch(u){}}():window.opener;if(!o)throw"can't find relay frame";function a(e){e=JSON.stringify(e),r?o.doPost(e,i):o.postMessage(e,i)}function s(e){if("die"===e.data)try{window.close()}catch(t){}}e(r?o:window,"message",(function e(r){var o;try{o=JSON.parse(r.data)}catch(s){}o&&"request"===o.a&&(t(window,"message",e),i=r.origin,n&&setTimeout((function(){n(i,o.d,(function(e){n=void 0,a({a:"response",d:e})}))}),0))})),e(r?o:window,"message",s);try{a({a:"ready"})}catch(u){e(o,"load",(function(e){a({a:"ready"})}))}var c=function(){try{t(r?o:window,"message",s)}catch(e){}n&&a({a:"error",d:"client closed window"}),n=void 0;try{window.close()}catch(u){}};return e(window,"unload",c),{detach:function(){t(window,"unload",c)}}}}:{open:function(e,t,n,r){setTimeout((function(){r("unsupported browser")}),0)},onOpen:function(e){setTimeout((function(){e("unsupported browser")}),0)}}}();e.exports&&(e.exports=t)})),Ar=function(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[-_a-zA-Z.0-9:]+)/.exec(e);return t?t[1]:e};function Dr(){this._current_popup=null}function kr(e,t){this.baseOptions=t,this.baseOptions.popupOrigin=t.popupOrigin,this.client=e.client,this.webAuth=e,this.transactionManager=new br(this.baseOptions),this.crossOriginAuthentication=new Sr(e,this.baseOptions),this.warn=new Cn({disableWarnings:!!t._disableDeprecationWarnings})}function Cr(e){this.authenticationUrl=e.authenticationUrl,this.timeout=e.timeout||6e4,this.handler=null,this.postMessageDataType=e.postMessageDataType||!1,this.postMessageOrigin=e.postMessageOrigin||wn.getWindow().location.origin||wn.getWindow().location.protocol+"//"+wn.getWindow().location.hostname+(wn.getWindow().location.port?":"+wn.getWindow().location.port:"")}function Ur(e){this.baseOptions=e,this.request=new Sn(e),this.transactionManager=new br(this.baseOptions)}function xr(e,t){this.baseOptions=t,this.client=e,this.baseOptions.universalLoginPage=!0,this.request=new Sn(this.baseOptions),this.warn=new Cn({disableWarnings:!!t._disableDeprecationWarnings})}Dr.prototype.calculatePosition=function(e){var t=e.width||500,n=e.height||600,r=wn.getWindow(),i=void 0!==r.screenX?r.screenX:r.screenLeft,o=void 0!==r.screenY?r.screenY:r.screenTop,a=void 0!==r.outerWidth?r.outerWidth:r.document.body.clientWidth,s=void 0!==r.outerHeight?r.outerHeight:r.document.body.clientHeight;return{width:t,height:n,left:e.left||i+(a-t)/2,top:e.top||o+(s-n)/2}},Dr.prototype.preload=function(e){var t=this,n=wn.getWindow(),r=this.calculatePosition(e.popupOptions||{}),i=bn.merge(r).with(e.popupOptions),o=e.url||"about:blank",a=Dt(i,{encode:!1,delimiter:","});return this._current_popup&&!this._current_popup.closed||(this._current_popup=n.open(o,"auth0_signup_popup",a),this._current_popup.kill=function(){this.close(),t._current_popup=null}),this._current_popup},Dr.prototype.load=function(e,t,n,r){var i=this,o=this.calculatePosition(n.popupOptions||{}),a=bn.merge(o).with(n.popupOptions),s=bn.merge({url:e,relay_url:t,window_features:Dt(a,{delimiter:",",encode:!1}),popup:this._current_popup}).with(n),u=Rr.open(s,(function(e,t){if(!e||"SyntaxError"!==e.name)return i._current_popup=null,r(e,t)}));return u.focus(),u},kr.prototype.buildPopupHandler=function(){var e=this.baseOptions.plugins.get("popup.getPopupHandler");return e?e.getPopupHandler():new Dr},kr.prototype.preload=function(e){e=e||{};var t=this.buildPopupHandler();return t.preload(e),t},kr.prototype.getPopupHandler=function(e,t){return e.popupHandler?e.popupHandler:t?this.preload(e):this.buildPopupHandler()},kr.prototype.callback=function(e){var t=this,n=wn.getWindow(),r=(e=e||{}).popupOrigin||this.baseOptions.popupOrigin||wn.getOrigin();n.opener?Rr.onOpen((function(n,i,o){if(n!==r)return o({error:"origin_mismatch",error_description:"The popup's origin ("+n+") should match the `popupOrigin` parameter ("+r+")."});t.webAuth.parseHash(e||{},(function(e,t){return o(e||t)}))})):n.doPost=function(e){n.parent&&n.parent.postMessage(e,r)}},kr.prototype.authorize=function(e,t){var n,r,i={},o=this.baseOptions.plugins.get("popup.authorize"),a=bn.merge(this.baseOptions,["clientID","scope","domain","audience","tenant","responseType","redirectUri","_csrf","state","_intstate","nonce","organization","invitation"]).with(bn.blacklist(e,["popupHandler"]));return hn.check(a,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),r=g(this.baseOptions.rootUrl,"relay.html"),e.owp?a.owp=!0:(i.origin=Ar(a.redirectUri),r=a.redirectUri),e.popupOptions&&(i.popupOptions=bn.pick(e.popupOptions,["width","height","top","left"])),o&&(a=o.processParams(a)),(a=this.transactionManager.process(a)).scope=a.scope||"openid profile email",delete a.domain,n=this.client.buildAuthorizeUrl(a),this.getPopupHandler(e).load(n,r,i,Fn(t,{keepOriginalCasing:!0}))},kr.prototype.loginWithCredentials=function(e,t){e.realm=e.realm||e.connection,e.popup=!0,e=bn.merge(this.baseOptions,["redirectUri","responseType","state","nonce","timeout"]).with(bn.blacklist(e,["popupHandler","connection"])),e=this.transactionManager.process(e),this.crossOriginAuthentication.login(e,t)},kr.prototype.passwordlessVerify=function(e,t){var n=this;return this.client.passwordless.verify(bn.blacklist(e,["popupHandler"]),(function(r){if(r)return t(r);e.username=e.phoneNumber||e.email,e.password=e.verificationCode,delete e.email,delete e.phoneNumber,delete e.verificationCode,delete e.type,n.client.loginWithResourceOwner(e,t)}))},kr.prototype.signupAndLogin=function(e,t){var n=this;return this.client.dbConnection.signup(e,(function(r){if(r)return t(r);n.loginWithCredentials(e,t)}))},Cr.create=function(e){return new Cr(e)},Cr.prototype.login=function(e,t){this.handler=new Ir({auth0:this.auth0,url:this.authenticationUrl,eventListenerType:e?"message":"load",callback:this.getCallbackHandler(t,e),timeout:this.timeout,eventValidator:this.getEventValidator(),timeoutCallback:function(){t(null,"#error=timeout&error_description=Timeout+during+authentication+renew.")},usePostMessage:e||!1}),this.handler.init()},Cr.prototype.getEventValidator=function(){var e=this;return{isValid:function(t){switch(t.event.type){case"message":return t.event.origin===e.postMessageOrigin&&t.event.source===e.handler.iframe.contentWindow&&(!1===e.postMessageDataType||t.event.data.type&&t.event.data.type===e.postMessageDataType);case"load":if("about:"===t.sourceObject.contentWindow.location.protocol)return!1;default:return!0}}}},Cr.prototype.getCallbackHandler=function(e,t){return function(n){var r;r=t?"object"==typeof n.event.data&&n.event.data.hash?n.event.data.hash:n.event.data:n.sourceObject.contentWindow.location.hash,e(null,r)}},Ur.prototype.login=function(e,t){var n,r;return n=g(this.baseOptions.rootUrl,"usernamepassword","login"),e.username=e.username||e.email,e=bn.blacklist(e,["email","onRedirecting"]),r=bn.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience"]).with(e),r=this.transactionManager.process(r),r=bn.toSnakeCase(r,["auth0Client"]),this.request.post(n).send(r).end(Fn(t))},Ur.prototype.callback=function(e){var t,n=wn.getDocument();(t=n.createElement("div")).innerHTML=e,n.body.appendChild(t).children[0].submit()},xr.prototype.login=function(e,t){if(wn.getWindow().location.host!==this.baseOptions.domain)throw new Error("This method is meant to be used only inside the Universal Login Page.");var n,r=bn.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience","_csrf","state","_intstate","nonce"]).with(e);return hn.check(r,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(n=new Ur(this.baseOptions)).login(r,(function(r,i){if(r)return t(r);function o(){n.callback(i)}if("function"==typeof e.onRedirecting)return e.onRedirecting((function(){o()}));o()}))},xr.prototype.signupAndLogin=function(e,t){var n=this;return n.client.client.dbConnection.signup(e,(function(r){return r?t(r):n.login(e,t)}))},xr.prototype.getSSOData=function(e,t){var n,r="";return"function"==typeof e&&(t=e,e=!1),hn.check(e,{type:"boolean",message:"withActiveDirectories parameter is not valid"}),hn.check(t,{type:"function",message:"cb parameter is not valid"}),e&&(r="?"+Dt({ldaps:1,client_id:this.baseOptions.clientID})),n=g(this.baseOptions.rootUrl,"user","ssodata",r),this.request.get(n,{noHeaders:!0}).withCredentials().end(Fn(t))};var Lr=function(){},Pr={lang:"en",templates:{auth0:function(e){var t="code"===e.type?"Enter the code shown above":"Solve the formula shown above";return'<div class="captcha-challenge">\n  <img src="'+e.image+'" />\n  <button type="button" class="captcha-reload">\u21ba</button>\n</div>\n<input type="text" name="captcha"\n  class="form-control captcha-control"\n  placeholder="'+t+'" />'},recaptcha_v2:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},recaptcha_enterprise:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},error:function(){return'<div class="error" style="color: red;">Error getting the bot detection challenge. Please contact the system administrator.</div>'}}};function Mr(e,t,n,r){e.innerHTML=t.templates[n.provider](n),e.querySelector(".captcha-reload").addEventListener("click",(function(e){e.preventDefault(),r()}))}function Fr(e){switch(e){case"recaptcha_v2":return window.grecaptcha;case"recaptcha_enterprise":return window.grecaptcha.enterprise;default:throw new Error("Unknown captcha provider")}}function jr(e,t,n){var r=e.hasAttribute("data-wid")&&e.getAttribute("data-wid");function i(t){e.querySelector('input[name="captcha"]').value=t||""}if(r)return i(),void Fr(n.provider).reset(r);e.innerHTML=t.templates[n.provider](n);var o=e.querySelector(".recaptcha");!function(e,t,n){var r="recaptchaCallback_"+Math.floor(1000001*Math.random());window[r]=function(){delete window[r],n()};var i=window.document.createElement("script");i.src=function(e,t,n){switch(e){case"recaptcha_v2":return"https://www.recaptcha.net/recaptcha/api.js?hl="+t+"&onload="+n;case"recaptcha_enterprise":return"https://www.recaptcha.net/recaptcha/enterprise.js?render=explicit&hl="+t+"&onload="+n;default:throw new Error("Unknown captcha provider")}}(t.provider,t.lang,r),i.async=!0,window.document.body.appendChild(i)}(0,{lang:t.lang,provider:n.provider},(function(){var t=Fr(n.provider);r=t.render(o,{callback:i,"expired-callback":function(){i()},"error-callback":function(){i()},sitekey:n.siteKey}),e.setAttribute("data-wid",r)}))}var Vr=function(e,t,n,r){function i(r){r=r||Lr,e.getChallenge((function(e,o){return e?(t.innerHTML=n.templates.error(e),r(e)):o.required?(t.style.display="","auth0"===o.provider?Mr(t,n,o,i):"recaptcha_v2"!==o.provider&&"recaptcha_enterprise"!==o.provider||jr(t,n,o),void r()):(t.style.display="none",void(t.innerHTML=""))}))}return n=bn.merge(Pr).with(n||{}),i(r),{reload:i,getValue:function(){var e=t.querySelector('input[name="captcha"]');if(e)return e.value}}},Br=function(e,t,n,r){function i(r){r=r||Lr,e.passwordless.getChallenge((function(e,o){return e?(t.innerHTML=n.templates.error(e),r(e)):o.required?(t.style.display="","auth0"===o.provider?Mr(t,n,o,i):"recaptcha_v2"!==o.provider&&"recaptcha_enterprise"!==o.provider||jr(t,n,o),void r()):(t.style.display="none",void(t.innerHTML=""))}))}return n=bn.merge(Pr).with(n||{}),i(r),{reload:i,getValue:function(){var e=t.querySelector('input[name="captcha"]');if(e)return e.value}}};function $r(){return new Date}function Gr(e){hn.check(e,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},popupOrigin:{optional:!0,type:"string",message:"popupOrigin is not valid"},leeway:{optional:!0,type:"number",message:"leeway is not valid"},plugins:{optional:!0,type:"array",message:"plugins is not valid"},maxAge:{optional:!0,type:"number",message:"maxAge is not valid"},stateExpiration:{optional:!0,type:"number",message:"stateExpiration is not valid"},legacySameSiteCookie:{optional:!0,type:"boolean",message:"legacySameSiteCookie option is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"},_timesToRetryFailedRequests:{optional:!0,type:"number",message:"_timesToRetryFailedRequests option is not valid"}}),e.overrides&&hn.check(e.overrides,{type:"object",message:"overrides option is not valid"},{__tenant:{optional:!0,type:"string",message:"__tenant option is required"},__token_issuer:{optional:!0,type:"string",message:"__token_issuer option is required"},__jwks_uri:{optional:!0,type:"string",message:"__jwks_uri is required"}}),this.baseOptions=e,this.baseOptions.plugins=new Er(this,this.baseOptions.plugins||[]),this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions._timesToRetryFailedRequests=e._timesToRetryFailedRequests?parseInt(e._timesToRetryFailedRequests):0,this.baseOptions.tenant=this.baseOptions.overrides&&this.baseOptions.overrides.__tenant||this.baseOptions.domain.split(".")[0],this.baseOptions.token_issuer=this.baseOptions.overrides&&this.baseOptions.overrides.__token_issuer||"https://"+this.baseOptions.domain+"/",this.baseOptions.jwksURI=this.baseOptions.overrides&&this.baseOptions.overrides.__jwks_uri,!1!==e.legacySameSiteCookie&&(this.baseOptions.legacySameSiteCookie=!0),this.transactionManager=new br(this.baseOptions),this.client=new Hr(this.baseOptions),this.redirect=new wr(this,this.baseOptions),this.popup=new kr(this,this.baseOptions),this.crossOriginAuthentication=new Sr(this,this.baseOptions),this.webMessageHandler=new Or(this),this._universalLogin=new xr(this,this.baseOptions),this.ssodataStorage=new Ln(this.baseOptions)}function qr(e,t){this.baseOptions=t,this.request=e}function Yr(e,t){this.baseOptions=t,this.request=e}function Hr(e,t){2===arguments.length?this.auth0=e:t=e,hn.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=t,this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl=this.baseOptions.domain&&0===this.baseOptions.domain.toLowerCase().indexOf("http")?this.baseOptions.domain:"https://"+this.baseOptions.domain,this.request=new Sn(this.baseOptions),this.passwordless=new qr(this.request,this.baseOptions),this.dbConnection=new Yr(this.request,this.baseOptions),this.warn=new Cn({disableWarnings:!!t._disableDeprecationWarnings}),this.ssodataStorage=new Ln(this.baseOptions)}function Kr(e){hn.check(e,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},token:{type:"string",message:"token option is required"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=e,this.baseOptions.headers={Authorization:"Bearer "+this.baseOptions.token},this.request=new Sn(this.baseOptions),this.baseOptions.rootUrl=g("https://"+this.baseOptions.domain,"api","v2")}Gr.prototype.parseHash=function(e,t){var n,r;t||"function"!=typeof e?e=e||{}:(t=e,e={});var i=void 0===e.hash?wn.getWindow().location.hash:e.hash;if((n=function(e,t){var n=function(e){if(!e)return Nt;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?Nt.charset:e.charset;return{allowDots:void 0===e.allowDots?Nt.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Nt.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:Nt.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Nt.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Nt.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Nt.comma,decoder:"function"==typeof e.decoder?e.decoder:Nt.decoder,delimiter:"string"==typeof e.delimiter||ft.isRegExp(e.delimiter)?e.delimiter:Nt.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Nt.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Nt.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Nt.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Nt.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Nt.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n,r={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,a=i.split(t.delimiter,o),s=-1,u=t.charset;if(t.charsetSentinel)for(n=0;n<a.length;++n)0===a[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[n]?u="utf-8":"utf8=%26%2310003%3B"===a[n]&&(u="iso-8859-1"),s=n,n=a.length);for(n=0;n<a.length;++n)if(n!==s){var c,l,p=a[n],f=p.indexOf("]="),d=-1===f?p.indexOf("="):f+1;-1===d?(c=t.decoder(p,Nt.decoder,u,"key"),l=t.strictNullHandling?null:""):(c=t.decoder(p.slice(0,d),Nt.decoder,u,"key"),l=ft.maybeMap(Rt(p.slice(d+1),t),(function(e){return t.decoder(e,Nt.decoder,u,"value")}))),l&&t.interpretNumericEntities&&"iso-8859-1"===u&&(l=wt(l)),p.indexOf("[]=")>-1&&(l=St(l)?[l]:l),Ot.call(r,c)?r[c]=ft.combine(r[c],l):r[c]=l}return r}(e,n):e,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),a=0;a<o.length;++a){var s=o[a],u=At(s,r[s],n,"string"==typeof e);i=ft.merge(i,u,n)}return!0===n.allowSparse?i:ft.compact(i)}(i=i.replace(/^#?\/?/,""))).hasOwnProperty("error"))return r=Mn.buildResponse(n.error,n.error_description),n.state&&(r.state=n.state),t(r);if(!n.hasOwnProperty("access_token")&&!n.hasOwnProperty("id_token")&&!n.hasOwnProperty("refresh_token"))return t(null,null);var o=(this.baseOptions.responseType||e.responseType||"").split(" ");return o.length>0&&-1!==o.indexOf("token")&&!n.hasOwnProperty("access_token")?t(Mn.buildResponse("invalid_hash","response_type contains `token`, but the parsed hash does not contain an `access_token` property")):o.length>0&&-1!==o.indexOf("id_token")&&!n.hasOwnProperty("id_token")?t(Mn.buildResponse("invalid_hash","response_type contains `id_token`, but the parsed hash does not contain an `id_token` property")):this.validateAuthenticationResponse(e,n,t)},Gr.prototype.validateAuthenticationResponse=function(e,t,n){var r=this;e.__enableIdPInitiatedLogin=e.__enableIdPInitiatedLogin||e.__enableImpersonation;var i=t.state,o=this.transactionManager.getStoredTransaction(i),a=e.state||o&&o.state||null,s=a===i;if((i||a||!e.__enableIdPInitiatedLogin)&&!s)return n({error:"invalid_token",errorDescription:"`state` does not match."});var u=e.nonce||o&&o.nonce||null,c=o&&o.organization,l=e.state||o&&o.appState||null,p=function(e,i){return e?n(e):(o&&o.lastUsedConnection&&(i&&(a=i.sub),r.ssodataStorage.set(o.lastUsedConnection,a)),n(null,function(e,t,n){return{accessToken:e.access_token||null,idToken:e.id_token||null,idTokenPayload:n||null,appState:t||null,refreshToken:e.refresh_token||null,state:e.state||null,expiresIn:e.expires_in?parseInt(e.expires_in,10):null,tokenType:e.token_type||null,scope:e.scope||null}}(t,l,i)));var a};return t.id_token?this.validateToken(t.id_token,u,(function(e,n){if(!e){if(c){if(!n.org_id)return p(Mn.invalidToken("Organization Id (org_id) claim must be a string present in the ID token"));if(n.org_id!==c)return p(Mn.invalidToken('Organization Id (org_id) claim value mismatch in the ID token; expected "'+c+'", found "'+n.org_id+'"'))}return t.access_token&&n.at_hash?(new _r).validateAccessToken(t.access_token,"RS256",n.at_hash,(function(e){return e?p(Mn.invalidToken(e.message)):p(null,n)})):p(null,n)}if("invalid_token"!==e.error||e.errorDescription&&e.errorDescription.indexOf("Nonce (nonce) claim value mismatch in the ID token")>-1)return p(e);var i=(new _r).decode(t.id_token);return"HS256"!==i.header.alg?p(e):(i.payload.nonce||null)!==u?p({error:"invalid_token",errorDescription:'Nonce (nonce) claim value mismatch in the ID token; expected "'+u+'", found "'+i.payload.nonce+'"'}):t.access_token?r.client.userInfo(t.access_token,(function(e,t){return e?p(e):p(null,t)})):p({error:"invalid_token",description:"The id_token cannot be validated because it was signed with the HS256 algorithm and public clients (like a browser) can\u2019t store secrets. Please read the associated doc for possible ways to fix this. Read more: https://auth0.com/docs/errors/libraries/auth0-js/invalid-token#parsing-an-hs256-signed-id-token-without-an-access-token"})})):p(null,null)},Gr.prototype.validateToken=function(e,t,n){new _r({issuer:this.baseOptions.token_issuer,jwksURI:this.baseOptions.jwksURI,audience:this.baseOptions.clientID,leeway:this.baseOptions.leeway||60,maxAge:this.baseOptions.maxAge,__clock:this.baseOptions.__clock||$r}).verify(e,t,(function(e,t){if(e)return n(Mn.invalidToken(e.message));n(null,t)}))},Gr.prototype.renewAuth=function(e,t){var n=!!e.usePostMessage,r=e.postMessageDataType||!1,i=e.postMessageOrigin||wn.getWindow().origin,o=e.timeout,a=this,s=bn.merge(this.baseOptions,["clientID","redirectUri","responseType","scope","audience","_csrf","state","_intstate","nonce"]).with(e);s.responseType=s.responseType||"token",s.responseMode=s.responseMode||"fragment",s=this.transactionManager.process(s),hn.check(s,{type:"object",message:"options parameter is not valid"}),hn.check(t,{type:"function",message:"cb parameter is not valid"}),s.prompt="none",s=bn.blacklist(s,["usePostMessage","tenant","postMessageDataType","postMessageOrigin"]),Cr.create({authenticationUrl:this.client.buildAuthorizeUrl(s),postMessageDataType:r,postMessageOrigin:i,timeout:o}).login(n,(function(e,n){if("object"==typeof n)return t(e,n);a.parseHash({hash:n},t)}))},Gr.prototype.checkSession=function(e,t){var n=bn.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(e);return"code"===n.responseType?t({error:"error",error_description:"responseType can't be `code`"}):(e.nonce||(n=this.transactionManager.process(n)),n.redirectUri?(hn.check(n,{type:"object",message:"options parameter is not valid"}),hn.check(t,{type:"function",message:"cb parameter is not valid"}),n=bn.blacklist(n,["usePostMessage","tenant","postMessageDataType"]),void this.webMessageHandler.run(n,Fn(t,{forceLegacyError:!0,ignoreCasing:!0}))):t({error:"error",error_description:"redirectUri can't be empty"}))},Gr.prototype.changePassword=function(e,t){return this.client.dbConnection.changePassword(e,t)},Gr.prototype.passwordlessStart=function(e,t){var n=bn.merge(this.baseOptions,["responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(e.authParams);return e.authParams=this.transactionManager.process(n),this.client.passwordless.start(e,t)},Gr.prototype.signup=function(e,t){return this.client.dbConnection.signup(e,t)},Gr.prototype.authorize=function(e){var t=bn.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce","organization","invitation"]).with(e);hn.check(t,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(t=this.transactionManager.process(t)).scope=t.scope||"openid profile email",wn.redirect(this.client.buildAuthorizeUrl(t))},Gr.prototype.signupAndAuthorize=function(e,t){var n=this;return this.client.dbConnection.signup(bn.blacklist(e,["popupHandler"]),(function(r){if(r)return t(r);e.realm=e.connection,e.username||(e.username=e.email),n.client.login(e,t)}))},Gr.prototype.login=function(e,t){var n=bn.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting","organization","invitation"]).with(e);n=this.transactionManager.process(n),wn.getWindow().location.host===this.baseOptions.domain?(n.connection=n.realm,delete n.realm,this._universalLogin.login(n,t)):this.crossOriginAuthentication.login(n,t)},Gr.prototype.passwordlessLogin=function(e,t){var n=bn.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting"]).with(e);if(n=this.transactionManager.process(n),wn.getWindow().location.host===this.baseOptions.domain)this.passwordlessVerify(n,t);else{var r=bn.extend({credentialType:"http://auth0.com/oauth/grant-type/passwordless/otp",realm:n.connection,username:n.email||n.phoneNumber,otp:n.verificationCode},bn.blacklist(n,["connection","email","phoneNumber","verificationCode"]));this.crossOriginAuthentication.login(r,t)}},Gr.prototype.crossOriginAuthenticationCallback=function(){this.crossOriginVerification()},Gr.prototype.crossOriginVerification=function(){this.crossOriginAuthentication.callback()},Gr.prototype.logout=function(e){wn.redirect(this.client.buildLogoutUrl(e))},Gr.prototype.passwordlessVerify=function(e,t){var n=this,r=bn.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting"]).with(e);return hn.check(r,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),r=this.transactionManager.process(r),this.client.passwordless.verify(r,(function(i){if(i)return t(i);function o(){wn.redirect(n.client.passwordless.buildVerifyUrl(r))}if("function"==typeof e.onRedirecting)return e.onRedirecting((function(){o()}));o()}))},Gr.prototype.renderCaptcha=function(e,t,n){return Vr(this.client,e,t,n)},Gr.prototype.renderPasswordlessCaptcha=function(e,t,n){return Br(this.client,e,t,n)},qr.prototype.buildVerifyUrl=function(e){var t,n;return hn.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(e){return!e.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(e){return!e.phoneNumber}}}),t=bn.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","protocol","nonce"]).with(e),this.baseOptions._sendTelemetry&&(t.auth0Client=this.request.getTelemetryData()),t=bn.toSnakeCase(t,["auth0Client"]),n=Dt(t),g(this.baseOptions.rootUrl,"passwordless","verify_redirect","?"+n)},qr.prototype.start=function(e,t){var n,r;hn.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},send:{type:"string",message:"send option is required",values:["link","code"],value_message:"send is not valid ([link, code])"},phoneNumber:{optional:!0,type:"string",message:"phoneNumber option is required",condition:function(e){return"code"===e.send||!e.email}},email:{optional:!0,type:"string",message:"email option is required",condition:function(e){return"link"===e.send||!e.phoneNumber}},authParams:{optional:!0,type:"object",message:"authParams option is required"}}),hn.check(t,{type:"function",message:"cb parameter is not valid"}),n=g(this.baseOptions.rootUrl,"passwordless","start");var i=e.xRequestLanguage;delete e.xRequestLanguage,(r=bn.merge(this.baseOptions,["clientID","responseType","redirectUri","scope"]).with(e)).scope&&(r.authParams=r.authParams||{},r.authParams.scope=r.authParams.scope||r.scope),r.redirectUri&&(r.authParams=r.authParams||{},r.authParams.redirect_uri=r.authParams.redirectUri||r.redirectUri),r.responseType&&(r.authParams=r.authParams||{},r.authParams.response_type=r.authParams.responseType||r.responseType),delete r.redirectUri,delete r.responseType,delete r.scope,r=bn.toSnakeCase(r,["auth0Client","authParams"]);var o=i?{xRequestLanguage:i}:void 0;return this.request.post(n,o).send(r).end(Fn(t))},qr.prototype.verify=function(e,t){var n,r;return hn.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(e){return!e.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(e){return!e.phoneNumber}}}),hn.check(t,{type:"function",message:"cb parameter is not valid"}),r=bn.pick(e,["connection","verificationCode","phoneNumber","email","auth0Client","clientID"]),r=bn.toSnakeCase(r,["auth0Client"]),n=g(this.baseOptions.rootUrl,"passwordless","verify"),this.request.post(n).send(r).end(Fn(t))},qr.prototype.getChallenge=function(e){if(hn.check(e,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return e();var t=g(this.baseOptions.rootUrl,"passwordless","challenge");return this.request.post(t).send({state:this.baseOptions.state}).end(Fn(e,{ignoreCasing:!0}))},Yr.prototype.signup=function(e,t){var n,r,i;return hn.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"},password:{type:"string",message:"password option is required"}}),hn.check(t,{type:"function",message:"cb parameter is not valid"}),n=g(this.baseOptions.rootUrl,"dbconnections","signup"),i=(r=bn.merge(this.baseOptions,["clientID","state"]).with(e)).user_metadata||r.userMetadata,r=bn.blacklist(r,["scope","userMetadata","user_metadata"]),r=bn.toSnakeCase(r,["auth0Client"]),i&&(r.user_metadata=i),this.request.post(n).send(r).end(Fn(t))},Yr.prototype.changePassword=function(e,t){var n,r;return hn.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"}}),hn.check(t,{type:"function",message:"cb parameter is not valid"}),n=g(this.baseOptions.rootUrl,"dbconnections","change_password"),r=bn.merge(this.baseOptions,["clientID"]).with(e,["email","connection"]),r=bn.toSnakeCase(r,["auth0Client"]),this.request.post(n).send(r).end(Fn(t))},Hr.prototype.buildAuthorizeUrl=function(e){var t,n;return hn.check(e,{type:"object",message:"options parameter is not valid"}),t=bn.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience"]).with(e),hn.check(t,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},redirectUri:{optional:!0,type:"string",message:"redirectUri option is required"},responseType:{type:"string",message:"responseType option is required"},nonce:{type:"string",message:"nonce option is required",condition:function(e){return-1===e.responseType.indexOf("code")&&-1!==e.responseType.indexOf("id_token")}},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),this.baseOptions._sendTelemetry&&(t.auth0Client=this.request.getTelemetryData()),t.connection_scope&&hn.isArray(t.connection_scope)&&(t.connection_scope=t.connection_scope.join(",")),t=bn.blacklist(t,["username","popupOptions","domain","tenant","timeout","appState"]),t=bn.toSnakeCase(t,["auth0Client"]),t=$n(this.warn,t),n=Dt(t),g(this.baseOptions.rootUrl,"authorize","?"+n)},Hr.prototype.buildLogoutUrl=function(e){var t,n;return hn.check(e,{optional:!0,type:"object",message:"options parameter is not valid"}),t=bn.merge(this.baseOptions,["clientID"]).with(e||{}),this.baseOptions._sendTelemetry&&(t.auth0Client=this.request.getTelemetryData()),t=bn.toSnakeCase(t,["auth0Client","returnTo"]),n=Dt(bn.blacklist(t,["federated"])),e&&void 0!==e.federated&&!1!==e.federated&&"false"!==e.federated&&(n+="&federated"),g(this.baseOptions.rootUrl,"v2","logout","?"+n)},Hr.prototype.loginWithDefaultDirectory=function(e,t){return hn.check(e,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),e.grantType="password",this.oauthToken(e,t)},Hr.prototype.login=function(e,t){return hn.check(e,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},realm:{type:"string",message:"realm option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),e.grantType="http://auth0.com/oauth/grant-type/password-realm",this.oauthToken(e,t)},Hr.prototype.oauthToken=function(e,t){var n,r;return hn.check(e,{type:"object",message:"options parameter is not valid"}),hn.check(t,{type:"function",message:"cb parameter is not valid"}),n=g(this.baseOptions.rootUrl,"oauth","token"),r=bn.merge(this.baseOptions,["clientID","scope","audience"]).with(e),hn.check(r,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},grantType:{type:"string",message:"grantType option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),r=bn.toSnakeCase(r,["auth0Client"]),r=Bn(this.warn,r),this.request.post(n).send(r).end(Fn(t))},Hr.prototype.loginWithResourceOwner=function(e,t){var n,r;return hn.check(e,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},connection:{type:"string",message:"connection option is required"},scope:{optional:!0,type:"string",message:"scope option is required"}}),hn.check(t,{type:"function",message:"cb parameter is not valid"}),n=g(this.baseOptions.rootUrl,"oauth","ro"),r=bn.merge(this.baseOptions,["clientID","scope"]).with(e,["username","password","scope","connection","device"]),(r=bn.toSnakeCase(r,["auth0Client"])).grant_type=r.grant_type||"password",this.request.post(n).send(r).end(Fn(t))},Hr.prototype.getSSOData=function(e,t){if(this.auth0||(this.auth0=new Gr(this.baseOptions)),wn.getWindow().location.host===this.baseOptions.domain)return this.auth0._universalLogin.getSSOData(e,t);"function"==typeof e&&(t=e),hn.check(t,{type:"function",message:"cb parameter is not valid"});var n=this.baseOptions.clientID,r=this.ssodataStorage.get()||{};this.auth0.checkSession({responseType:"token id_token",scope:"openid profile email",connection:r.lastUsedConnection,timeout:5e3},(function(e,i){return e?"login_required"===e.error?t(null,{sso:!1}):("consent_required"===e.error&&(e.error_description="Consent required. When using `getSSOData`, the user has to be authenticated with the following scope: `openid profile email`."),t(e,{sso:!1})):r.lastUsedSub&&r.lastUsedSub!==i.idTokenPayload.sub?t(e,{sso:!1}):t(null,{lastUsedConnection:{name:r.lastUsedConnection},lastUsedUserID:i.idTokenPayload.sub,lastUsedUsername:i.idTokenPayload.email||i.idTokenPayload.name,lastUsedClientID:n,sessionClients:[n],sso:!0})}))},Hr.prototype.userInfo=function(e,t){var n;return hn.check(e,{type:"string",message:"accessToken parameter is not valid"}),hn.check(t,{type:"function",message:"cb parameter is not valid"}),n=g(this.baseOptions.rootUrl,"userinfo"),this.request.get(n).set("Authorization","Bearer "+e).end(Fn(t,{ignoreCasing:!0}))},Hr.prototype.getChallenge=function(e){if(hn.check(e,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return e();var t=g(this.baseOptions.rootUrl,"usernamepassword","challenge");return this.request.post(t).send({state:this.baseOptions.state}).end(Fn(e,{ignoreCasing:!0}))},Hr.prototype.delegation=function(e,t){var n,r;return hn.check(e,{type:"object",message:"options parameter is not valid"},{grant_type:{type:"string",message:"grant_type option is required"}}),hn.check(t,{type:"function",message:"cb parameter is not valid"}),n=g(this.baseOptions.rootUrl,"delegation"),r=bn.merge(this.baseOptions,["clientID"]).with(e),r=bn.toSnakeCase(r,["auth0Client"]),this.request.post(n).send(r).end(Fn(t))},Hr.prototype.getUserCountry=function(e){var t;return hn.check(e,{type:"function",message:"cb parameter is not valid"}),t=g(this.baseOptions.rootUrl,"user","geoloc","country"),this.request.get(t).end(Fn(e))},Kr.prototype.getUser=function(e,t){var n;return hn.check(e,{type:"string",message:"userId parameter is not valid"}),hn.check(t,{type:"function",message:"cb parameter is not valid"}),n=g(this.baseOptions.rootUrl,"users",e),this.request.get(n).end(Fn(t,{ignoreCasing:!0}))},Kr.prototype.patchUserMetadata=function(e,t,n){var r;return hn.check(e,{type:"string",message:"userId parameter is not valid"}),hn.check(t,{type:"object",message:"userMetadata parameter is not valid"}),hn.check(n,{type:"function",message:"cb parameter is not valid"}),r=g(this.baseOptions.rootUrl,"users",e),this.request.patch(r).send({user_metadata:t}).end(Fn(n,{ignoreCasing:!0}))},Kr.prototype.patchUserAttributes=function(e,t,n){var r;return hn.check(e,{type:"string",message:"userId parameter is not valid"}),hn.check(t,{type:"object",message:"user parameter is not valid"}),hn.check(n,{type:"function",message:"cb parameter is not valid"}),r=g(this.baseOptions.rootUrl,"users",e),this.request.patch(r).send(t).end(Fn(n,{ignoreCasing:!0}))},Kr.prototype.linkUser=function(e,t,n){var r;return hn.check(e,{type:"string",message:"userId parameter is not valid"}),hn.check(t,{type:"string",message:"secondaryUserToken parameter is not valid"}),hn.check(n,{type:"function",message:"cb parameter is not valid"}),r=g(this.baseOptions.rootUrl,"users",e,"identities"),this.request.post(r).send({link_with:t}).end(Fn(n,{ignoreCasing:!0}))};var zr={Authentication:Hr,Management:Kr,WebAuth:Gr,version:cn},Wr=n(75624);function Jr(e,t){return new Promise((function(n,r){e.checkSession({timeout:t.toString()},(function(e,t){if(e)r(e);else{var i,o=Object.keys(t.idTokenPayload).find((function(e){return e.includes("userMetadata")})),a=Object.keys(t.idTokenPayload).find((function(e){return e.includes("appMetadata")})),s=o?t.idTokenPayload[o]:void 0,u=a?t.idTokenPayload[a]:void 0;n({accessToken:t.accessToken,expiresIn:t.expiresIn,user:{sub:t.idTokenPayload.sub,email:t.idTokenPayload.email,firstName:null===s||void 0===s?void 0:s.firstName,lastName:null===s||void 0===s?void 0:s.lastName,vikingId:null===u||void 0===u||null===(i=u.customerData)||void 0===i?void 0:i.userId}})}}))}))}function Xr(e){var t=encodeURIComponent(encodeURIComponent(encodeURIComponent(e)));return Wr.ZP.aemLoginUrl()+t}var Zr,Qr=n(64986),ei=n(25764);!function(e){e[e.NOT_FETCHED=0]="NOT_FETCHED",e[e.UNAUTHENTICATED=1]="UNAUTHENTICATED",e[e.AUTHENTICATED=2]="AUTHENTICATED"}(Zr||(Zr={}));var ti=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this,{tokenState:Zr.NOT_FETCHED,token:null})).auth0Timeout=4e3,e.isStarted=!1,e.client=null,e.auth0Id="",e}var c=n.prototype;return c.getAuth0Id=function(){return this.auth0Id||""},c.getClient=function(){return null===this.client&&(this.client=new zr.WebAuth({tenant:Wr.ZP.auth0.tenant(),audience:Wr.ZP.auth0.audience(),domain:Wr.ZP.auth0.domain(),clientID:Wr.ZP.auth0.clientID(),redirectUri:Wr.ZP.auth0.redirectUri(),responseType:"token id_token",scope:"email openid"})),this.client},c.doLoop=function(){var e=this;Jr(this.getClient(),this.auth0Timeout).then((function(t){e.setState({tokenState:Zr.AUTHENTICATED,token:t});try{var n=f(t.accessToken);e.auth0Id=n.sub}catch(u){}})).catch((function(t){e.setState({tokenState:Zr.UNAUTHENTICATED,token:null}),"login_required"===t.code&&"login_required"===t.error||console.error(t)}))},c.startAuthLoop=function(){var e=this;this.isStarted||(this.isStarted=!0,Jr(this.getClient(),this.auth0Timeout).then((function(t){var n,r=1e3*t.expiresIn*.8;if(e.setState({tokenState:Zr.AUTHENTICATED,token:t}),void 0!==(null===window||void 0===window||null===(n=window.analytics)||void 0===n?void 0:n.identify)){var i,s=f(t.accessToken);s.sub&&(e.auth0Id=s.sub,d.YA("auth0Id",s.sub));var u,c,l,p,h=Object.keys(s).find((function(e){return e.includes("app_metadata")})),v={auth0Id:s.sub};if(h&&(null===(i=s[h])||void 0===i?void 0:i.customerData))v=(0,a.Z)((0,o.Z)({},v),{customer_id:null===(u=s[h])||void 0===u||null===(c=u.customerData)||void 0===c?void 0:c.partyId,preferred_member_flag:null===(l=s[h])||void 0===l||null===(p=l.customerData)||void 0===p?void 0:p.preferred});(0,ei.$A)(s.sub,v)}setInterval((function(){return e.doLoop()}),r)})).catch((function(t){var n;void 0!==(null===window||void 0===window||null===(n=window.analytics)||void 0===n?void 0:n.identify)&&(0,ei.$A)(),e.setState({tokenState:Zr.UNAUTHENTICATED,token:null}),"login_required"===t.code&&"login_required"===t.error||console.error(t)})))},c.login=function(){window.location.href=Xr(window.location.href)},c.loginAndRedirectToAnotherHref=function(e){window.location.href=Xr(e)},c.register=function(){window.location.href=function(e){var t=encodeURIComponent(encodeURIComponent(encodeURIComponent(e)));return Wr.ZP.aemRegisterUrl()+t}(window.location.href)},n}(Qr.Z),ni=new ti},64986:function(e,t,n){"use strict";var r=n(75815),i=function(){function e(t){(0,r.Z)(this,e),this.state=t,this.listeners=new Map}var t=e.prototype;return t.listen=function(e,t){if(this.listeners.has(e))throw new Error("".concat(e," is already listening in the store"));return this.listeners.set(e,t),this.state},t.remove=function(e){this.listeners.delete(e)},t.getState=function(){return this.state},t.notify=function(){var e=this;this.listeners.forEach((function(t,n){t(e.state)}))},t.setState=function(e){this.state=e,this.notify()},e}();t.Z=i},76597:function(e,t,n){"use strict";var r=n(75815),i=n(55577),o=n(84737),a=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return n}(n(64986).Z);t.Z=new a({})},50213:function(e,t,n){"use strict";n.d(t,{Dv:function(){return d},FH:function(){return c},IH:function(){return a},mT:function(){return s},px:function(){return p},rG:function(){return f},we:function(){return l},yX:function(){return u}});var r=n(69779),i=n(84551),o=n(860),a=function(){return window.analytics},s=function(e){var t;null===(t=window.analytics)||void 0===t||t.ready((function(){var t,n=a();n&&e.setUser({id:null===(t=null===n||void 0===n?void 0:n.user())||void 0===t?void 0:t.anonymousId()})}))},u=function(e){var t,n,i=null===(t=e.objects)||void 0===t?void 0:t.reduce((function(e,t){return(0,r.Z)(e).concat((0,r.Z)(t.metadata))}),[]),o=null===i||void 0===i?void 0:i.find((function(e){return"Period - General"===e.key}));return null===o||void 0===o||null===(n=o.value)||void 0===n?void 0:n.stringValue},c=function(){if((0,o.jU)()&&window){var e,t;if(!(null===window||void 0===window||null===(e=window.consentManager)||void 0===e?void 0:e.inEU()))return!0;var n=null===window||void 0===window||null===(t=window.localStorage)||void 0===t?void 0:t.getItem("ajs_user_traits");if(n){var r,i=JSON.parse(n);if(null===i||void 0===i||null===(r=i.customTrackingPreferences)||void 0===r?void 0:r.marketingAndAnalytics)return!0}}return!1},l=function(e){switch(e){case i.Tl.PeerToPeer:case i.Tl.Marketplace:return"retail";case i.Tl.PrivateSaleExhibition:return"private-sales";case i.Tl.LiveAuctions:case i.Tl.OnlineAuctions:case i.Tl.TimeBasedSale:return"lot";default:return}},p=function(e){switch(e){case i.Tl.PeerToPeer:case i.Tl.Marketplace:return"Buy Now";case i.Tl.PrivateSaleExhibition:return"Private Sale";case i.Tl.LiveAuctions:case i.Tl.OnlineAuctions:case i.Tl.TimeBasedSale:return"Lot";default:return}},f=function(e){switch(e){case"buyNow":return"retail";case"private":return"private-sales";case"bid":return"lot";default:return}},d=function(e){switch(e){case"buyNow":return"Buy Now";case"private":return"Private Sale";case"bid":return"Lot";default:return}}},25764:function(e,t,n){"use strict";n.d(t,{KX:function(){return w},$A:function(){return I},WX:function(){return d},SD:function(){return h},nF:function(){return _},Qj:function(){return E},zV:function(){return S},NC:function(){return m},GG:function(){return N},Yu:function(){return b},G9:function(){return T},aW:function(){return y},Gz:function(){return A},E5:function(){return D},dA:function(){return R},Iu:function(){return v},c8:function(){return O}});var r,i=n(67573),o=n(80969),a=n(860),s=n(22917),u=n(51591);!function(e){e.ClickAlternativeImage="click alternative image",e.ClickCataloguing="click cataloguing",e.ClickConditionReport="click condition report",e.ClickExhibited="click exhibited",e.ClickLiterature="click literature",e.ClickLotDetails="click lot details",e.ClickProvenance="click provenance",e.ClickReadLess="click read less",e.ClickReadMore="click read more",e.ClickSaleroomNotice="click saleroom notice",e.FinanceServiceModalClicked="finance service modal clicked",e.FinanceServiceModalClosed="finance service modal closed",e.FinanceServiceModalOpened="finance service modal opened"}(r||(r={}));var c=n(96486),l=n.n(c),p=n(76597),f=n(50213),d={appliedFilters:[],lastAppliedFilter:"",lastAppliedValue:"",searchQuery:"",filterWidgetType:""},h=function(e){var t=e.cardTitle,n=e.cardType,r=e.collection,o=e.listId,s=e.language,c=e.auth0_id;(0,a.jU)()&&u.ZPm.contentCardClicked({auth0_id:c,card_title:t,card_type:n,collection:r,list_id:(0,i.Z)({},o,o),language:s})},v=function(e){var t=e.originalCurrency,n=e.selectedCurrency,r=e.currencySelectionOrigin;if((0,a.jU)()){var i={original_currency:t,currency_new:n,currency_selection_origin:r};u.ZPm.currencySelected(i)}},y=function(e){var t=e.retailItem,n=e.language,r=e.host,i=e.path,o=e.user,c=e.loggedIn,l=e.selectedVariant;if((0,a.jU)()){var d,h,v,y,m=p.Z.getState(),_=null===(d=t.creators)||void 0===d?void 0:d.map((function(e){return e.displayName})),E="";null===(h=t.media)||void 0===h||h.images.find((function(e){var t=e.renditions.find((function(e){return"Original"===e.imageSize}));return!!t&&(E=t.url,!0)}));var T=[];null===(v=t.tags)||void 0===v||v.map((function(e){T=T.concat(e.tagLabel)}));var b=t.category||[],I=t.variantGroup.variants.length>1;g({propertyType:t.propertyType,language:n,user:o,department:(null===(y=t.department)||void 0===y?void 0:y.title)||"",callback:function(){var e,n,p,d,h,v;return u.ZPm.productViewed({product_id:l?null===l||void 0===l?void 0:l.variantId:t.retailItemId,sku:l?null===l||void 0===l?void 0:l.sku:t.sku,type:(0,f.px)(t.propertyType),content_type:(0,f.px)(t.propertyType),sale_type:(0,f.we)(t.propertyType),category:null===b||void 0===b||null===(e=b[0])||void 0===e?void 0:e.name,category_2:null===b||void 0===b||null===(n=b[1])||void 0===n?void 0:n.name,product_type:null===(p=t.objects)||void 0===p||null===(d=p[0])||void 0===d?void 0:d.objectTypeName,department_category:null===(h=t.department)||void 0===h?void 0:h.title,name:t.title,creator:null===_||void 0===_?void 0:_.join(", "),price:l?(null===l||void 0===l?void 0:l.listPrice)||0:t.pricing.listPrice||0,currency:t.pricing.currency,url:(0,a.kB)({host:r,path:i}),image_url:E,queryID:m.algoliaQueryID,objectID:m.algoliaObjectID,position:1,index:m.algoliaIndexName,lot_viking_id:t.retailItemId,ecomm_prodid:[l?l.sku:t.sku],ecomm_totalvalue:l?l.listPrice||0:t.pricing.listPrice||0,ecomm_pagetype:"product",tags:T.join(" | "),period_general:(0,f.yX)(t)||void 0,ships_internationally:null===(v=t.shipping)||void 0===v?void 0:v.shipsInternationally,logged_in:c,variant:I&&l?"".concat(null===l||void 0===l?void 0:l.groupName,": ").concat(null===l||void 0===l?void 0:l.value):"",userToken:o?(0,s.jm)(o.sub,"|"):void 0,user_service_id:null===o||void 0===o?void 0:o.vikingId,seller:(0,a.Yv)(t)})}})}},g=function(e){var t=e.propertyType,n=e.language,r=e.user,i=e.department,o=e.callback;if((0,a.jU)()){var u=(0,f.IH)(),c=new URLSearchParams(window.location.search);u&&u.page((0,s.Ie)({path:window.location.pathname,language:n}),{content_type:t?(0,f.px)(t):"Buy Now",cmp_trackingcode:c.get("cmp"),language:n,userId:r?r.sub:null,user_service_id:null===r||void 0===r?void 0:r.vikingId,department_category:i},o)}},m=function(e){var t=e.retailItem,n=e.loggedIn,r=e.location,i=e.host,o=e.path,s=e.selectedVariant;if((0,a.jU)()){var c,l,d,h,v,y,g,m,_,E,T=p.Z.getState(),b=null===t||void 0===t||null===(c=t.creators)||void 0===c?void 0:c.map((function(e){return e.displayName})),I="";null===(l=t.media)||void 0===l||l.images.find((function(e){var t=e.renditions.find((function(e){return"Original"===e.imageSize}));return!!t&&(I=t.url,!0)}));var O=[];null===(d=t.tags)||void 0===d||d.map((function(e){O=O.concat(e.tagLabel)})),u.ZPm.makeAnOfferClicked({category:null===(h=t.category)||void 0===h||null===(v=h[0])||void 0===v?void 0:v.name,category_2:null===(y=t.category)||void 0===y||null===(g=y[1])||void 0===g?void 0:g.name,content_type:(0,f.px)(t.propertyType),creator:null===b||void 0===b?void 0:b.join(", "),currency:t.pricing.currency,department_category:null===(m=t.department)||void 0===m?void 0:m.title,ecomm_pagetype:"cart",ecomm_prodid:[s?s.sku:t.sku],ecomm_totalvalue:s?s.listPrice:t.pricing.listPrice,image_url:I,index:T.algoliaIndexName,logged_in:n,lot_viking_id:t.retailItemId,location:r,name:t.title,objectID:T.algoliaObjectID,price:s?s.listPrice:t.pricing.listPrice,product_id:s?s.variantId:t.retailItemId,product_type:null===(_=t.objects)||void 0===_||null===(E=_[0])||void 0===E?void 0:E.objectTypeName,queryID:T.algoliaQueryID,mao_value:t.pricing.listPrice?.25*t.pricing.listPrice:void 0,sku:s?s.sku:t.sku,tags:O.join(" | "),type:(0,f.px)(t.propertyType),url:(0,a.kB)({host:i,path:o}),period_general:(0,f.yX)(t)||void 0})}},_=function(e){var t=e.retailItem,n=e.loggedIn,r=(e.language,e.host),i=e.path,o=e.selectedVariant;if((0,a.jU)()){var s,c,l,d,h,v,y,g,m,_,E=p.Z.getState(),T=null===t||void 0===t||null===(s=t.creators)||void 0===s?void 0:s.map((function(e){return e.displayName})),b="";null===(c=t.media)||void 0===c||c.images.find((function(e){var t=e.renditions.find((function(e){return"Original"===e.imageSize}));return!!t&&(b=t.url,!0)}));var I=[];null===(l=t.tags)||void 0===l||l.map((function(e){I=I.concat(e.tagLabel)}));var O={category:null===(d=t.category)||void 0===d||null===(h=d[0])||void 0===h?void 0:h.name,category_2:null===(v=t.category)||void 0===v||null===(y=v[1])||void 0===y?void 0:y.name,content_type:(0,f.px)(t.propertyType),creator:null===T||void 0===T?void 0:T.join(", "),currency:t.pricing.currency,department_category:null===(g=t.department)||void 0===g?void 0:g.title,ecomm_pagetype:"cart",ecomm_prodid:[o?o.sku:t.sku],ecomm_totalvalue:o?o.listPrice:t.pricing.listPrice,image_url:b,index:E.algoliaIndexName,logged_in:n,lot_viking_id:t.retailItemId,name:t.title,objectID:E.algoliaObjectID,price:o?o.listPrice:t.pricing.listPrice,product_id:o?o.variantId:t.retailItemId,product_type:null===(m=t.objects)||void 0===m||null===(_=m[0])||void 0===_?void 0:_.objectTypeName,queryID:E.algoliaQueryID,sku:o?o.sku:t.sku,tags:I.join(" | "),type:(0,f.px)(t.propertyType),url:(0,a.kB)({host:r,path:i}),period_general:(0,f.yX)(t)||void 0};u.ZPm.enquireClicked(O)}},E=function(e){var t=e.retailItem,n=e.contactInfo,r=e.loggedIn,i=(e.language,e.host),o=e.path,s=e.selectedVariant;if((0,a.jU)()){var c,l,d,h,v,y,g,m,_,E,T=p.Z.getState(),b=null===t||void 0===t||null===(c=t.creators)||void 0===c?void 0:c.map((function(e){return e.displayName})),I="";null===(l=t.media)||void 0===l||l.images.find((function(e){var t=e.renditions.find((function(e){return"Original"===e.imageSize}));return!!t&&(I=t.url,!0)}));var O=[];null===(d=t.tags)||void 0===d||d.map((function(e){O=O.concat(e.tagLabel)})),u.ZPm.enquireSubmitted({user:{email:n.email,first_name:n.firstName,last_name:n.lastName,phone_number:n.phone},category:null===t||void 0===t||null===(h=t.category)||void 0===h||null===(v=h[0])||void 0===v?void 0:v.name,category_2:null===(y=t.category)||void 0===y||null===(g=y[1])||void 0===g?void 0:g.name,content_type:(0,f.px)(t.propertyType),creator:null===b||void 0===b?void 0:b.join(", "),currency:t.pricing.currency,department_category:null===(m=t.department)||void 0===m?void 0:m.title,ecomm_pagetype:"cart",ecomm_prodid:[s?s.sku:t.sku],ecomm_totalvalue:s?s.listPrice:t.pricing.listPrice,image_url:I,index:T.algoliaIndexName,logged_in:r,lot_viking_id:t.retailItemId,name:t.title,objectID:T.algoliaObjectID,price:s?s.listPrice:t.pricing.listPrice,product_id:s?s.variantId:t.retailItemId,product_type:null===(_=t.objects)||void 0===_||null===(E=_[0])||void 0===E?void 0:E.objectTypeName,queryID:T.algoliaQueryID,sku:s?s.sku:t.sku,tags:O.join(" | "),type:(0,f.px)(t.propertyType),url:(0,a.kB)({host:i,path:o}),period_general:(0,f.yX)(t)||void 0})}},T=function(e){var t=e.collectionTitle,n=e.departments,r=e.categories,i=e.language,o=e.waysToBuy,c=e.user,d=e.products,h=e.loggedIn,v=e.currentPage,y=e.totalPages,m=e.totalNumberOfItems,_=e.itemsPerPage,E=e.objectIDs,T=p.Z.getState(),b=l().uniq(n),I=[];null===r||void 0===r||r.map((function(e){var t=l().split(e," > ");I=I.concat(t)}));var O=l().uniq(I);(0,a.jU)()&&g({language:i,user:c,department:b.join(" | "),callback:function(){u.ZPm.productListViewed({collection:t,list_id:t,language:i,department_category:b.join(" | "),product_category_list:O.join(" | "),type:o.map(f.Dv).join(" | "),content_type:o.map(f.Dv).join(" | "),queryID:T.algoliaQueryID,index:T.algoliaIndexName,category:O.length>0?O[0]:void 0,sale_type:o.map(f.rG).join(" | "),logged_in:h,products:d,total_number_of_items:m,pagination_current_page:v,pagination_total_pages:y,items_per_page:_,userToken:c?(0,s.jm)(c.sub,"|"):void 0,user_service_id:null===c||void 0===c?void 0:c.vikingId,objectIDs:E})}})},b=function(e){var t=e.collection,n=e.appliedFilters,r=e.search_keyword,i=e.filter_applied,o=e.filter_widget_type,c=e.num_search_results,l=e.waysToBuy,d=e.user,h=e.products,v=e.currentPage,y=e.totalPages,g=e.totalNumberOfItems,m=e.itemsPerPage,_=e.objectIDs,E=p.Z.getState(),T=[];n.map((function(e){return T.push("".concat(e.attribute,":").concat(e.value))})),(0,a.jU)()&&u.ZPm.productListFiltered({collection:t,filters:T,search_keyword:r,filter_applied:i,filter_widget_type:o,num_search_filters:T.length,num_search_results:c,type:null===l||void 0===l?void 0:l.map(f.Dv).join(" | "),content_type:null===l||void 0===l?void 0:l.map(f.Dv).join(" | "),list_id:t,queryID:E.algoliaQueryID,index:E.algoliaIndexName,userToken:d?(0,s.jm)(d.sub,"|"):void 0,products:h,total_number_of_items:g,pagination_current_page:v,pagination_total_pages:y,items_per_page:m,objectIDs:_})},I=function(e,t){var n=(0,f.IH)();(0,a.jU)()&&n&&n.identify(e,t)},O=function(e){var t=e.searchState,n=e.trackingData,r=e.setTrackingData,i=t.refinementList,a=t.priceFilterLow,s=t.priceFilterHigh,u=t.query,c=d;c.searchQuery=u||"";var l=n.appliedFilters,p=[];if(void 0!==a&&void 0!==s&&(p.push({attribute:"price",value:"".concat(a,"-").concat(s)}),l.find((function(e){return"price"===e.attribute&&e.value==="".concat(a,"-").concat(s)}))||(c.lastAppliedFilter="price",c.filterWidgetType="slider",c.lastAppliedValue="price:".concat(a,"-").concat(s))),i&&Object.keys(i).length){var f=!0,h=!1,v=void 0;try{for(var y,g=function(){var e=(0,o.Z)(y.value,2),t=e[0],n=e[1];if(n.length<l.filter((function(e){return e.attribute===t})).length&&(c.lastAppliedFilter=t,c.filterWidgetType="refinementList"),!n)return"continue";n.map((function(e){l.find((function(n){return n.attribute===t&&n.value===e}))||(c.lastAppliedFilter=t,c.filterWidgetType="refinementList",c.lastAppliedValue="".concat(t,":").concat(e)),p.push({attribute:t,value:e})}))},m=Object.entries(i)[Symbol.iterator]();!(f=(y=m.next()).done);f=!0)g()}catch(_){h=!0,v=_}finally{try{f||null==m.return||m.return()}finally{if(h)throw v}}}c.appliedFilters=p,r(c)},S=function(e){var t=e.retailItem,n=e.host,r=e.path,i=e.component;if((0,a.jU)()){var o,s,c,l,p,d,h,v,y=null===t||void 0===t||null===(o=t.creators)||void 0===o?void 0:o.map((function(e){return e.displayName}));u.ZPm.learnMore({category:null===(s=t.category)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.name,category_2:null===(l=t.category)||void 0===l||null===(p=l[1])||void 0===p?void 0:p.name,content_type:(0,f.px)(t.propertyType),component:i,creator:null===y||void 0===y?void 0:y.join(", "),currency:t.pricing.currency,department_category:null===(d=t.department)||void 0===d?void 0:d.title,name:t.title,price:t.pricing.listPrice,product_id:t.retailItemId,product_type:null===(h=t.objects)||void 0===h||null===(v=h[0])||void 0===v?void 0:v.objectTypeName,sku:t.sku,type:(0,f.px)(t.propertyType),url:(0,a.kB)({host:n,path:r})})}},N=function(e){var t=e.retailItem,n=e.host,r=e.path,i=e.loggedIn,o=e.offerPrice,s=e.percentOfListPrice;if((0,a.jU)()){var c,l,p,d,h,v,y,g,m=null===(c=t.creators)||void 0===c?void 0:c.map((function(e){return e.displayName}));u.ZPm.offerEntered({category_2:null===(l=t.category)||void 0===l||null===(p=l[1])||void 0===p?void 0:p.name,category:null===(d=t.category)||void 0===d||null===(h=d[0])||void 0===h?void 0:h.name,content_type:(0,f.px)(t.propertyType),creator:null===m||void 0===m?void 0:m.join(", "),currency:t.pricing.currency,department_category:null===(v=t.department)||void 0===v?void 0:v.title,logged_in:i,name:t.title,offer_price:o,percent_of_list_price:s,price:t.pricing.listPrice,product_id:t.retailItemId,product_type:null===t||void 0===t||null===(y=t.objects)||void 0===y||null===(g=y[0])||void 0===g?void 0:g.objectTypeName,sku:t.sku,type:(0,f.px)(t.propertyType),url:(0,a.kB)({host:n,path:r})})}},w=function(e){var t=e.position,n=e.retailItem;u.ZPm.productInteraction({product_interaction_type:r.ClickAlternativeImage,position:t+1,type:(0,f.px)(n.propertyType)})},R=function(e){var t=e.retailItem,n=e.productClicked,r=e.numberOfRecommendations,i=e.language;if("RetailItem"===(null===n||void 0===n?void 0:n.__typename)){var o,a,s,c,l,p,d=n;u.ZPm.recommendationClicked({recommendation_num:r||0,sale_type:(0,f.we)(null===t||void 0===t?void 0:t.propertyType)||"",currency:(null===t||void 0===t||null===(o=t.pricing)||void 0===o?void 0:o.currency)||"",recommendation_source:"TG",category:null===t||void 0===t||null===(a=t.category)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.name,in_app:!1,language:i,product_id:(null===t||void 0===t?void 0:t.sku)||"",product_uuid:null===t||void 0===t?void 0:t.id,price:(null===t||void 0===t||null===(c=t.pricing)||void 0===c?void 0:c.listPrice)||0,clicked_product_id:null===d||void 0===d?void 0:d.id,clicked_product_uuid:(null===d||void 0===d?void 0:d.sku)||"",clicked_price:(null===d||void 0===d||null===(l=d.pricing)||void 0===l?void 0:l.listPrice)||0,clicked_currency:null===d||void 0===d||null===(p=d.pricing)||void 0===p?void 0:p.currency,clicked_sale_type:d.propertyType&&(0,f.we)(d.propertyType)||""})}else if("LotCard"===(null===n||void 0===n?void 0:n.__typename)){var h,v,y,g,m,_,E,T,b,I,O=n;"LowHighEstimateV2"===(null===(h=O.estimateV2)||void 0===h?void 0:h.__typename)&&(I=O.estimateV2),u.ZPm.recommendationClicked({recommendation_num:r||0,sale_type:(0,f.we)(null===t||void 0===t?void 0:t.propertyType)||"",currency:(null===t||void 0===t||null===(v=t.pricing)||void 0===v?void 0:v.currency)||"",recommendation_source:"TG",category:null===t||void 0===t||null===(y=t.category)||void 0===y?void 0:y[0].name,in_app:!1,language:i,product_id:(null===t||void 0===t?void 0:t.sku)||"",product_uuid:null===t||void 0===t?void 0:t.id,price:(null===t||void 0===t||null===(g=t.pricing)||void 0===g?void 0:g.listPrice)||0,clicked_product_id:null===O||void 0===O?void 0:O.id,clicked_product_uuid:null===O||void 0===O?void 0:O.lotId,clicked_sale_uuid:null===O||void 0===O||null===(m=O.auction)||void 0===m?void 0:m.auctionId,clicked_estimate_high:(null===I||void 0===I||null===(_=I.highEstimate)||void 0===_?void 0:_.amount)?+(null===I||void 0===I||null===(E=I.highEstimate)||void 0===E?void 0:E.amount):null,clicked_estimate_low:(null===I||void 0===I||null===(T=I.lowEstimate)||void 0===T?void 0:T.amount)?+(null===I||void 0===I||null===(b=I.lowEstimate)||void 0===b?void 0:b.amount):null,clicked_sale_type:"lot"})}},A=function(e){var t,n,r,i,o=e.retailItem,a=e.numberOfRecommendations,s=e.language;u.ZPm.recommendationLoaded({currency:(null===o||void 0===o||null===(t=o.pricing)||void 0===t?void 0:t.currency)||"",price:null===o||void 0===o||null===(n=o.pricing)||void 0===n?void 0:n.listPrice,category:null===o||void 0===o||null===(r=o.category)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.name,product_id:o.sku||"",product_uuid:null===o||void 0===o?void 0:o.id,recommendation_num:a||0,recommendation_source:"TG",sale_type:(0,f.we)(o.propertyType)||"",in_app:!1,language:s})},D=function(e){var t,n,r,i,o=e.retailItem,a=e.numberOfRecommendations,s=e.language;u.ZPm.recommendationSeen({currency:(null===o||void 0===o||null===(t=o.pricing)||void 0===t?void 0:t.currency)||"",price:(null===o||void 0===o||null===(n=o.pricing)||void 0===n?void 0:n.listPrice)||0,category:null===o||void 0===o||null===(r=o.category)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.name,product_id:(null===o||void 0===o?void 0:o.sku)||"",product_uuid:null===o||void 0===o?void 0:o.id,recommendation_num:a||0,recommendation_source:"TG",sale_type:(0,f.we)(null===o||void 0===o?void 0:o.propertyType)||"",in_app:!1,language:s})}},22917:function(e,t,n){"use strict";n.d(t,{Ie:function(){return l},M0:function(){return u},Py:function(){return s},Tf:function(){return y},WM:function(){return p},jm:function(){return v},ko:function(){return h},lz:function(){return o},t:function(){return f},xf:function(){return d},yh:function(){return a}});var r=n(96486),i=n.n(r),o=function(e){var t=i().trim(e,"/");return i().split(t,"/")},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"".concat(e.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:n?2:0})," ").concat(t)},s=function(e){return e.replace(/(<([^>]+)>)/gi,"")},u=function(e){var t=e.tokens,n=e.separator,r=void 0===n?" ":n;return t.filter((function(e){return""!==e&&void 0!==e})).map((function(e){return c(e)})).join(r)},c=function(e){return null===e||void 0===e?void 0:e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}))},l=function(e){var t=e.path,n=e.language,r=i().trimStart(t,n+"/"),o=i().split(r,"/").map((function(e){return i().startsWith(e,"_")?i().trimStart(e,"_"):i().startCase(e)}));return i().join(o,": ")},p=function(e){var t=i().split(e,"/"),n=i().findIndex(t,(function(e){return"buy"===e})),r=i().slice(t,n+1);return i().filter(r,(function(e){return"_"!==e[0]}))},f=function(e){return null!==e.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")},d=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},h=function(e,t,n){return e.split(t).join(n)},v=function(e,t){var n=null===e||void 0===e?void 0:e.split(t);return n.length<=1?e:n.slice(1).join(t)},y=RegExp.prototype.test.bind(/(<([^>]+)>)/i)},860:function(e,t,n){"use strict";n.d(t,{Bo:function(){return N},C6:function(){return O},G:function(){return C},HP:function(){return x},Hi:function(){return j},IO:function(){return g},Jz:function(){return y},LI:function(){return f},NM:function(){return k},QV:function(){return K},SG:function(){return V},Td:function(){return R},Vi:function(){return b},Wz:function(){return v},X5:function(){return m},Yv:function(){return B},_y:function(){return I},a2:function(){return F},b_:function(){return E},c1:function(){return U},cU:function(){return _},cW:function(){return T},d:function(){return A},dR:function(){return D},gU:function(){return S},ic:function(){return d},ik:function(){return P},jR:function(){return L},jU:function(){return p},j_:function(){return $},kB:function(){return h},nT:function(){return w},o$:function(){return G},oA:function(){return H},sk:function(){return l},vz:function(){return Y},zS:function(){return M}});var r=n(80969),i=n(67294),o=n(96486),a=n.n(o),s=n(84551),u=n(79606),c=n(29518),l=function(){return!1},p=function(){return!0},f=i.useLayoutEffect,d=function(){var e,t=!1;return p()&&(e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&(t=!0)),t},h=function(e){var t=e.host,n=e.path;return(p()?window.location.href:"https://"+t+n).split("?")[0]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return p()?window.location.search.slice(1):e.indexOf("?")?e.split("?")[1]:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=p()?window.location.pathname:e;return t},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=p()?window.location.pathname:e;return t.split("?")[0]},m=function(e){return"Painting"===e||"Print"===e||"Work on Paper"===e||"Photograph"===e||"Vintage Poster"===e||"Mixed Media"===e||"Sculpture"===e},_=function(e){return"Sneaker"===e},E=function(e){return"Seating"===e||"Table"===e||"Storage"===e||"Bed"===e||"Lighting"===e||"Rug"===e||"Collectibles"===e||"Clock"===e||"Dining & Serveware"===e||"Decor"===e||"Textiles"===e||"Ritual Items & Weapons"===e||"Architectural & Garden"===e},T=function(e){return"Book"===e},b=function(e){return"Wine"===e},I=function(e){return"Spirit"===e},O=function(e){return"WINE"===e},S=function(e){return e===s.Tl.PrivateSaleExhibition},N=function(e,t){switch(e){case"Painting":case"Print":case"Photograph":case"Vintage Poster":case"Sculpture":case"Mixed Media":case"Work on Paper":return t?u.EG.PEXSFINEART:u.EG.FINEART;case"Sneakers":return u.EG.SNEAKERS;case"Handbag":return u.EG.HANDBAG;case"Seating":case"Table":case"Storage":case"Bed":case"Lighting":case"Rug":case"Collectibles":case"Clock":case"Dining & Serveware":case"Decor":case"Textiles":case"Ritual Items & Weapons":case"Architectural & Garden":return t?u.EG.PEXSVARIOUS:u.EG.VARIOUS;case"Watch":return u.EG.WATCH;case"Book":return u.EG.BOOK;default:return}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"mm"===e?t/25.4:"cm"===e?t/2.54:"inches"===e||"in"===e?t:"feet"===e?12*t:t},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"mm"===e?t/10:"cm"===e?t:"inches"===e||"in"===e?2.54*t:"feet"===e?30.48*t:t},A=function(e,t){return e.length?e.map((function(e){return null===t||void 0===t?void 0:t.find((function(t){return t.key===e&&(t.value.stringValue||t.value.stringValues||t.value.integerValue||t.value.boolValue)}))})):[]},D=function(e,t){return null===t||void 0===t?void 0:t.find((function(t){return t.key===e&&(t.value.stringValue||t.value.stringValues||t.value.integerValue||t.value.boolValue||t.value.floatValue)}))},k=function(e,t,n){var r=n?t:e.map((function(e){return null===t||void 0===t?void 0:t.find((function(t){return t.key===e&&(t.value||t.unit)}))})).filter((function(e){return e}));return r?a().sortBy(r,(function(t){return t?e.indexOf(t.key)>=0?e.indexOf(t.key):e.length:void 0})):[]},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Original",n=[];return null===e||void 0===e||e.images.map((function(e){var r=e.renditions.find((function(e){return e.imageSize===t}));r&&n.push(r.url)})),0===n.length&&n.push(null===e||void 0===e?void 0:e.images[0].renditions[0].url),n.length?n[0]:""},U=function(e,t){if(e>0&&t>=0){var n=(e-t)/e*100;return Math.ceil(n)}return 0},x=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Original";return null===(t=null===e||void 0===e?void 0:e.images[0])||void 0===t?void 0:t.renditions.find((function(e){return e.imageSize===n}))},L=function(e,t){if(t&&t.length>0){var n="";return e&&""!==e&&(n+=e+" "),n+=t.join(", ")}return""},P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return!!(null===e||void 0===e?void 0:e.trim())})).join(", ")},M=function(e){return!c.f.includes(e)},F=function(e){return e?e>24?"In Stock (24+ Available)":"In Stock (".concat(e," Available)"):"Out of Stock"},j=function(e,t,n){return(null===n||void 0===n?void 0:n.englishShortNameReadingOrder)&&t?"Ships from: ".concat(t,", ").concat(n.englishShortNameReadingOrder):(null===n||void 0===n?void 0:n.englishShortNameReadingOrder)&&e?"Ships from: ".concat(e,", ").concat(n.englishShortNameReadingOrder):(null===n||void 0===n?void 0:n.englishShortNameReadingOrder)?"Ships from: ".concat(null===n||void 0===n?void 0:n.englishShortNameReadingOrder):"This item ships within the US"},V=function(e){var t=e.circa,n=e.centuryPrefix,r=e.century,i=e.constructionYearStart,o=e.constructionYearEnd;return"".concat((null===t||void 0===t?void 0:t.value.boolValue)?"Circa ":"").concat((null===n||void 0===n?void 0:n.value.stringValue)?n.value.stringValue+" ":"").concat((null===r||void 0===r?void 0:r.value.stringValue)?r.value.stringValue+" Century ":"").concat((null===i||void 0===i?void 0:i.value.integerValue)?i.value.integerValue:"").concat((null===i||void 0===i?void 0:i.value.integerValue)&&(null===o||void 0===o?void 0:o.value.integerValue)?" - ":"").concat((null===o||void 0===o?void 0:o.value.integerValue)?o.value.integerValue:"")},B=function(e){var t;return D("Certified Pre-Owned By Bucherer",null===(t=e.objects)||void 0===t?void 0:t[0].metadata)?"Bucherer":e.isOwned?"Sothebys":void 0},$=function(e){return e["Certified Pre-Owned By Bucherer"]?"Bucherer":e.isOwned?"Sothebys":void 0},G=function(e){var t,n,r,i,o=(null===(t=e.variantGroup)||void 0===t?void 0:t.variants.length)>1?null===(n=e.variantGroup)||void 0===n?void 0:n.variants.every((function(e){return e.listPrice>=2e3})):(e.pricing.listPrice||0)>=2e3;return!e.config.offerEnabled&&(null===(r=e.shipping)||void 0===r||null===(i=r.offeredServiceTypes)||void 0===i?void 0:i.includes("SmallParcel"))&&o},q=function(e,t,n,i){var o,a,s,u,c=null===e||void 0===e||null===(o=e.objects)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.metadata,l=(0,r.Z)(A(["Period - General","Special Feature","Book Special Feature"],c).map((function(e){var t,n=null===e||void 0===e?void 0:e.value;return"ObjectMetadataStringValue"===(null===n||void 0===n?void 0:n.__typename)?null===n||void 0===n?void 0:n.stringValue:null===n||void 0===n||null===(t=n.stringValues)||void 0===t?void 0:t[0]})),3),p=l[0],f=l[1],d=l[2];return[n,null===(u=null===e||void 0===e||null===(s=e.creators)||void 0===s?void 0:s.map((function(e){return e.displayName})))||void 0===u?void 0:u.join(t),"Contemporary"!==p?p:void 0,null===e||void 0===e?void 0:e.title,f,d,i].filter((function(e){return""!==e&&void 0!==e}))},Y=function(e){return q(e,", ","","Available For Immediate Sale at Sotheby\u2019s")},H=function(e){return q(e,", ",G(e)?"Complimentary Shipping on":"Easy Checkout on","Plus Shop Our New Arrivals, New Items Added Daily")},K=function(e){var t=e.title,n=e.creator,r=[null===n||void 0===n?void 0:n.attribution,null===n||void 0===n?void 0:n.displayName].filter(Boolean).join(" ");return{header:r||t,italicHeader:r?t:void 0}}},70673:function(e,t,n){"use strict";n.d(t,{XF:function(){return u},dd:function(){return c},wb:function(){return s}});var r=n(84551),i=n(75624),o=n(38337),a=n(38714),s=function(e){var t,n=e.split("?")[0]||"",r=n.split("/").filter((function(e){return""!==e})),i=r[0]||"en",o=e.split("?")[1],a=n.split("/buy/")[1].split("/_")[0];return{url:n,queryString:o,language:i,collectionSlug:a.startsWith("_")?void 0:a,retailItemSlug:null===(t=r.find((function(e){return e.startsWith("_")})))||void 0===t?void 0:t.replace("_","")}},u=function(e){return e||((0,i.jU)()?window.location.host:void 0)},c=function(e){var t,n,i,s,u=null===e||void 0===e||null===(t=e.cookies)||void 0===t?void 0:t[o.G9];if(u in r.F)return u;var c=null===(s=null===e||void 0===e||null===(n=e.headers)||void 0===n||null===(i=n["accept-language"])||void 0===i?void 0:i.split(","))||void 0===s?void 0:s[0];if(c){var l=(0,a.z)(c);if(l in r.F)return l}return r.F.USD}},73085:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(34727),i=n(14251),o=n(52875),a=n(46587),s=n(85893),u=n(7544),c=n(67294),l=n(30523),p=n.n(l),f=n(38337),d=n(75815),h=n(55577),v=n(69779),y=n(84737),g=n(860),m=n(46341),_=function(e){(0,h.Z)(n,e);var t=(0,y.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this,e)).state={hasError:!1,errorInfo:[]},(0,g.jU)()&&setTimeout((function(){fetch("/static/marketplace/api/slo",{method:"POST",body:JSON.stringify({success:!r.state.hasError,errorInfo:r.state.errorInfo}),headers:{"Content-Type":"application/json"}})}),5e3),r}var r=n.prototype;return r.componentDidCatch=function(e,t){var n;this.setState((0,o.Z)((0,i.Z)({},this.state),{errorInfo:(0,v.Z)(this.state.errorInfo).concat([{message:null===e||void 0===e?void 0:e.message,url:(0,g.jU)()?null===window||void 0===window||null===(n=window.location)||void 0===n?void 0:n.href:""}])}))},r.render=function(){return this.state.hasError?(0,s.jsx)(m.Z,{}):this.props.children},n.getDerivedStateFromError=function(e){return{hasError:!0}},n}(c.Component),E=(n(94514),n(75492),n(80969)),T=n(22150),b=n(75624),I=n(82489),O=n(21856),S=n(50213),N=(0,c.createContext)(void 0),w=function(e){var t=e.children,n=(0,S.FH)(),r=(0,I.J)("App"),i=(0,c.useState)(),o=i[0],a=i[1],u=(0,c.useState)(),l=u[0],p=u[1];return(0,c.useEffect)((function(){n&&(a((0,T.Fs)({sdkKey:"prod"===b.ZP.tier()?"FBjumdW1iD4Uf3oXNLuka":"FJA9g12ud8y5n3iaHqiE6",eventBatchSize:10,eventFlushInterval:1e3})),(0,T.Ub)("warn"))}),[]),(0,c.useEffect)((function(){o&&r.tokenState!==O.Vi.NOT_FETCHED&&(r.tokenState===O.Vi.UNAUTHENTICATED?(0,S.mT)(o):r.tokenState===O.Vi.AUTHENTICATED&&o.setUser({id:O.ZP.getAuth0Id()}))}),[r]),null===o||void 0===o||o.onUserUpdate((function(e){var t=o.decideAll();p(Object.fromEntries(Object.entries(t).map((function(e){var t=(0,E.Z)(e,2);return[t[0],t[1].variationKey]}))))})),o?(0,s.jsx)(N.Provider,{value:{optimizely:o,userAttributes:{variations:l}},children:t}):(0,s.jsx)(s.Fragment,{children:t})},R=n(84551),A=n(70673);function D(e){var t=e.Component,n=e.pageProps,r=e.currency,o=e.currencyRates;return(0,c.useEffect)((function(){p().polyfill()}),[]),(0,s.jsx)(w,{children:(0,s.jsx)(_,{children:(0,s.jsx)(f.T3,{currency:r,currencyRates:o,children:(0,s.jsx)(t,(0,i.Z)({},n))})})})}D.getInitialProps=function(){var e=(0,r.Z)((function(e){var t,n,r;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,u.default.getInitialProps(e)];case 1:return t=a.sent(),n=(0,A.dd)(e.ctx.req),[4,(0,R.kJ)(n).then((function(e){return null===e||void 0===e?void 0:e.currencyRates}))];case 2:return r=a.sent(),[2,(0,o.Z)((0,i.Z)({},t),{currency:n,currencyRates:r})]}}))}));return function(t){return e.apply(this,arguments)}}();var k=D},94514:function(){},75492:function(){},77663:function(e){!function(){var t={229:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,u=[],c=!1,l=-1;function p(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&f())}function f(){if(!c){var e=a(p);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||c||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},a=!0;try{t[e](o,o.exports,r),a=!1}finally{a&&delete n[e]}return o.exports}r.ab="//";var i=r(229);e.exports=i}()},9008:function(e,t,n){e.exports=n(5443)},11163:function(e,t,n){e.exports=n(90387)},69921:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function T(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case p:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case y:case v:case u:return e;default:return t}}case i:return t}}}function b(e){return T(e)===p}t.AsyncMode=l,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return b(e)||T(e)===l},t.isConcurrentMode=b,t.isContextConsumer=function(e){return T(e)===c},t.isContextProvider=function(e){return T(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return T(e)===f},t.isFragment=function(e){return T(e)===o},t.isLazy=function(e){return T(e)===y},t.isMemo=function(e){return T(e)===v},t.isPortal=function(e){return T(e)===i},t.isProfiler=function(e){return T(e)===s},t.isStrictMode=function(e){return T(e)===a},t.isSuspense=function(e){return T(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===p||e===s||e===a||e===d||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===m||e.$$typeof===_||e.$$typeof===E||e.$$typeof===g)},t.typeOf=T},59864:function(e,t,n){"use strict";e.exports=n(69921)},30523:function(e){!function(){"use strict";e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n,r=e.HTMLElement||e.Element,i={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:r.prototype.scroll||s,scrollIntoView:r.prototype.scrollIntoView},o=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,a=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==u(arguments[0])?h.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):i.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!==typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(u(arguments[0])?i.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!==typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==u(arguments[0])){var e=arguments[0].left,t=arguments[0].top;h.call(this,this,"undefined"===typeof e?this.scrollLeft:~~e,"undefined"===typeof t?this.scrollTop:~~t)}else{if("number"===typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!==typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==u(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==u(arguments[0])){var n=f(this),r=n.getBoundingClientRect(),o=this.getBoundingClientRect();n!==t.body?(h.call(this,n,n.scrollLeft+o.left-r.left,n.scrollTop+o.top-r.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(e,t){this.scrollLeft=e,this.scrollTop=t}function u(e){if(null===e||"object"!==typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"===typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(e,t){return"Y"===t?e.clientHeight+a<e.scrollHeight:"X"===t?e.clientWidth+a<e.scrollWidth:void 0}function l(t,n){var r=e.getComputedStyle(t,null)["overflow"+n];return"auto"===r||"scroll"===r}function p(e){var t=c(e,"Y")&&l(e,"Y"),n=c(e,"X")&&l(e,"X");return t||n}function f(e){for(;e!==t.body&&!1===p(e);)e=e.parentNode||e.host;return e}function d(t){var n,r,i,a,s=(o()-t.startTime)/468;a=s=s>1?1:s,n=.5*(1-Math.cos(Math.PI*a)),r=t.startX+(t.x-t.startX)*n,i=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,r,i),r===t.x&&i===t.y||e.requestAnimationFrame(d.bind(e,t))}function h(n,r,a){var u,c,l,p,f=o();n===t.body?(u=e,c=e.scrollX||e.pageXOffset,l=e.scrollY||e.pageYOffset,p=i.scroll):(u=n,c=n.scrollLeft,l=n.scrollTop,p=s),d({scrollable:u,method:p,startTime:f,startX:c,startY:l,x:r,y:a})}}}}()},55877:function(e,t,n){var r=n(23570),i=n(71171),o=i;o.v1=r,o.v4=i,e.exports=o},45327:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},85217:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},23570:function(e,t,n){var r,i,o=n(85217),a=n(45327),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],p=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==p||null==f){var d=o();null==p&&(p=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==f&&(f=i=16383&(d[6]<<8|d[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(f=f+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,i=f;var g=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=h/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=f>>>8|128,l[c++]=255&f;for(var _=0;_<6;++_)l[c+_]=p[_];return t||a(l)}},71171:function(e,t,n){var r=n(85217),i=n(45327);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},70217:function(e,t,n){"use strict";n.r(t),n.d(t,{BREAK:function(){return De},BreakingChangeType:function(){return Jo},DEFAULT_DEPRECATION_REASON:function(){return dn},DangerousChangeType:function(){return Xo},DirectiveLocation:function(){return S},ExecutableDefinitionsRule:function(){return hr},FieldsOnCorrectTypeRule:function(){return vr},FragmentsOnCompositeTypesRule:function(){return yr},GRAPHQL_MAX_INT:function(){return Xt},GRAPHQL_MIN_INT:function(){return Zt},GraphQLBoolean:function(){return nn},GraphQLDeprecatedDirective:function(){return hn},GraphQLDirective:function(){return ln},GraphQLEnumType:function(){return Gt},GraphQLError:function(){return h},GraphQLFloat:function(){return en},GraphQLID:function(){return rn},GraphQLIncludeDirective:function(){return pn},GraphQLInputObjectType:function(){return Yt},GraphQLInt:function(){return Qt},GraphQLInterfaceType:function(){return Vt},GraphQLList:function(){return _t},GraphQLNonNull:function(){return Et},GraphQLObjectType:function(){return Ct},GraphQLScalarType:function(){return kt},GraphQLSchema:function(){return Mn},GraphQLSkipDirective:function(){return fn},GraphQLSpecifiedByDirective:function(){return vn},GraphQLString:function(){return tn},GraphQLUnionType:function(){return Bt},Kind:function(){return N},KnownArgumentNamesRule:function(){return gr},KnownDirectivesRule:function(){return _r},KnownFragmentNamesRule:function(){return Er},KnownTypeNamesRule:function(){return Tr},Lexer:function(){return M},Location:function(){return _},LoneAnonymousOperationRule:function(){return Ir},LoneSchemaDefinitionRule:function(){return Or},NoDeprecatedCustomRule:function(){return po},NoFragmentCyclesRule:function(){return Sr},NoSchemaIntrospectionCustomRule:function(){return fo},NoUndefinedVariablesRule:function(){return Nr},NoUnusedFragmentsRule:function(){return wr},NoUnusedVariablesRule:function(){return Rr},OperationTypeNode:function(){return O},OverlappingFieldsCanBeMergedRule:function(){return kr},PossibleFragmentSpreadsRule:function(){return $r},PossibleTypeExtensionsRule:function(){return Gr},ProvidedRequiredArgumentsRule:function(){return Yr},ScalarLeafsRule:function(){return zr},SchemaMetaFieldDef:function(){return Dn},SingleFieldSubscriptionsRule:function(){return pi},Source:function(){return ae},Token:function(){return E},TokenKind:function(){return w},TypeInfo:function(){return tr},TypeKind:function(){return Rn},TypeMetaFieldDef:function(){return kn},TypeNameMetaFieldDef:function(){return Cn},UniqueArgumentDefinitionNamesRule:function(){return di},UniqueArgumentNamesRule:function(){return hi},UniqueDirectiveNamesRule:function(){return vi},UniqueDirectivesPerLocationRule:function(){return yi},UniqueEnumValueNamesRule:function(){return gi},UniqueFieldDefinitionNamesRule:function(){return mi},UniqueFragmentNamesRule:function(){return Ei},UniqueInputFieldNamesRule:function(){return Ti},UniqueOperationNamesRule:function(){return bi},UniqueOperationTypesRule:function(){return Ii},UniqueTypeNamesRule:function(){return Oi},UniqueVariableNamesRule:function(){return Si},ValidationContext:function(){return Li},ValuesOfCorrectTypeRule:function(){return Ni},VariablesAreInputTypesRule:function(){return Ri},VariablesInAllowedPositionRule:function(){return Ai},__Directive:function(){return bn},__DirectiveLocation:function(){return In},__EnumValue:function(){return wn},__Field:function(){return Sn},__InputValue:function(){return Nn},__Schema:function(){return Tn},__Type:function(){return On},__TypeKind:function(){return An},assertAbstractType:function(){return mt},assertCompositeType:function(){return yt},assertDirective:function(){return cn},assertEnumType:function(){return nt},assertEnumValueName:function(){return qe},assertInputObjectType:function(){return it},assertInputType:function(){return lt},assertInterfaceType:function(){return Ze},assertLeafType:function(){return ht},assertListType:function(){return at},assertName:function(){return Ge},assertNamedType:function(){return wt},assertNonNullType:function(){return ut},assertNullableType:function(){return Ot},assertObjectType:function(){return Je},assertOutputType:function(){return ft},assertScalarType:function(){return ze},assertSchema:function(){return Pn},assertType:function(){return He},assertUnionType:function(){return et},assertValidName:function(){return zo},assertValidSchema:function(){return Vn},assertWrappingType:function(){return bt},astFromValue:function(){return _n},buildASTSchema:function(){return Oo},buildClientSchema:function(){return mo},buildSchema:function(){return So},coerceInputValue:function(){return Zr},concatAST:function(){return Go},createSourceEventStream:function(){return lo},defaultFieldResolver:function(){return no},defaultTypeResolver:function(){return to},doTypesOverlap:function(){return Jt},execute:function(){return Bi},executeSync:function(){return $i},extendSchema:function(){return _o},findBreakingChanges:function(){return Zo},findDangerousChanges:function(){return Qo},formatError:function(){return g},getArgumentValues:function(){return ii},getDirectiveValues:function(){return oi},getEnterLeaveForKind:function(){return Ue},getIntrospectionQuery:function(){return ho},getLocation:function(){return l},getNamedType:function(){return Rt},getNullableType:function(){return St},getOperationAST:function(){return vo},getOperationRootType:function(){return yo},getVariableValues:function(){return ri},getVisitFn:function(){return xe},graphql:function(){return io},graphqlSync:function(){return oo},introspectionFromSchema:function(){return go},introspectionTypes:function(){return Un},isAbstractType:function(){return gt},isCompositeType:function(){return vt},isConstValueNode:function(){return ur},isDefinitionNode:function(){return ir},isDirective:function(){return un},isEnumType:function(){return tt},isEqualType:function(){return zt},isExecutableDefinitionNode:function(){return or},isInputObjectType:function(){return rt},isInputType:function(){return ct},isInterfaceType:function(){return Xe},isIntrospectionType:function(){return xn},isLeafType:function(){return dt},isListType:function(){return ot},isNamedType:function(){return Nt},isNonNullType:function(){return st},isNullableType:function(){return It},isObjectType:function(){return We},isOutputType:function(){return pt},isRequiredArgument:function(){return jt},isRequiredInputField:function(){return Kt},isScalarType:function(){return Ke},isSchema:function(){return Ln},isSelectionNode:function(){return ar},isSpecifiedDirective:function(){return gn},isSpecifiedScalarType:function(){return an},isType:function(){return Ye},isTypeDefinitionNode:function(){return pr},isTypeExtensionNode:function(){return dr},isTypeNode:function(){return cr},isTypeSubTypeOf:function(){return Wt},isTypeSystemDefinitionNode:function(){return lr},isTypeSystemExtensionNode:function(){return fr},isUnionType:function(){return Qe},isValidNameError:function(){return Wo},isValueNode:function(){return sr},isWrappingType:function(){return Tt},lexicographicSortSchema:function(){return No},locatedError:function(){return ji},parse:function(){return ue},parseConstValue:function(){return le},parseType:function(){return pe},parseValue:function(){return ce},print:function(){return Le},printError:function(){return y},printIntrospectionSchema:function(){return ko},printLocation:function(){return p},printSchema:function(){return Do},printSourceLocation:function(){return f},printType:function(){return Lo},resolveObjMapThunk:function(){return Dt},resolveReadonlyArrayThunk:function(){return At},responsePathAsArray:function(){return Xr},separateOperations:function(){return qo},specifiedDirectives:function(){return yn},specifiedRules:function(){return ki},specifiedScalarTypes:function(){return on},stripIgnoredCharacters:function(){return Ko},subscribe:function(){return co},syntaxError:function(){return m},typeFromAST:function(){return er},validate:function(){return Pi},validateSchema:function(){return jn},valueFromAST:function(){return ti},valueFromASTUntyped:function(){return $e},version:function(){return r},versionInfo:function(){return i},visit:function(){return ke},visitInParallel:function(){return Ce},visitWithTypeInfo:function(){return rr}});const r="16.6.0",i=Object.freeze({major:16,minor:6,patch:0,preReleaseTag:null});function o(e,t){if(!Boolean(e))throw new Error(t)}function a(e){return"function"===typeof(null===e||void 0===e?void 0:e.then)}function s(e){return"object"==typeof e&&null!==e}function u(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}const c=/\r\n|[\n\r]/g;function l(e,t){let n=0,r=1;for(const i of e.body.matchAll(c)){if("number"===typeof i.index||u(!1),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function p(e){return f(e.source,l(e.source,e.start))}function f(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,u=t.column+s,c=`${e.name}:${a}:${u}\n`,l=r.split(/\r\n|[\n\r]/g),p=l[i];if(p.length>120){const e=Math.floor(u/80),t=u%80,n=[];for(let r=0;r<p.length;r+=80)n.push(p.slice(r,r+80));return c+d([[`${a} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return c+d([[a-1+" |",l[i-1]],[`${a} |`,p],["|","^".padStart(u)],[`${a+1} |`,l[i+1]]])}function d(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}class h extends Error{constructor(e,...t){var n,r,i;const{nodes:o,source:a,positions:u,path:c,originalError:p,extensions:f}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!==c&&void 0!==c?c:void 0,this.originalError=null!==p&&void 0!==p?p:void 0,this.nodes=v(Array.isArray(o)?o:o?[o]:void 0);const d=v(null===(n=this.nodes)||void 0===n?void 0:n.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!==a&&void 0!==a?a:null===d||void 0===d||null===(r=d[0])||void 0===r?void 0:r.source,this.positions=null!==u&&void 0!==u?u:null===d||void 0===d?void 0:d.map((e=>e.start)),this.locations=u&&a?u.map((e=>l(a,e))):null===d||void 0===d?void 0:d.map((e=>l(e.source,e.start)));const y=s(null===p||void 0===p?void 0:p.extensions)?null===p||void 0===p?void 0:p.extensions:void 0;this.extensions=null!==(i=null!==f&&void 0!==f?f:y)&&void 0!==i?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!==p&&void 0!==p&&p.stack?Object.defineProperty(this,"stack",{value:p.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,h):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+="\n\n"+p(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+f(this.source,t);return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function v(e){return void 0===e||0===e.length?void 0:e}function y(e){return e.toString()}function g(e){return e.toJSON()}function m(e,t,n){return new h(`Syntax Error: ${n}`,{source:e,positions:[t]})}class _{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class E{constructor(e,t,n,r,i,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const T={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},b=new Set(Object.keys(T));function I(e){const t=null===e||void 0===e?void 0:e.kind;return"string"===typeof t&&b.has(t)}var O,S,N,w;function R(e){return 9===e||32===e}function A(e){return e>=48&&e<=57}function D(e){return e>=97&&e<=122||e>=65&&e<=90}function k(e){return D(e)||95===e}function C(e){return D(e)||A(e)||95===e}function U(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let a=0;a<e.length;++a){var o;const t=e[a],s=x(t);s!==t.length&&(r=null!==(o=r)&&void 0!==o?o:a,i=a,0!==a&&s<n&&(n=s))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,i+1)}function x(e){let t=0;for(;t<e.length&&R(e.charCodeAt(t));)++t;return t}function L(e){if(""===e)return!0;let t=!0,n=!1,r=!0,i=!1;for(let o=0;o<e.length;++o)switch(e.codePointAt(o)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:case 13:return!1;case 10:if(t&&!i)return!1;i=!0,t=!0,n=!1;break;case 9:case 32:n||(n=t);break;default:r&&(r=n),t=!1}return!t&&(!r||!i)}function P(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=1===r.length,o=r.length>1&&r.slice(1).every((e=>0===e.length||R(e.charCodeAt(0)))),a=n.endsWith('\\"""'),s=e.endsWith('"')&&!a,u=e.endsWith("\\"),c=s||u,l=!(null!==t&&void 0!==t&&t.minimize)&&(!i||e.length>70||c||o||a);let p="";const f=i&&R(e.charCodeAt(0));return(l&&!f||o)&&(p+="\n"),p+=n,(l||c)&&(p+="\n"),'"""'+p+'"""'}!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(O||(O={})),function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(S||(S={})),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(N||(N={})),function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(w||(w={}));class M{constructor(e){const t=new E(w.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){this.lastToken=this.token;return this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==w.EOF)do{if(e.next)e=e.next;else{const t=Y(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===w.COMMENT);return e}}function F(e){return e===w.BANG||e===w.DOLLAR||e===w.AMP||e===w.PAREN_L||e===w.PAREN_R||e===w.SPREAD||e===w.COLON||e===w.EQUALS||e===w.AT||e===w.BRACKET_L||e===w.BRACKET_R||e===w.BRACE_L||e===w.PIPE||e===w.BRACE_R}function j(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function V(e,t){return B(e.charCodeAt(t))&&$(e.charCodeAt(t+1))}function B(e){return e>=55296&&e<=56319}function $(e){return e>=56320&&e<=57343}function G(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return w.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function q(e,t,n,r,i){const o=e.line,a=1+n-e.lineStart;return new E(t,n,r,o,a,i)}function Y(e,t){const n=e.source.body,r=n.length;let i=t;for(;i<r;){const t=n.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===n.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return H(e,i);case 33:return q(e,w.BANG,i,i+1);case 36:return q(e,w.DOLLAR,i,i+1);case 38:return q(e,w.AMP,i,i+1);case 40:return q(e,w.PAREN_L,i,i+1);case 41:return q(e,w.PAREN_R,i,i+1);case 46:if(46===n.charCodeAt(i+1)&&46===n.charCodeAt(i+2))return q(e,w.SPREAD,i,i+3);break;case 58:return q(e,w.COLON,i,i+1);case 61:return q(e,w.EQUALS,i,i+1);case 64:return q(e,w.AT,i,i+1);case 91:return q(e,w.BRACKET_L,i,i+1);case 93:return q(e,w.BRACKET_R,i,i+1);case 123:return q(e,w.BRACE_L,i,i+1);case 124:return q(e,w.PIPE,i,i+1);case 125:return q(e,w.BRACE_R,i,i+1);case 34:return 34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)?te(e,i):W(e,i)}if(A(t)||45===t)return K(e,i,t);if(k(t))return ne(e,i);throw m(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":j(t)||V(n,i)?`Unexpected character: ${G(e,i)}.`:`Invalid character: ${G(e,i)}.`)}return q(e,w.EOF,r,r)}function H(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const e=n.charCodeAt(i);if(10===e||13===e)break;if(j(e))++i;else{if(!V(n,i))break;i+=2}}return q(e,w.COMMENT,t,i,n.slice(t+1,i))}function K(e,t,n){const r=e.source.body;let i=t,o=n,a=!1;if(45===o&&(o=r.charCodeAt(++i)),48===o){if(o=r.charCodeAt(++i),A(o))throw m(e.source,i,`Invalid number, unexpected digit after 0: ${G(e,i)}.`)}else i=z(e,i,o),o=r.charCodeAt(i);if(46===o&&(a=!0,o=r.charCodeAt(++i),i=z(e,i,o),o=r.charCodeAt(i)),69!==o&&101!==o||(a=!0,o=r.charCodeAt(++i),43!==o&&45!==o||(o=r.charCodeAt(++i)),i=z(e,i,o),o=r.charCodeAt(i)),46===o||k(o))throw m(e.source,i,`Invalid number, expected digit but got: ${G(e,i)}.`);return q(e,a?w.FLOAT:w.INT,t,i,r.slice(t,i))}function z(e,t,n){if(!A(n))throw m(e.source,t,`Invalid number, expected digit but got: ${G(e,t)}.`);const r=e.source.body;let i=t+1;for(;A(r.charCodeAt(i));)++i;return i}function W(e,t){const n=e.source.body,r=n.length;let i=t+1,o=i,a="";for(;i<r;){const r=n.charCodeAt(i);if(34===r)return a+=n.slice(o,i),q(e,w.STRING,t,i+1,a);if(92!==r){if(10===r||13===r)break;if(j(r))++i;else{if(!V(n,i))throw m(e.source,i,`Invalid character within String: ${G(e,i)}.`);i+=2}}else{a+=n.slice(o,i);const t=117===n.charCodeAt(i+1)?123===n.charCodeAt(i+2)?J(e,i):X(e,i):ee(e,i);a+=t.value,i+=t.size,o=i}}throw m(e.source,i,"Unterminated string.")}function J(e,t){const n=e.source.body;let r=0,i=3;for(;i<12;){const e=n.charCodeAt(t+i++);if(125===e){if(i<5||!j(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|Q(e),r<0)break}throw m(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function X(e,t){const n=e.source.body,r=Z(n,t+2);if(j(r))return{value:String.fromCodePoint(r),size:6};if(B(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=Z(n,t+8);if($(e))return{value:String.fromCodePoint(r,e),size:12}}throw m(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function Z(e,t){return Q(e.charCodeAt(t))<<12|Q(e.charCodeAt(t+1))<<8|Q(e.charCodeAt(t+2))<<4|Q(e.charCodeAt(t+3))}function Q(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function ee(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw m(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function te(e,t){const n=e.source.body,r=n.length;let i=e.lineStart,o=t+3,a=o,s="";const u=[];for(;o<r;){const r=n.charCodeAt(o);if(34===r&&34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)){s+=n.slice(a,o),u.push(s);const r=q(e,w.BLOCK_STRING,t,o+3,U(u).join("\n"));return e.line+=u.length-1,e.lineStart=i,r}if(92!==r||34!==n.charCodeAt(o+1)||34!==n.charCodeAt(o+2)||34!==n.charCodeAt(o+3))if(10!==r&&13!==r)if(j(r))++o;else{if(!V(n,o))throw m(e.source,o,`Invalid character within String: ${G(e,o)}.`);o+=2}else s+=n.slice(a,o),u.push(s),13===r&&10===n.charCodeAt(o+1)?o+=2:++o,s="",a=o,i=o;else s+=n.slice(a,o),a=o+1,o+=4}throw m(e.source,o,"Unterminated string.")}function ne(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){if(!C(n.charCodeAt(i)))break;++i}return q(e,w.NAME,t,i,n.slice(t,i))}function re(e){return ie(e,[])}function ie(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"===typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"===typeof t?t:ie(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,i=[];for(let o=0;o<n;++o)i.push(ie(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`);return"["+i.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){const t=e.constructor.name;if("string"===typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map((([e,n])=>e+": "+ie(n,t)));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}const oe=function(e,t){return e instanceof t};class ae{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"===typeof e||o(!1,`Body must be a string. Received: ${re(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||o(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||o(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function se(e){return oe(e,ae)}function ue(e,t){return new fe(e,t).parseDocument()}function ce(e,t){const n=new fe(e,t);n.expectToken(w.SOF);const r=n.parseValueLiteral(!1);return n.expectToken(w.EOF),r}function le(e,t){const n=new fe(e,t);n.expectToken(w.SOF);const r=n.parseConstValueLiteral();return n.expectToken(w.EOF),r}function pe(e,t){const n=new fe(e,t);n.expectToken(w.SOF);const r=n.parseTypeReference();return n.expectToken(w.EOF),r}class fe{constructor(e,t={}){const n=se(e)?e:new ae(e);this._lexer=new M(n),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(w.NAME);return this.node(e,{kind:N.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:N.DOCUMENT,definitions:this.many(w.SOF,this.parseDefinition,w.EOF)})}parseDefinition(){if(this.peek(w.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===w.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw m(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(w.BRACE_L))return this.node(e,{kind:N.OPERATION_DEFINITION,operation:O.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(w.NAME)&&(n=this.parseName()),this.node(e,{kind:N.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(w.NAME);switch(e.value){case"query":return O.QUERY;case"mutation":return O.MUTATION;case"subscription":return O.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(w.PAREN_L,this.parseVariableDefinition,w.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:N.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(w.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(w.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(w.DOLLAR),this.node(e,{kind:N.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:N.SELECTION_SET,selections:this.many(w.BRACE_L,this.parseSelection,w.BRACE_R)})}parseSelection(){return this.peek(w.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(w.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:N.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(w.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(w.PAREN_L,t,w.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(w.COLON),this.node(t,{kind:N.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(w.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(w.NAME)?this.node(e,{kind:N.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:N.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(e,{kind:N.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:N.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case w.BRACKET_L:return this.parseList(e);case w.BRACE_L:return this.parseObject(e);case w.INT:return this.advanceLexer(),this.node(t,{kind:N.INT,value:t.value});case w.FLOAT:return this.advanceLexer(),this.node(t,{kind:N.FLOAT,value:t.value});case w.STRING:case w.BLOCK_STRING:return this.parseStringLiteral();case w.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:N.BOOLEAN,value:!0});case"false":return this.node(t,{kind:N.BOOLEAN,value:!1});case"null":return this.node(t,{kind:N.NULL});default:return this.node(t,{kind:N.ENUM,value:t.value})}case w.DOLLAR:if(e){if(this.expectToken(w.DOLLAR),this._lexer.token.kind===w.NAME){const e=this._lexer.token.value;throw m(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:N.STRING,value:e.value,block:e.kind===w.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:N.LIST,values:this.any(w.BRACKET_L,(()=>this.parseValueLiteral(e)),w.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:N.OBJECT,fields:this.any(w.BRACE_L,(()=>this.parseObjectField(e)),w.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(w.COLON),this.node(t,{kind:N.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(w.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(w.AT),this.node(t,{kind:N.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(w.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(w.BRACKET_R),t=this.node(e,{kind:N.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(w.BANG)?this.node(e,{kind:N.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:N.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(w.STRING)||this.peek(w.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(w.BRACE_L,this.parseOperationTypeDefinition,w.BRACE_R);return this.node(e,{kind:N.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(w.COLON);const n=this.parseNamedType();return this.node(e,{kind:N.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:N.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:N.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(w.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(w.BRACE_L,this.parseFieldDefinition,w.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(w.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:N.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(w.PAREN_L,this.parseInputValueDef,w.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(w.COLON);const r=this.parseTypeReference();let i;this.expectOptionalToken(w.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:N.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:N.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:N.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(w.EQUALS)?this.delimitedMany(w.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:N.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i})}parseEnumValuesDefinition(){return this.optionalMany(w.BRACE_L,this.parseEnumValueDefinition,w.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:N.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw m(this._lexer.source,this._lexer.token.start,`${de(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:N.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(w.BRACE_L,this.parseInputValueDef,w.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===w.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(w.BRACE_L,this.parseOperationTypeDefinition,w.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:N.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:N.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:N.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:N.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:N.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:N.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:N.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(w.AT);const n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:N.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(w.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(S,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new _(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw m(this._lexer.source,t.start,`Expected ${he(e)}, found ${de(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==w.NAME||t.value!==e)throw m(this._lexer.source,t.start,`Expected "${e}", found ${de(t)}.`);this.advanceLexer()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===w.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){const t=null!==e&&void 0!==e?e:this._lexer.token;return m(this._lexer.source,t.start,`Unexpected ${de(t)}.`)}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(void 0!==e&&t.kind!==w.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw m(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function de(e){const t=e.value;return he(e.kind)+(null!=t?` "${t}"`:"")}function he(e){return F(e)?`"${e}"`:e}function ve(e,t){const[n,r]=t?[e,t]:[void 0,e];let i=" Did you mean ";n&&(i+=n+" ");const o=r.map((e=>`"${e}"`));switch(o.length){case 0:return"";case 1:return i+o[0]+"?";case 2:return i+o[0]+" or "+o[1]+"?"}const a=o.slice(0,5),s=a.pop();return i+a.join(", ")+", or "+s+"?"}function ye(e){return e}function ge(e,t){const n=Object.create(null);for(const r of e)n[t(r)]=r;return n}function me(e,t,n){const r=Object.create(null);for(const i of e)r[t(i)]=n(i);return r}function _e(e,t){const n=Object.create(null);for(const r of Object.keys(e))n[r]=t(e[r],r);return n}function Ee(e,t){let n=0,r=0;for(;n<e.length&&r<t.length;){let i=e.charCodeAt(n),o=t.charCodeAt(r);if(be(i)&&be(o)){let a=0;do{++n,a=10*a+i-Te,i=e.charCodeAt(n)}while(be(i)&&a>0);let s=0;do{++r,s=10*s+o-Te,o=t.charCodeAt(r)}while(be(o)&&s>0);if(a<s)return-1;if(a>s)return 1}else{if(i<o)return-1;if(i>o)return 1;++n,++r}}return e.length-t.length}const Te=48;function be(e){return!isNaN(e)&&Te<=e&&e<=57}function Ie(e,t){const n=Object.create(null),r=new Oe(e),i=Math.floor(.4*e.length)+1;for(const o of t){const e=r.measure(o,i);void 0!==e&&(n[o]=e)}return Object.keys(n).sort(((e,t)=>{const r=n[e]-n[t];return 0!==r?r:Ee(e,t)}))}class Oe{constructor(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=Se(this._inputLowerCase),this._rows=[new Array(e.length+1).fill(0),new Array(e.length+1).fill(0),new Array(e.length+1).fill(0)]}measure(e,t){if(this._input===e)return 0;const n=e.toLowerCase();if(this._inputLowerCase===n)return 1;let r=Se(n),i=this._inputArray;if(r.length<i.length){const e=r;r=i,i=e}const o=r.length,a=i.length;if(o-a>t)return;const s=this._rows;for(let c=0;c<=a;c++)s[0][c]=c;for(let c=1;c<=o;c++){const e=s[(c-1)%3],n=s[c%3];let o=n[0]=c;for(let t=1;t<=a;t++){const a=r[c-1]===i[t-1]?0:1;let u=Math.min(e[t]+1,n[t-1]+1,e[t-1]+a);if(c>1&&t>1&&r[c-1]===i[t-2]&&r[c-2]===i[t-1]){const e=s[(c-2)%3][t-2];u=Math.min(u,e+1)}u<o&&(o=u),n[t]=u}if(o>t)return}const u=s[o%3][a];return u<=t?u:void 0}}function Se(e){const t=e.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return n}function Ne(e){if(null==e)return Object.create(null);if(null===Object.getPrototypeOf(e))return e;const t=Object.create(null);for(const[n,r]of Object.entries(e))t[n]=r;return t}const we=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Re(e){return Ae[e.charCodeAt(0)]}const Ae=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],De=Object.freeze({});function ke(e,t,n=T){const r=new Map;for(const o of Object.values(N))r.set(o,Ue(t,o));let i,a,s,u=Array.isArray(e),c=[e],l=-1,p=[],f=e;const d=[],h=[];do{l++;const e=l===c.length,m=e&&0!==p.length;if(e){if(a=0===h.length?void 0:d[d.length-1],f=s,s=h.pop(),m)if(u){f=f.slice();let e=0;for(const[t,n]of p){const r=t-e;null===n?(f.splice(r,1),e++):f[r]=n}}else{f=Object.defineProperties({},Object.getOwnPropertyDescriptors(f));for(const[e,t]of p)f[e]=t}l=i.index,c=i.keys,p=i.edits,u=i.inArray,i=i.prev}else if(s){if(a=u?l:c[l],f=s[a],null===f||void 0===f)continue;d.push(a)}let _;if(!Array.isArray(f)){var v,y;I(f)||o(!1,`Invalid AST Node: ${re(f)}.`);const n=e?null===(v=r.get(f.kind))||void 0===v?void 0:v.leave:null===(y=r.get(f.kind))||void 0===y?void 0:y.enter;if(_=null===n||void 0===n?void 0:n.call(t,f,a,s,d,h),_===De)break;if(!1===_){if(!e){d.pop();continue}}else if(void 0!==_&&(p.push([a,_]),!e)){if(!I(_)){d.pop();continue}f=_}}var g;if(void 0===_&&m&&p.push([a,f]),e)d.pop();else i={inArray:u,index:l,keys:c,edits:p,prev:i},u=Array.isArray(f),c=u?f:null!==(g=n[f.kind])&&void 0!==g?g:[],l=-1,p=[],s&&h.push(s),s=f}while(void 0!==i);return 0!==p.length?p[p.length-1][1]:e}function Ce(e){const t=new Array(e.length).fill(null),n=Object.create(null);for(const r of Object.values(N)){let i=!1;const o=new Array(e.length).fill(void 0),a=new Array(e.length).fill(void 0);for(let t=0;t<e.length;++t){const{enter:n,leave:s}=Ue(e[t],r);i||(i=null!=n||null!=s),o[t]=n,a[t]=s}if(!i)continue;const s={enter(...n){const r=n[0];for(let a=0;a<e.length;a++)if(null===t[a]){var i;const s=null===(i=o[a])||void 0===i?void 0:i.apply(e[a],n);if(!1===s)t[a]=r;else if(s===De)t[a]=De;else if(void 0!==s)return s}},leave(...n){const r=n[0];for(let o=0;o<e.length;o++)if(null===t[o]){var i;const r=null===(i=a[o])||void 0===i?void 0:i.apply(e[o],n);if(r===De)t[o]=De;else if(void 0!==r&&!1!==r)return r}else t[o]===r&&(t[o]=null)}};n[r]=s}return n}function Ue(e,t){const n=e[t];return"object"===typeof n?n:"function"===typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function xe(e,t,n){const{enter:r,leave:i}=Ue(e,t);return n?i:r}function Le(e){return ke(e,Pe)}const Pe={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Me(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=je("(",Me(e.variableDefinitions,", "),")"),n=Me([e.operation,Me([e.name,t]),Me(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+je(" = ",n)+je(" ",Me(r," "))},SelectionSet:{leave:({selections:e})=>Fe(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=je("",e,": ")+t;let a=o+je("(",Me(n,", "),")");return a.length>80&&(a=o+je("(\n",Ve(Me(n,"\n")),"\n)")),Me([a,Me(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+je(" ",Me(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>Me(["...",je("on ",e),Me(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${je("(",Me(n,", "),")")} on ${t} ${je("",Me(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?P(e):`"${e.replace(we,Re)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Me(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Me(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+je("(",Me(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>je("",e,"\n")+Me(["schema",Me(t," "),Fe(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>je("",e,"\n")+Me(["scalar",t,Me(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>je("",e,"\n")+Me(["type",t,je("implements ",Me(n," & ")),Me(r," "),Fe(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>je("",e,"\n")+t+(Be(n)?je("(\n",Ve(Me(n,"\n")),"\n)"):je("(",Me(n,", "),")"))+": "+r+je(" ",Me(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>je("",e,"\n")+Me([t+": "+n,je("= ",r),Me(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>je("",e,"\n")+Me(["interface",t,je("implements ",Me(n," & ")),Me(r," "),Fe(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>je("",e,"\n")+Me(["union",t,Me(n," "),je("= ",Me(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>je("",e,"\n")+Me(["enum",t,Me(n," "),Fe(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>je("",e,"\n")+Me([t,Me(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>je("",e,"\n")+Me(["input",t,Me(n," "),Fe(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>je("",e,"\n")+"directive @"+t+(Be(n)?je("(\n",Ve(Me(n,"\n")),"\n)"):je("(",Me(n,", "),")"))+(r?" repeatable":"")+" on "+Me(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Me(["extend schema",Me(e," "),Fe(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Me(["extend scalar",e,Me(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Me(["extend type",e,je("implements ",Me(t," & ")),Me(n," "),Fe(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Me(["extend interface",e,je("implements ",Me(t," & ")),Me(n," "),Fe(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>Me(["extend union",e,Me(t," "),je("= ",Me(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>Me(["extend enum",e,Me(t," "),Fe(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>Me(["extend input",e,Me(t," "),Fe(n)]," ")}};function Me(e,t=""){var n;return null!==(n=null===e||void 0===e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function Fe(e){return je("{\n",Ve(Me(e,"\n")),"\n}")}function je(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function Ve(e){return je("  ",e.replace(/\n/g,"\n  "))}function Be(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}function $e(e,t){switch(e.kind){case N.NULL:return null;case N.INT:return parseInt(e.value,10);case N.FLOAT:return parseFloat(e.value);case N.STRING:case N.ENUM:case N.BOOLEAN:return e.value;case N.LIST:return e.values.map((e=>$e(e,t)));case N.OBJECT:return me(e.fields,(e=>e.name.value),(e=>$e(e.value,t)));case N.VARIABLE:return null===t||void 0===t?void 0:t[e.name.value]}}function Ge(e){if(null!=e||o(!1,"Must provide name."),"string"===typeof e||o(!1,"Expected name to be a string."),0===e.length)throw new h("Expected name to be a non-empty string.");for(let t=1;t<e.length;++t)if(!C(e.charCodeAt(t)))throw new h(`Names must only contain [_a-zA-Z0-9] but "${e}" does not.`);if(!k(e.charCodeAt(0)))throw new h(`Names must start with [_a-zA-Z] but "${e}" does not.`);return e}function qe(e){if("true"===e||"false"===e||"null"===e)throw new h(`Enum values cannot be named: ${e}`);return Ge(e)}function Ye(e){return Ke(e)||We(e)||Xe(e)||Qe(e)||tt(e)||rt(e)||ot(e)||st(e)}function He(e){if(!Ye(e))throw new Error(`Expected ${re(e)} to be a GraphQL type.`);return e}function Ke(e){return oe(e,kt)}function ze(e){if(!Ke(e))throw new Error(`Expected ${re(e)} to be a GraphQL Scalar type.`);return e}function We(e){return oe(e,Ct)}function Je(e){if(!We(e))throw new Error(`Expected ${re(e)} to be a GraphQL Object type.`);return e}function Xe(e){return oe(e,Vt)}function Ze(e){if(!Xe(e))throw new Error(`Expected ${re(e)} to be a GraphQL Interface type.`);return e}function Qe(e){return oe(e,Bt)}function et(e){if(!Qe(e))throw new Error(`Expected ${re(e)} to be a GraphQL Union type.`);return e}function tt(e){return oe(e,Gt)}function nt(e){if(!tt(e))throw new Error(`Expected ${re(e)} to be a GraphQL Enum type.`);return e}function rt(e){return oe(e,Yt)}function it(e){if(!rt(e))throw new Error(`Expected ${re(e)} to be a GraphQL Input Object type.`);return e}function ot(e){return oe(e,_t)}function at(e){if(!ot(e))throw new Error(`Expected ${re(e)} to be a GraphQL List type.`);return e}function st(e){return oe(e,Et)}function ut(e){if(!st(e))throw new Error(`Expected ${re(e)} to be a GraphQL Non-Null type.`);return e}function ct(e){return Ke(e)||tt(e)||rt(e)||Tt(e)&&ct(e.ofType)}function lt(e){if(!ct(e))throw new Error(`Expected ${re(e)} to be a GraphQL input type.`);return e}function pt(e){return Ke(e)||We(e)||Xe(e)||Qe(e)||tt(e)||Tt(e)&&pt(e.ofType)}function ft(e){if(!pt(e))throw new Error(`Expected ${re(e)} to be a GraphQL output type.`);return e}function dt(e){return Ke(e)||tt(e)}function ht(e){if(!dt(e))throw new Error(`Expected ${re(e)} to be a GraphQL leaf type.`);return e}function vt(e){return We(e)||Xe(e)||Qe(e)}function yt(e){if(!vt(e))throw new Error(`Expected ${re(e)} to be a GraphQL composite type.`);return e}function gt(e){return Xe(e)||Qe(e)}function mt(e){if(!gt(e))throw new Error(`Expected ${re(e)} to be a GraphQL abstract type.`);return e}class _t{constructor(e){Ye(e)||o(!1,`Expected ${re(e)} to be a GraphQL type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class Et{constructor(e){It(e)||o(!1,`Expected ${re(e)} to be a GraphQL nullable type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function Tt(e){return ot(e)||st(e)}function bt(e){if(!Tt(e))throw new Error(`Expected ${re(e)} to be a GraphQL wrapping type.`);return e}function It(e){return Ye(e)&&!st(e)}function Ot(e){if(!It(e))throw new Error(`Expected ${re(e)} to be a GraphQL nullable type.`);return e}function St(e){if(e)return st(e)?e.ofType:e}function Nt(e){return Ke(e)||We(e)||Xe(e)||Qe(e)||tt(e)||rt(e)}function wt(e){if(!Nt(e))throw new Error(`Expected ${re(e)} to be a GraphQL named type.`);return e}function Rt(e){if(e){let t=e;for(;Tt(t);)t=t.ofType;return t}}function At(e){return"function"===typeof e?e():e}function Dt(e){return"function"===typeof e?e():e}class kt{constructor(e){var t,n,r,i;const a=null!==(t=e.parseValue)&&void 0!==t?t:ye;this.name=Ge(e.name),this.description=e.description,this.specifiedByURL=e.specifiedByURL,this.serialize=null!==(n=e.serialize)&&void 0!==n?n:ye,this.parseValue=a,this.parseLiteral=null!==(r=e.parseLiteral)&&void 0!==r?r:(e,t)=>a($e(e,t)),this.extensions=Ne(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(i=e.extensionASTNodes)&&void 0!==i?i:[],null==e.specifiedByURL||"string"===typeof e.specifiedByURL||o(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${re(e.specifiedByURL)}.`),null==e.serialize||"function"===typeof e.serialize||o(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),e.parseLiteral&&("function"===typeof e.parseValue&&"function"===typeof e.parseLiteral||o(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class Ct{constructor(e){var t;this.name=Ge(e.name),this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=Ne(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=()=>xt(e),this._interfaces=()=>Ut(e),null==e.isTypeOf||"function"===typeof e.isTypeOf||o(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${re(e.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields}getInterfaces(){return"function"===typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:Mt(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function Ut(e){var t;const n=At(null!==(t=e.interfaces)&&void 0!==t?t:[]);return Array.isArray(n)||o(!1,`${e.name} interfaces must be an Array or a function which returns an Array.`),n}function xt(e){const t=Dt(e.fields);return Pt(t)||o(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),_e(t,((t,n)=>{var r;Pt(t)||o(!1,`${e.name}.${n} field config must be an object.`),null==t.resolve||"function"===typeof t.resolve||o(!1,`${e.name}.${n} field resolver must be a function if provided, but got: ${re(t.resolve)}.`);const i=null!==(r=t.args)&&void 0!==r?r:{};return Pt(i)||o(!1,`${e.name}.${n} args must be an object with argument names as keys.`),{name:Ge(n),description:t.description,type:t.type,args:Lt(i),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:Ne(t.extensions),astNode:t.astNode}}))}function Lt(e){return Object.entries(e).map((([e,t])=>({name:Ge(e),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:Ne(t.extensions),astNode:t.astNode})))}function Pt(e){return s(e)&&!Array.isArray(e)}function Mt(e){return _e(e,(e=>({description:e.description,type:e.type,args:Ft(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})))}function Ft(e){return me(e,(e=>e.name),(e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})))}function jt(e){return st(e.type)&&void 0===e.defaultValue}class Vt{constructor(e){var t;this.name=Ge(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=Ne(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=xt.bind(void 0,e),this._interfaces=Ut.bind(void 0,e),null==e.resolveType||"function"===typeof e.resolveType||o(!1,`${this.name} must provide "resolveType" as a function, but got: ${re(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields}getInterfaces(){return"function"===typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:Mt(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class Bt{constructor(e){var t;this.name=Ge(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=Ne(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._types=$t.bind(void 0,e),null==e.resolveType||"function"===typeof e.resolveType||o(!1,`${this.name} must provide "resolveType" as a function, but got: ${re(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return"function"===typeof this._types&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function $t(e){const t=At(e.types);return Array.isArray(t)||o(!1,`Must provide Array of types or a function which returns such an array for Union ${e.name}.`),t}class Gt{constructor(e){var t,n,r;this.name=Ge(e.name),this.description=e.description,this.extensions=Ne(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._values=(n=this.name,Pt(r=e.values)||o(!1,`${n} values must be an object with value names as keys.`),Object.entries(r).map((([e,t])=>(Pt(t)||o(!1,`${n}.${e} must refer to an object with a "value" key representing an internal value but got: ${re(t)}.`),{name:qe(e),description:t.description,value:void 0!==t.value?t.value:e,deprecationReason:t.deprecationReason,extensions:Ne(t.extensions),astNode:t.astNode})))),this._valueLookup=new Map(this._values.map((e=>[e.value,e]))),this._nameLookup=ge(this._values,(e=>e.name))}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return this._values}getValue(e){return this._nameLookup[e]}serialize(e){const t=this._valueLookup.get(e);if(void 0===t)throw new h(`Enum "${this.name}" cannot represent value: ${re(e)}`);return t.name}parseValue(e){if("string"!==typeof e){const t=re(e);throw new h(`Enum "${this.name}" cannot represent non-string value: ${t}.`+qt(this,t))}const t=this.getValue(e);if(null==t)throw new h(`Value "${e}" does not exist in "${this.name}" enum.`+qt(this,e));return t.value}parseLiteral(e,t){if(e.kind!==N.ENUM){const t=Le(e);throw new h(`Enum "${this.name}" cannot represent non-enum value: ${t}.`+qt(this,t),{nodes:e})}const n=this.getValue(e.value);if(null==n){const t=Le(e);throw new h(`Value "${t}" does not exist in "${this.name}" enum.`+qt(this,t),{nodes:e})}return n.value}toConfig(){const e=me(this.getValues(),(e=>e.name),(e=>({description:e.description,value:e.value,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function qt(e,t){return ve("the enum value",Ie(t,e.getValues().map((e=>e.name))))}class Yt{constructor(e){var t;this.name=Ge(e.name),this.description=e.description,this.extensions=Ne(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=Ht.bind(void 0,e)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields}toConfig(){const e=_e(this.getFields(),(e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function Ht(e){const t=Dt(e.fields);return Pt(t)||o(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),_e(t,((t,n)=>(!("resolve"in t)||o(!1,`${e.name}.${n} field has a resolve property, but Input Types cannot define resolvers.`),{name:Ge(n),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:Ne(t.extensions),astNode:t.astNode})))}function Kt(e){return st(e.type)&&void 0===e.defaultValue}function zt(e,t){return e===t||(st(e)&&st(t)||!(!ot(e)||!ot(t)))&&zt(e.ofType,t.ofType)}function Wt(e,t,n){return t===n||(st(n)?!!st(t)&&Wt(e,t.ofType,n.ofType):st(t)?Wt(e,t.ofType,n):ot(n)?!!ot(t)&&Wt(e,t.ofType,n.ofType):!ot(t)&&(gt(n)&&(Xe(t)||We(t))&&e.isSubType(n,t)))}function Jt(e,t,n){return t===n||(gt(t)?gt(n)?e.getPossibleTypes(t).some((t=>e.isSubType(n,t))):e.isSubType(t,n):!!gt(n)&&e.isSubType(n,t))}const Xt=2147483647,Zt=-2147483648,Qt=new kt({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(e){const t=sn(e);if("boolean"===typeof t)return t?1:0;let n=t;if("string"===typeof t&&""!==t&&(n=Number(t)),"number"!==typeof n||!Number.isInteger(n))throw new h(`Int cannot represent non-integer value: ${re(t)}`);if(n>Xt||n<Zt)throw new h("Int cannot represent non 32-bit signed integer value: "+re(t));return n},parseValue(e){if("number"!==typeof e||!Number.isInteger(e))throw new h(`Int cannot represent non-integer value: ${re(e)}`);if(e>Xt||e<Zt)throw new h(`Int cannot represent non 32-bit signed integer value: ${e}`);return e},parseLiteral(e){if(e.kind!==N.INT)throw new h(`Int cannot represent non-integer value: ${Le(e)}`,{nodes:e});const t=parseInt(e.value,10);if(t>Xt||t<Zt)throw new h(`Int cannot represent non 32-bit signed integer value: ${e.value}`,{nodes:e});return t}}),en=new kt({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(e){const t=sn(e);if("boolean"===typeof t)return t?1:0;let n=t;if("string"===typeof t&&""!==t&&(n=Number(t)),"number"!==typeof n||!Number.isFinite(n))throw new h(`Float cannot represent non numeric value: ${re(t)}`);return n},parseValue(e){if("number"!==typeof e||!Number.isFinite(e))throw new h(`Float cannot represent non numeric value: ${re(e)}`);return e},parseLiteral(e){if(e.kind!==N.FLOAT&&e.kind!==N.INT)throw new h(`Float cannot represent non numeric value: ${Le(e)}`,e);return parseFloat(e.value)}}),tn=new kt({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(e){const t=sn(e);if("string"===typeof t)return t;if("boolean"===typeof t)return t?"true":"false";if("number"===typeof t&&Number.isFinite(t))return t.toString();throw new h(`String cannot represent value: ${re(e)}`)},parseValue(e){if("string"!==typeof e)throw new h(`String cannot represent a non string value: ${re(e)}`);return e},parseLiteral(e){if(e.kind!==N.STRING)throw new h(`String cannot represent a non string value: ${Le(e)}`,{nodes:e});return e.value}}),nn=new kt({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(e){const t=sn(e);if("boolean"===typeof t)return t;if(Number.isFinite(t))return 0!==t;throw new h(`Boolean cannot represent a non boolean value: ${re(t)}`)},parseValue(e){if("boolean"!==typeof e)throw new h(`Boolean cannot represent a non boolean value: ${re(e)}`);return e},parseLiteral(e){if(e.kind!==N.BOOLEAN)throw new h(`Boolean cannot represent a non boolean value: ${Le(e)}`,{nodes:e});return e.value}}),rn=new kt({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(e){const t=sn(e);if("string"===typeof t)return t;if(Number.isInteger(t))return String(t);throw new h(`ID cannot represent value: ${re(e)}`)},parseValue(e){if("string"===typeof e)return e;if("number"===typeof e&&Number.isInteger(e))return e.toString();throw new h(`ID cannot represent value: ${re(e)}`)},parseLiteral(e){if(e.kind!==N.STRING&&e.kind!==N.INT)throw new h("ID cannot represent a non-string and non-integer value: "+Le(e),{nodes:e});return e.value}}),on=Object.freeze([tn,Qt,en,nn,rn]);function an(e){return on.some((({name:t})=>e.name===t))}function sn(e){if(s(e)){if("function"===typeof e.valueOf){const t=e.valueOf();if(!s(t))return t}if("function"===typeof e.toJSON)return e.toJSON()}return e}function un(e){return oe(e,ln)}function cn(e){if(!un(e))throw new Error(`Expected ${re(e)} to be a GraphQL directive.`);return e}class ln{constructor(e){var t,n;this.name=Ge(e.name),this.description=e.description,this.locations=e.locations,this.isRepeatable=null!==(t=e.isRepeatable)&&void 0!==t&&t,this.extensions=Ne(e.extensions),this.astNode=e.astNode,Array.isArray(e.locations)||o(!1,`@${e.name} locations must be an Array.`);const r=null!==(n=e.args)&&void 0!==n?n:{};s(r)&&!Array.isArray(r)||o(!1,`@${e.name} args must be an object with argument names as keys.`),this.args=Lt(r)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:Ft(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}const pn=new ln({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[S.FIELD,S.FRAGMENT_SPREAD,S.INLINE_FRAGMENT],args:{if:{type:new Et(nn),description:"Included when true."}}}),fn=new ln({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[S.FIELD,S.FRAGMENT_SPREAD,S.INLINE_FRAGMENT],args:{if:{type:new Et(nn),description:"Skipped when true."}}}),dn="No longer supported",hn=new ln({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[S.FIELD_DEFINITION,S.ARGUMENT_DEFINITION,S.INPUT_FIELD_DEFINITION,S.ENUM_VALUE],args:{reason:{type:tn,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:dn}}}),vn=new ln({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[S.SCALAR],args:{url:{type:new Et(tn),description:"The URL that specifies the behavior of this scalar."}}}),yn=Object.freeze([pn,fn,hn,vn]);function gn(e){return yn.some((({name:t})=>t===e.name))}function mn(e){return"object"===typeof e&&"function"===typeof(null===e||void 0===e?void 0:e[Symbol.iterator])}function _n(e,t){if(st(t)){const n=_n(e,t.ofType);return(null===n||void 0===n?void 0:n.kind)===N.NULL?null:n}if(null===e)return{kind:N.NULL};if(void 0===e)return null;if(ot(t)){const n=t.ofType;if(mn(e)){const t=[];for(const r of e){const e=_n(r,n);null!=e&&t.push(e)}return{kind:N.LIST,values:t}}return _n(e,n)}if(rt(t)){if(!s(e))return null;const n=[];for(const r of Object.values(t.getFields())){const t=_n(e[r.name],r.type);t&&n.push({kind:N.OBJECT_FIELD,name:{kind:N.NAME,value:r.name},value:t})}return{kind:N.OBJECT,fields:n}}if(dt(t)){const n=t.serialize(e);if(null==n)return null;if("boolean"===typeof n)return{kind:N.BOOLEAN,value:n};if("number"===typeof n&&Number.isFinite(n)){const e=String(n);return En.test(e)?{kind:N.INT,value:e}:{kind:N.FLOAT,value:e}}if("string"===typeof n)return tt(t)?{kind:N.ENUM,value:n}:t===rn&&En.test(n)?{kind:N.INT,value:n}:{kind:N.STRING,value:n};throw new TypeError(`Cannot convert value to AST: ${re(n)}.`)}u(!1,"Unexpected input type: "+re(t))}const En=/^-?(?:0|[1-9][0-9]*)$/,Tn=new Ct({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:tn,resolve:e=>e.description},types:{description:"A list of all types supported by this server.",type:new Et(new _t(new Et(On))),resolve:e=>Object.values(e.getTypeMap())},queryType:{description:"The type that query operations will be rooted at.",type:new Et(On),resolve:e=>e.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:On,resolve:e=>e.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:On,resolve:e=>e.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new Et(new _t(new Et(bn))),resolve:e=>e.getDirectives()}})}),bn=new Ct({name:"__Directive",description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:()=>({name:{type:new Et(tn),resolve:e=>e.name},description:{type:tn,resolve:e=>e.description},isRepeatable:{type:new Et(nn),resolve:e=>e.isRepeatable},locations:{type:new Et(new _t(new Et(In))),resolve:e=>e.locations},args:{type:new Et(new _t(new Et(Nn))),args:{includeDeprecated:{type:nn,defaultValue:!1}},resolve:(e,{includeDeprecated:t})=>t?e.args:e.args.filter((e=>null==e.deprecationReason))}})}),In=new Gt({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:S.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:S.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:S.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:S.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:S.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:S.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:S.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:S.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:S.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:S.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:S.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:S.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:S.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:S.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:S.UNION,description:"Location adjacent to a union definition."},ENUM:{value:S.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:S.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:S.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:S.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),On=new Ct({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new Et(An),resolve:e=>Ke(e)?Rn.SCALAR:We(e)?Rn.OBJECT:Xe(e)?Rn.INTERFACE:Qe(e)?Rn.UNION:tt(e)?Rn.ENUM:rt(e)?Rn.INPUT_OBJECT:ot(e)?Rn.LIST:st(e)?Rn.NON_NULL:void u(!1,`Unexpected type: "${re(e)}".`)},name:{type:tn,resolve:e=>"name"in e?e.name:void 0},description:{type:tn,resolve:e=>"description"in e?e.description:void 0},specifiedByURL:{type:tn,resolve:e=>"specifiedByURL"in e?e.specifiedByURL:void 0},fields:{type:new _t(new Et(Sn)),args:{includeDeprecated:{type:nn,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(We(e)||Xe(e)){const n=Object.values(e.getFields());return t?n:n.filter((e=>null==e.deprecationReason))}}},interfaces:{type:new _t(new Et(On)),resolve(e){if(We(e)||Xe(e))return e.getInterfaces()}},possibleTypes:{type:new _t(new Et(On)),resolve(e,t,n,{schema:r}){if(gt(e))return r.getPossibleTypes(e)}},enumValues:{type:new _t(new Et(wn)),args:{includeDeprecated:{type:nn,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(tt(e)){const n=e.getValues();return t?n:n.filter((e=>null==e.deprecationReason))}}},inputFields:{type:new _t(new Et(Nn)),args:{includeDeprecated:{type:nn,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(rt(e)){const n=Object.values(e.getFields());return t?n:n.filter((e=>null==e.deprecationReason))}}},ofType:{type:On,resolve:e=>"ofType"in e?e.ofType:void 0}})}),Sn=new Ct({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new Et(tn),resolve:e=>e.name},description:{type:tn,resolve:e=>e.description},args:{type:new Et(new _t(new Et(Nn))),args:{includeDeprecated:{type:nn,defaultValue:!1}},resolve:(e,{includeDeprecated:t})=>t?e.args:e.args.filter((e=>null==e.deprecationReason))},type:{type:new Et(On),resolve:e=>e.type},isDeprecated:{type:new Et(nn),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:tn,resolve:e=>e.deprecationReason}})}),Nn=new Ct({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new Et(tn),resolve:e=>e.name},description:{type:tn,resolve:e=>e.description},type:{type:new Et(On),resolve:e=>e.type},defaultValue:{type:tn,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(e){const{type:t,defaultValue:n}=e,r=_n(n,t);return r?Le(r):null}},isDeprecated:{type:new Et(nn),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:tn,resolve:e=>e.deprecationReason}})}),wn=new Ct({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new Et(tn),resolve:e=>e.name},description:{type:tn,resolve:e=>e.description},isDeprecated:{type:new Et(nn),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:tn,resolve:e=>e.deprecationReason}})});var Rn;!function(e){e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.INPUT_OBJECT="INPUT_OBJECT",e.LIST="LIST",e.NON_NULL="NON_NULL"}(Rn||(Rn={}));const An=new Gt({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:Rn.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:Rn.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:Rn.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:Rn.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:Rn.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:Rn.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:Rn.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:Rn.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),Dn={name:"__schema",type:new Et(Tn),description:"Access the current type schema of this server.",args:[],resolve:(e,t,n,{schema:r})=>r,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},kn={name:"__type",type:On,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new Et(tn),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(e,{name:t},n,{schema:r})=>r.getType(t),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},Cn={name:"__typename",type:new Et(tn),description:"The name of the current Object type at runtime.",args:[],resolve:(e,t,n,{parentType:r})=>r.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},Un=Object.freeze([Tn,bn,In,On,Sn,Nn,wn,An]);function xn(e){return Un.some((({name:t})=>e.name===t))}function Ln(e){return oe(e,Mn)}function Pn(e){if(!Ln(e))throw new Error(`Expected ${re(e)} to be a GraphQL schema.`);return e}class Mn{constructor(e){var t,n;this.__validationErrors=!0===e.assumeValid?[]:void 0,s(e)||o(!1,"Must provide configuration object."),!e.types||Array.isArray(e.types)||o(!1,`"types" must be Array if provided but got: ${re(e.types)}.`),!e.directives||Array.isArray(e.directives)||o(!1,`"directives" must be Array if provided but got: ${re(e.directives)}.`),this.description=e.description,this.extensions=Ne(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=null!==(n=e.directives)&&void 0!==n?n:yn;const r=new Set(e.types);if(null!=e.types)for(const i of e.types)r.delete(i),Fn(i,r);null!=this._queryType&&Fn(this._queryType,r),null!=this._mutationType&&Fn(this._mutationType,r),null!=this._subscriptionType&&Fn(this._subscriptionType,r);for(const i of this._directives)if(un(i))for(const e of i.args)Fn(e.type,r);Fn(Tn,r),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(const i of r){if(null==i)continue;const e=i.name;if(e||o(!1,"One of the provided types for building the Schema is missing a name."),void 0!==this._typeMap[e])throw new Error(`Schema must contain uniquely named types but contains multiple types named "${e}".`);if(this._typeMap[e]=i,Xe(i)){for(const t of i.getInterfaces())if(Xe(t)){let e=this._implementationsMap[t.name];void 0===e&&(e=this._implementationsMap[t.name]={objects:[],interfaces:[]}),e.interfaces.push(i)}}else if(We(i))for(const t of i.getInterfaces())if(Xe(t)){let e=this._implementationsMap[t.name];void 0===e&&(e=this._implementationsMap[t.name]={objects:[],interfaces:[]}),e.objects.push(i)}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(e){switch(e){case O.QUERY:return this.getQueryType();case O.MUTATION:return this.getMutationType();case O.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(e){return this.getTypeMap()[e]}getPossibleTypes(e){return Qe(e)?e.getTypes():this.getImplementations(e).objects}getImplementations(e){const t=this._implementationsMap[e.name];return null!==t&&void 0!==t?t:{objects:[],interfaces:[]}}isSubType(e,t){let n=this._subTypeMap[e.name];if(void 0===n){if(n=Object.create(null),Qe(e))for(const t of e.getTypes())n[t.name]=!0;else{const t=this.getImplementations(e);for(const e of t.objects)n[e.name]=!0;for(const e of t.interfaces)n[e.name]=!0}this._subTypeMap[e.name]=n}return void 0!==n[t.name]}getDirectives(){return this._directives}getDirective(e){return this.getDirectives().find((t=>t.name===e))}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:void 0!==this.__validationErrors}}}function Fn(e,t){const n=Rt(e);if(!t.has(n))if(t.add(n),Qe(n))for(const r of n.getTypes())Fn(r,t);else if(We(n)||Xe(n)){for(const e of n.getInterfaces())Fn(e,t);for(const e of Object.values(n.getFields())){Fn(e.type,t);for(const n of e.args)Fn(n.type,t)}}else if(rt(n))for(const r of Object.values(n.getFields()))Fn(r.type,t);return t}function jn(e){if(Pn(e),e.__validationErrors)return e.__validationErrors;const t=new Bn(e);!function(e){const t=e.schema,n=t.getQueryType();if(n){if(!We(n)){var r;e.reportError(`Query root type must be Object type, it cannot be ${re(n)}.`,null!==(r=$n(t,O.QUERY))&&void 0!==r?r:n.astNode)}}else e.reportError("Query root type must be provided.",t.astNode);const i=t.getMutationType();var o;i&&!We(i)&&e.reportError(`Mutation root type must be Object type if provided, it cannot be ${re(i)}.`,null!==(o=$n(t,O.MUTATION))&&void 0!==o?o:i.astNode);const a=t.getSubscriptionType();var s;a&&!We(a)&&e.reportError(`Subscription root type must be Object type if provided, it cannot be ${re(a)}.`,null!==(s=$n(t,O.SUBSCRIPTION))&&void 0!==s?s:a.astNode)}(t),function(e){for(const n of e.schema.getDirectives())if(un(n)){Gn(e,n);for(const r of n.args){var t;if(Gn(e,r),ct(r.type)||e.reportError(`The type of @${n.name}(${r.name}:) must be Input Type but got: ${re(r.type)}.`,r.astNode),jt(r)&&null!=r.deprecationReason)e.reportError(`Required argument @${n.name}(${r.name}:) cannot be deprecated.`,[Qn(r.astNode),null===(t=r.astNode)||void 0===t?void 0:t.type])}}else e.reportError(`Expected directive but got: ${re(n)}.`,null===n||void 0===n?void 0:n.astNode)}(t),function(e){const t=function(e){const t=Object.create(null),n=[],r=Object.create(null);return i;function i(o){if(t[o.name])return;t[o.name]=!0,r[o.name]=n.length;const a=Object.values(o.getFields());for(const t of a)if(st(t.type)&&rt(t.type.ofType)){const o=t.type.ofType,a=r[o.name];if(n.push(t),void 0===a)i(o);else{const t=n.slice(a),r=t.map((e=>e.name)).join(".");e.reportError(`Cannot reference Input Object "${o.name}" within itself through a series of non-null fields: "${r}".`,t.map((e=>e.astNode)))}n.pop()}r[o.name]=void 0}}(e),n=e.schema.getTypeMap();for(const r of Object.values(n))Nt(r)?(xn(r)||Gn(e,r),We(r)||Xe(r)?(qn(e,r),Yn(e,r)):Qe(r)?zn(e,r):tt(r)?Wn(e,r):rt(r)&&(Jn(e,r),t(r))):e.reportError(`Expected GraphQL named type but got: ${re(r)}.`,r.astNode)}(t);const n=t.getErrors();return e.__validationErrors=n,n}function Vn(e){const t=jn(e);if(0!==t.length)throw new Error(t.map((e=>e.message)).join("\n\n"))}class Bn{constructor(e){this._errors=[],this.schema=e}reportError(e,t){const n=Array.isArray(t)?t.filter(Boolean):t;this._errors.push(new h(e,{nodes:n}))}getErrors(){return this._errors}}function $n(e,t){var n;return null===(n=[e.astNode,...e.extensionASTNodes].flatMap((e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.operationTypes)&&void 0!==t?t:[]})).find((e=>e.operation===t)))||void 0===n?void 0:n.type}function Gn(e,t){t.name.startsWith("__")&&e.reportError(`Name "${t.name}" must not begin with "__", which is reserved by GraphQL introspection.`,t.astNode)}function qn(e,t){const n=Object.values(t.getFields());0===n.length&&e.reportError(`Type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const a of n){var r;if(Gn(e,a),!pt(a.type))e.reportError(`The type of ${t.name}.${a.name} must be Output Type but got: ${re(a.type)}.`,null===(r=a.astNode)||void 0===r?void 0:r.type);for(const n of a.args){const r=n.name;var i,o;if(Gn(e,n),!ct(n.type))e.reportError(`The type of ${t.name}.${a.name}(${r}:) must be Input Type but got: ${re(n.type)}.`,null===(i=n.astNode)||void 0===i?void 0:i.type);if(jt(n)&&null!=n.deprecationReason)e.reportError(`Required argument ${t.name}.${a.name}(${r}:) cannot be deprecated.`,[Qn(n.astNode),null===(o=n.astNode)||void 0===o?void 0:o.type])}}}function Yn(e,t){const n=Object.create(null);for(const r of t.getInterfaces())Xe(r)?t!==r?n[r.name]?e.reportError(`Type ${t.name} can only implement ${r.name} once.`,Xn(t,r)):(n[r.name]=!0,Kn(e,t,r),Hn(e,t,r)):e.reportError(`Type ${t.name} cannot implement itself because it would create a circular reference.`,Xn(t,r)):e.reportError(`Type ${re(t)} must only implement Interface types, it cannot implement ${re(r)}.`,Xn(t,r))}function Hn(e,t,n){const r=t.getFields();for(const u of Object.values(n.getFields())){const c=u.name,l=r[c];if(l){var i,o;if(!Wt(e.schema,l.type,u.type))e.reportError(`Interface field ${n.name}.${c} expects type ${re(u.type)} but ${t.name}.${c} is type ${re(l.type)}.`,[null===(i=u.astNode)||void 0===i?void 0:i.type,null===(o=l.astNode)||void 0===o?void 0:o.type]);for(const r of u.args){const i=r.name,o=l.args.find((e=>e.name===i));var a,s;if(o){if(!zt(r.type,o.type))e.reportError(`Interface field argument ${n.name}.${c}(${i}:) expects type ${re(r.type)} but ${t.name}.${c}(${i}:) is type ${re(o.type)}.`,[null===(a=r.astNode)||void 0===a?void 0:a.type,null===(s=o.astNode)||void 0===s?void 0:s.type])}else e.reportError(`Interface field argument ${n.name}.${c}(${i}:) expected but ${t.name}.${c} does not provide it.`,[r.astNode,l.astNode])}for(const r of l.args){const i=r.name;!u.args.find((e=>e.name===i))&&jt(r)&&e.reportError(`Object field ${t.name}.${c} includes required argument ${i} that is missing from the Interface field ${n.name}.${c}.`,[r.astNode,u.astNode])}}else e.reportError(`Interface field ${n.name}.${c} expected but ${t.name} does not provide it.`,[u.astNode,t.astNode,...t.extensionASTNodes])}}function Kn(e,t,n){const r=t.getInterfaces();for(const i of n.getInterfaces())r.includes(i)||e.reportError(i===t?`Type ${t.name} cannot implement ${n.name} because it would create a circular reference.`:`Type ${t.name} must implement ${i.name} because it is implemented by ${n.name}.`,[...Xn(n,i),...Xn(t,n)])}function zn(e,t){const n=t.getTypes();0===n.length&&e.reportError(`Union type ${t.name} must define one or more member types.`,[t.astNode,...t.extensionASTNodes]);const r=Object.create(null);for(const i of n)r[i.name]?e.reportError(`Union type ${t.name} can only include type ${i.name} once.`,Zn(t,i.name)):(r[i.name]=!0,We(i)||e.reportError(`Union type ${t.name} can only include Object types, it cannot include ${re(i)}.`,Zn(t,String(i))))}function Wn(e,t){const n=t.getValues();0===n.length&&e.reportError(`Enum type ${t.name} must define one or more values.`,[t.astNode,...t.extensionASTNodes]);for(const r of n)Gn(e,r)}function Jn(e,t){const n=Object.values(t.getFields());0===n.length&&e.reportError(`Input Object type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const o of n){var r,i;if(Gn(e,o),!ct(o.type))e.reportError(`The type of ${t.name}.${o.name} must be Input Type but got: ${re(o.type)}.`,null===(r=o.astNode)||void 0===r?void 0:r.type);if(Kt(o)&&null!=o.deprecationReason)e.reportError(`Required input field ${t.name}.${o.name} cannot be deprecated.`,[Qn(o.astNode),null===(i=o.astNode)||void 0===i?void 0:i.type])}}function Xn(e,t){const{astNode:n,extensionASTNodes:r}=e;return(null!=n?[n,...r]:r).flatMap((e=>{var t;return null!==(t=e.interfaces)&&void 0!==t?t:[]})).filter((e=>e.name.value===t.name))}function Zn(e,t){const{astNode:n,extensionASTNodes:r}=e;return(null!=n?[n,...r]:r).flatMap((e=>{var t;return null!==(t=e.types)&&void 0!==t?t:[]})).filter((e=>e.name.value===t))}function Qn(e){var t;return null===e||void 0===e||null===(t=e.directives)||void 0===t?void 0:t.find((e=>e.name.value===hn.name))}function er(e,t){switch(t.kind){case N.LIST_TYPE:{const n=er(e,t.type);return n&&new _t(n)}case N.NON_NULL_TYPE:{const n=er(e,t.type);return n&&new Et(n)}case N.NAMED_TYPE:return e.getType(t.name.value)}}class tr{constructor(e,t,n){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=null!==n&&void 0!==n?n:nr,t&&(ct(t)&&this._inputTypeStack.push(t),vt(t)&&this._parentTypeStack.push(t),pt(t)&&this._typeStack.push(t))}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(e){const t=this._schema;switch(e.kind){case N.SELECTION_SET:{const e=Rt(this.getType());this._parentTypeStack.push(vt(e)?e:void 0);break}case N.FIELD:{const n=this.getParentType();let r,i;n&&(r=this._getFieldDef(t,n,e),r&&(i=r.type)),this._fieldDefStack.push(r),this._typeStack.push(pt(i)?i:void 0);break}case N.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case N.OPERATION_DEFINITION:{const n=t.getRootType(e.operation);this._typeStack.push(We(n)?n:void 0);break}case N.INLINE_FRAGMENT:case N.FRAGMENT_DEFINITION:{const n=e.typeCondition,r=n?er(t,n):Rt(this.getType());this._typeStack.push(pt(r)?r:void 0);break}case N.VARIABLE_DEFINITION:{const n=er(t,e.type);this._inputTypeStack.push(ct(n)?n:void 0);break}case N.ARGUMENT:{var n;let t,r;const i=null!==(n=this.getDirective())&&void 0!==n?n:this.getFieldDef();i&&(t=i.args.find((t=>t.name===e.name.value)),t&&(r=t.type)),this._argument=t,this._defaultValueStack.push(t?t.defaultValue:void 0),this._inputTypeStack.push(ct(r)?r:void 0);break}case N.LIST:{const e=St(this.getInputType()),t=ot(e)?e.ofType:e;this._defaultValueStack.push(void 0),this._inputTypeStack.push(ct(t)?t:void 0);break}case N.OBJECT_FIELD:{const t=Rt(this.getInputType());let n,r;rt(t)&&(r=t.getFields()[e.name.value],r&&(n=r.type)),this._defaultValueStack.push(r?r.defaultValue:void 0),this._inputTypeStack.push(ct(n)?n:void 0);break}case N.ENUM:{const t=Rt(this.getInputType());let n;tt(t)&&(n=t.getValue(e.value)),this._enumValue=n;break}}}leave(e){switch(e.kind){case N.SELECTION_SET:this._parentTypeStack.pop();break;case N.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case N.DIRECTIVE:this._directive=null;break;case N.OPERATION_DEFINITION:case N.INLINE_FRAGMENT:case N.FRAGMENT_DEFINITION:this._typeStack.pop();break;case N.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case N.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case N.LIST:case N.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case N.ENUM:this._enumValue=null}}}function nr(e,t,n){const r=n.name.value;return r===Dn.name&&e.getQueryType()===t?Dn:r===kn.name&&e.getQueryType()===t?kn:r===Cn.name&&vt(t)?Cn:We(t)||Xe(t)?t.getFields()[r]:void 0}function rr(e,t){return{enter(...n){const r=n[0];e.enter(r);const i=Ue(t,r.kind).enter;if(i){const o=i.apply(t,n);return void 0!==o&&(e.leave(r),I(o)&&e.enter(o)),o}},leave(...n){const r=n[0],i=Ue(t,r.kind).leave;let o;return i&&(o=i.apply(t,n)),e.leave(r),o}}}function ir(e){return or(e)||lr(e)||fr(e)}function or(e){return e.kind===N.OPERATION_DEFINITION||e.kind===N.FRAGMENT_DEFINITION}function ar(e){return e.kind===N.FIELD||e.kind===N.FRAGMENT_SPREAD||e.kind===N.INLINE_FRAGMENT}function sr(e){return e.kind===N.VARIABLE||e.kind===N.INT||e.kind===N.FLOAT||e.kind===N.STRING||e.kind===N.BOOLEAN||e.kind===N.NULL||e.kind===N.ENUM||e.kind===N.LIST||e.kind===N.OBJECT}function ur(e){return sr(e)&&(e.kind===N.LIST?e.values.some(ur):e.kind===N.OBJECT?e.fields.some((e=>ur(e.value))):e.kind!==N.VARIABLE)}function cr(e){return e.kind===N.NAMED_TYPE||e.kind===N.LIST_TYPE||e.kind===N.NON_NULL_TYPE}function lr(e){return e.kind===N.SCHEMA_DEFINITION||pr(e)||e.kind===N.DIRECTIVE_DEFINITION}function pr(e){return e.kind===N.SCALAR_TYPE_DEFINITION||e.kind===N.OBJECT_TYPE_DEFINITION||e.kind===N.INTERFACE_TYPE_DEFINITION||e.kind===N.UNION_TYPE_DEFINITION||e.kind===N.ENUM_TYPE_DEFINITION||e.kind===N.INPUT_OBJECT_TYPE_DEFINITION}function fr(e){return e.kind===N.SCHEMA_EXTENSION||dr(e)}function dr(e){return e.kind===N.SCALAR_TYPE_EXTENSION||e.kind===N.OBJECT_TYPE_EXTENSION||e.kind===N.INTERFACE_TYPE_EXTENSION||e.kind===N.UNION_TYPE_EXTENSION||e.kind===N.ENUM_TYPE_EXTENSION||e.kind===N.INPUT_OBJECT_TYPE_EXTENSION}function hr(e){return{Document(t){for(const n of t.definitions)if(!or(n)){const t=n.kind===N.SCHEMA_DEFINITION||n.kind===N.SCHEMA_EXTENSION?"schema":'"'+n.name.value+'"';e.reportError(new h(`The ${t} definition is not executable.`,{nodes:n}))}return!1}}}function vr(e){return{Field(t){const n=e.getParentType();if(n){if(!e.getFieldDef()){const r=e.getSchema(),i=t.name.value;let o=ve("to use an inline fragment on",function(e,t,n){if(!gt(t))return[];const r=new Set,i=Object.create(null);for(const a of e.getPossibleTypes(t))if(a.getFields()[n]){r.add(a),i[a.name]=1;for(const e of a.getInterfaces()){var o;e.getFields()[n]&&(r.add(e),i[e.name]=(null!==(o=i[e.name])&&void 0!==o?o:0)+1)}}return[...r].sort(((t,n)=>{const r=i[n.name]-i[t.name];return 0!==r?r:Xe(t)&&e.isSubType(t,n)?-1:Xe(n)&&e.isSubType(n,t)?1:Ee(t.name,n.name)})).map((e=>e.name))}(r,n,i));""===o&&(o=ve(function(e,t){if(We(e)||Xe(e)){return Ie(t,Object.keys(e.getFields()))}return[]}(n,i))),e.reportError(new h(`Cannot query field "${i}" on type "${n.name}".`+o,{nodes:t}))}}}}}function yr(e){return{InlineFragment(t){const n=t.typeCondition;if(n){const t=er(e.getSchema(),n);if(t&&!vt(t)){const t=Le(n);e.reportError(new h(`Fragment cannot condition on non composite type "${t}".`,{nodes:n}))}}},FragmentDefinition(t){const n=er(e.getSchema(),t.typeCondition);if(n&&!vt(n)){const n=Le(t.typeCondition);e.reportError(new h(`Fragment "${t.name.value}" cannot condition on non composite type "${n}".`,{nodes:t.typeCondition}))}}}}function gr(e){return{...mr(e),Argument(t){const n=e.getArgument(),r=e.getFieldDef(),i=e.getParentType();if(!n&&r&&i){const n=t.name.value,o=Ie(n,r.args.map((e=>e.name)));e.reportError(new h(`Unknown argument "${n}" on field "${i.name}.${r.name}".`+ve(o),{nodes:t}))}}}}function mr(e){const t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():yn;for(const a of r)t[a.name]=a.args.map((e=>e.name));const i=e.getDocument().definitions;for(const a of i)if(a.kind===N.DIRECTIVE_DEFINITION){var o;const e=null!==(o=a.arguments)&&void 0!==o?o:[];t[a.name.value]=e.map((e=>e.name.value))}return{Directive(n){const r=n.name.value,i=t[r];if(n.arguments&&i)for(const t of n.arguments){const n=t.name.value;if(!i.includes(n)){const o=Ie(n,i);e.reportError(new h(`Unknown argument "${n}" on directive "@${r}".`+ve(o),{nodes:t}))}}return!1}}}function _r(e){const t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():yn;for(const o of r)t[o.name]=o.locations;const i=e.getDocument().definitions;for(const o of i)o.kind===N.DIRECTIVE_DEFINITION&&(t[o.name.value]=o.locations.map((e=>e.value)));return{Directive(n,r,i,o,a){const s=n.name.value,c=t[s];if(!c)return void e.reportError(new h(`Unknown directive "@${s}".`,{nodes:n}));const l=function(e){const t=e[e.length-1];switch("kind"in t||u(!1),t.kind){case N.OPERATION_DEFINITION:return function(e){switch(e){case O.QUERY:return S.QUERY;case O.MUTATION:return S.MUTATION;case O.SUBSCRIPTION:return S.SUBSCRIPTION}}(t.operation);case N.FIELD:return S.FIELD;case N.FRAGMENT_SPREAD:return S.FRAGMENT_SPREAD;case N.INLINE_FRAGMENT:return S.INLINE_FRAGMENT;case N.FRAGMENT_DEFINITION:return S.FRAGMENT_DEFINITION;case N.VARIABLE_DEFINITION:return S.VARIABLE_DEFINITION;case N.SCHEMA_DEFINITION:case N.SCHEMA_EXTENSION:return S.SCHEMA;case N.SCALAR_TYPE_DEFINITION:case N.SCALAR_TYPE_EXTENSION:return S.SCALAR;case N.OBJECT_TYPE_DEFINITION:case N.OBJECT_TYPE_EXTENSION:return S.OBJECT;case N.FIELD_DEFINITION:return S.FIELD_DEFINITION;case N.INTERFACE_TYPE_DEFINITION:case N.INTERFACE_TYPE_EXTENSION:return S.INTERFACE;case N.UNION_TYPE_DEFINITION:case N.UNION_TYPE_EXTENSION:return S.UNION;case N.ENUM_TYPE_DEFINITION:case N.ENUM_TYPE_EXTENSION:return S.ENUM;case N.ENUM_VALUE_DEFINITION:return S.ENUM_VALUE;case N.INPUT_OBJECT_TYPE_DEFINITION:case N.INPUT_OBJECT_TYPE_EXTENSION:return S.INPUT_OBJECT;case N.INPUT_VALUE_DEFINITION:{const t=e[e.length-3];return"kind"in t||u(!1),t.kind===N.INPUT_OBJECT_TYPE_DEFINITION?S.INPUT_FIELD_DEFINITION:S.ARGUMENT_DEFINITION}default:u(!1,"Unexpected kind: "+re(t.kind))}}(a);l&&!c.includes(l)&&e.reportError(new h(`Directive "@${s}" may not be used on ${l}.`,{nodes:n}))}}}function Er(e){return{FragmentSpread(t){const n=t.name.value;e.getFragment(n)||e.reportError(new h(`Unknown fragment "${n}".`,{nodes:t.name}))}}}function Tr(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);for(const o of e.getDocument().definitions)pr(o)&&(r[o.name.value]=!0);const i=[...Object.keys(n),...Object.keys(r)];return{NamedType(t,o,a,s,u){const c=t.name.value;if(!n[c]&&!r[c]){var l;const n=null!==(l=u[2])&&void 0!==l?l:a,r=null!=n&&("kind"in(p=n)&&(lr(p)||fr(p)));if(r&&br.includes(c))return;const o=Ie(c,r?br.concat(i):i);e.reportError(new h(`Unknown type "${c}".`+ve(o),{nodes:t}))}var p}}}const br=[...on,...Un].map((e=>e.name));function Ir(e){let t=0;return{Document(e){t=e.definitions.filter((e=>e.kind===N.OPERATION_DEFINITION)).length},OperationDefinition(n){!n.name&&t>1&&e.reportError(new h("This anonymous operation must be the only defined operation.",{nodes:n}))}}}function Or(e){var t,n,r;const i=e.getSchema(),o=null!==(t=null!==(n=null!==(r=null===i||void 0===i?void 0:i.astNode)&&void 0!==r?r:null===i||void 0===i?void 0:i.getQueryType())&&void 0!==n?n:null===i||void 0===i?void 0:i.getMutationType())&&void 0!==t?t:null===i||void 0===i?void 0:i.getSubscriptionType();let a=0;return{SchemaDefinition(t){o?e.reportError(new h("Cannot define a new schema within a schema extension.",{nodes:t})):(a>0&&e.reportError(new h("Must provide only one schema definition.",{nodes:t})),++a)}}}function Sr(e){const t=Object.create(null),n=[],r=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition:e=>(i(e),!1)};function i(o){if(t[o.name.value])return;const a=o.name.value;t[a]=!0;const s=e.getFragmentSpreads(o.selectionSet);if(0!==s.length){r[a]=n.length;for(const t of s){const o=t.name.value,a=r[o];if(n.push(t),void 0===a){const t=e.getFragment(o);t&&i(t)}else{const t=n.slice(a),r=t.slice(0,-1).map((e=>'"'+e.name.value+'"')).join(", ");e.reportError(new h(`Cannot spread fragment "${o}" within itself`+(""!==r?` via ${r}.`:"."),{nodes:t}))}n.pop()}r[a]=void 0}}}function Nr(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const r=e.getRecursiveVariableUsages(n);for(const{node:i}of r){const r=i.name.value;!0!==t[r]&&e.reportError(new h(n.name?`Variable "$${r}" is not defined by operation "${n.name.value}".`:`Variable "$${r}" is not defined.`,{nodes:[i,n]}))}}},VariableDefinition(e){t[e.variable.name.value]=!0}}}function wr(e){const t=[],n=[];return{OperationDefinition:e=>(t.push(e),!1),FragmentDefinition:e=>(n.push(e),!1),Document:{leave(){const r=Object.create(null);for(const n of t)for(const t of e.getRecursivelyReferencedFragments(n))r[t.name.value]=!0;for(const t of n){const n=t.name.value;!0!==r[n]&&e.reportError(new h(`Fragment "${n}" is never used.`,{nodes:t}))}}}}}function Rr(e){let t=[];return{OperationDefinition:{enter(){t=[]},leave(n){const r=Object.create(null),i=e.getRecursiveVariableUsages(n);for(const{node:e}of i)r[e.name.value]=!0;for(const o of t){const t=o.variable.name.value;!0!==r[t]&&e.reportError(new h(n.name?`Variable "$${t}" is never used in operation "${n.name.value}".`:`Variable "$${t}" is never used.`,{nodes:o}))}}},VariableDefinition(e){t.push(e)}}}function Ar(e){switch(e.kind){case N.OBJECT:return{...e,fields:(t=e.fields,t.map((e=>({...e,value:Ar(e.value)}))).sort(((e,t)=>Ee(e.name.value,t.name.value))))};case N.LIST:return{...e,values:e.values.map(Ar)};case N.INT:case N.FLOAT:case N.STRING:case N.BOOLEAN:case N.NULL:case N.ENUM:case N.VARIABLE:return e}var t}function Dr(e){return Array.isArray(e)?e.map((([e,t])=>`subfields "${e}" conflict because `+Dr(t))).join(" and "):e}function kr(e){const t=new Br,n=new Map;return{SelectionSet(r){const i=function(e,t,n,r,i){const o=[],[a,s]=Fr(e,t,r,i);if(function(e,t,n,r,i){for(const[o,a]of Object.entries(i))if(a.length>1)for(let i=0;i<a.length;i++)for(let s=i+1;s<a.length;s++){const u=Lr(e,n,r,!1,o,a[i],a[s]);u&&t.push(u)}}(e,o,t,n,a),0!==s.length)for(let u=0;u<s.length;u++){Cr(e,o,t,n,!1,a,s[u]);for(let r=u+1;r<s.length;r++)Ur(e,o,t,n,!1,s[u],s[r])}return o}(e,n,t,e.getParentType(),r);for(const[[t,n],o,a]of i){const r=Dr(n);e.reportError(new h(`Fields "${t}" conflict because ${r}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:o.concat(a)}))}}}}function Cr(e,t,n,r,i,o,a){const s=e.getFragment(a);if(!s)return;const[u,c]=jr(e,n,s);if(o!==u){xr(e,t,n,r,i,o,u);for(const s of c)r.has(s,a,i)||(r.add(s,a,i),Cr(e,t,n,r,i,o,s))}}function Ur(e,t,n,r,i,o,a){if(o===a)return;if(r.has(o,a,i))return;r.add(o,a,i);const s=e.getFragment(o),u=e.getFragment(a);if(!s||!u)return;const[c,l]=jr(e,n,s),[p,f]=jr(e,n,u);xr(e,t,n,r,i,c,p);for(const d of f)Ur(e,t,n,r,i,o,d);for(const d of l)Ur(e,t,n,r,i,d,a)}function xr(e,t,n,r,i,o,a){for(const[s,u]of Object.entries(o)){const o=a[s];if(o)for(const a of u)for(const u of o){const o=Lr(e,n,r,i,s,a,u);o&&t.push(o)}}}function Lr(e,t,n,r,i,o,a){const[s,u,c]=o,[l,p,f]=a,d=r||s!==l&&We(s)&&We(l);if(!d){const e=u.name.value,t=p.name.value;if(e!==t)return[[i,`"${e}" and "${t}" are different fields`],[u],[p]];if(Pr(u)!==Pr(p))return[[i,"they have differing arguments"],[u],[p]]}const h=null===c||void 0===c?void 0:c.type,v=null===f||void 0===f?void 0:f.type;if(h&&v&&Mr(h,v))return[[i,`they return conflicting types "${re(h)}" and "${re(v)}"`],[u],[p]];const y=u.selectionSet,g=p.selectionSet;if(y&&g){const r=function(e,t,n,r,i,o,a,s){const u=[],[c,l]=Fr(e,t,i,o),[p,f]=Fr(e,t,a,s);xr(e,u,t,n,r,c,p);for(const d of f)Cr(e,u,t,n,r,c,d);for(const d of l)Cr(e,u,t,n,r,p,d);for(const d of l)for(const i of f)Ur(e,u,t,n,r,d,i);return u}(e,t,n,d,Rt(h),y,Rt(v),g);return function(e,t,n,r){if(e.length>0)return[[t,e.map((([e])=>e))],[n,...e.map((([,e])=>e)).flat()],[r,...e.map((([,,e])=>e)).flat()]]}(r,i,u,p)}}function Pr(e){var t;const n=null!==(t=e.arguments)&&void 0!==t?t:[];return Le(Ar({kind:N.OBJECT,fields:n.map((e=>({kind:N.OBJECT_FIELD,name:e.name,value:e.value})))}))}function Mr(e,t){return ot(e)?!ot(t)||Mr(e.ofType,t.ofType):!!ot(t)||(st(e)?!st(t)||Mr(e.ofType,t.ofType):!!st(t)||!(!dt(e)&&!dt(t))&&e!==t)}function Fr(e,t,n,r){const i=t.get(r);if(i)return i;const o=Object.create(null),a=Object.create(null);Vr(e,n,r,o,a);const s=[o,Object.keys(a)];return t.set(r,s),s}function jr(e,t,n){const r=t.get(n.selectionSet);if(r)return r;const i=er(e.getSchema(),n.typeCondition);return Fr(e,t,i,n.selectionSet)}function Vr(e,t,n,r,i){for(const o of n.selections)switch(o.kind){case N.FIELD:{const e=o.name.value;let n;(We(t)||Xe(t))&&(n=t.getFields()[e]);const i=o.alias?o.alias.value:e;r[i]||(r[i]=[]),r[i].push([t,o,n]);break}case N.FRAGMENT_SPREAD:i[o.name.value]=!0;break;case N.INLINE_FRAGMENT:{const n=o.typeCondition,a=n?er(e.getSchema(),n):t;Vr(e,a,o.selectionSet,r,i);break}}}class Br{constructor(){this._data=new Map}has(e,t,n){var r;const[i,o]=e<t?[e,t]:[t,e],a=null===(r=this._data.get(i))||void 0===r?void 0:r.get(o);return void 0!==a&&(!!n||n===a)}add(e,t,n){const[r,i]=e<t?[e,t]:[t,e],o=this._data.get(r);void 0===o?this._data.set(r,new Map([[i,n]])):o.set(i,n)}}function $r(e){return{InlineFragment(t){const n=e.getType(),r=e.getParentType();if(vt(n)&&vt(r)&&!Jt(e.getSchema(),n,r)){const i=re(r),o=re(n);e.reportError(new h(`Fragment cannot be spread here as objects of type "${i}" can never be of type "${o}".`,{nodes:t}))}},FragmentSpread(t){const n=t.name.value,r=function(e,t){const n=e.getFragment(t);if(n){const t=er(e.getSchema(),n.typeCondition);if(vt(t))return t}}(e,n),i=e.getParentType();if(r&&i&&!Jt(e.getSchema(),r,i)){const o=re(i),a=re(r);e.reportError(new h(`Fragment "${n}" cannot be spread here as objects of type "${o}" can never be of type "${a}".`,{nodes:t}))}}}}function Gr(e){const t=e.getSchema(),n=Object.create(null);for(const i of e.getDocument().definitions)pr(i)&&(n[i.name.value]=i);return{ScalarTypeExtension:r,ObjectTypeExtension:r,InterfaceTypeExtension:r,UnionTypeExtension:r,EnumTypeExtension:r,InputObjectTypeExtension:r};function r(r){const i=r.name.value,o=n[i],a=null===t||void 0===t?void 0:t.getType(i);let s;if(o?s=qr[o.kind]:a&&(s=function(e){if(Ke(e))return N.SCALAR_TYPE_EXTENSION;if(We(e))return N.OBJECT_TYPE_EXTENSION;if(Xe(e))return N.INTERFACE_TYPE_EXTENSION;if(Qe(e))return N.UNION_TYPE_EXTENSION;if(tt(e))return N.ENUM_TYPE_EXTENSION;if(rt(e))return N.INPUT_OBJECT_TYPE_EXTENSION;u(!1,"Unexpected type: "+re(e))}(a)),s){if(s!==r.kind){const t=function(e){switch(e){case N.SCALAR_TYPE_EXTENSION:return"scalar";case N.OBJECT_TYPE_EXTENSION:return"object";case N.INTERFACE_TYPE_EXTENSION:return"interface";case N.UNION_TYPE_EXTENSION:return"union";case N.ENUM_TYPE_EXTENSION:return"enum";case N.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:u(!1,"Unexpected kind: "+re(e))}}(r.kind);e.reportError(new h(`Cannot extend non-${t} type "${i}".`,{nodes:o?[o,r]:r}))}}else{const o=Ie(i,Object.keys({...n,...null===t||void 0===t?void 0:t.getTypeMap()}));e.reportError(new h(`Cannot extend type "${i}" because it is not defined.`+ve(o),{nodes:r.name}))}}}const qr={[N.SCALAR_TYPE_DEFINITION]:N.SCALAR_TYPE_EXTENSION,[N.OBJECT_TYPE_DEFINITION]:N.OBJECT_TYPE_EXTENSION,[N.INTERFACE_TYPE_DEFINITION]:N.INTERFACE_TYPE_EXTENSION,[N.UNION_TYPE_DEFINITION]:N.UNION_TYPE_EXTENSION,[N.ENUM_TYPE_DEFINITION]:N.ENUM_TYPE_EXTENSION,[N.INPUT_OBJECT_TYPE_DEFINITION]:N.INPUT_OBJECT_TYPE_EXTENSION};function Yr(e){return{...Hr(e),Field:{leave(t){var n;const r=e.getFieldDef();if(!r)return!1;const i=new Set(null===(n=t.arguments)||void 0===n?void 0:n.map((e=>e.name.value)));for(const o of r.args)if(!i.has(o.name)&&jt(o)){const n=re(o.type);e.reportError(new h(`Field "${r.name}" argument "${o.name}" of type "${n}" is required, but it was not provided.`,{nodes:t}))}}}}}function Hr(e){var t;const n=Object.create(null),r=e.getSchema(),i=null!==(t=null===r||void 0===r?void 0:r.getDirectives())&&void 0!==t?t:yn;for(const s of i)n[s.name]=ge(s.args.filter(jt),(e=>e.name));const o=e.getDocument().definitions;for(const s of o)if(s.kind===N.DIRECTIVE_DEFINITION){var a;const e=null!==(a=s.arguments)&&void 0!==a?a:[];n[s.name.value]=ge(e.filter(Kr),(e=>e.name.value))}return{Directive:{leave(t){const r=t.name.value,i=n[r];if(i){var o;const n=null!==(o=t.arguments)&&void 0!==o?o:[],a=new Set(n.map((e=>e.name.value)));for(const[o,s]of Object.entries(i))if(!a.has(o)){const n=Ye(s.type)?re(s.type):Le(s.type);e.reportError(new h(`Directive "@${r}" argument "${o}" of type "${n}" is required, but it was not provided.`,{nodes:t}))}}}}}}function Kr(e){return e.type.kind===N.NON_NULL_TYPE&&null==e.defaultValue}function zr(e){return{Field(t){const n=e.getType(),r=t.selectionSet;if(n)if(dt(Rt(n))){if(r){const i=t.name.value,o=re(n);e.reportError(new h(`Field "${i}" must not have a selection since type "${o}" has no subfields.`,{nodes:r}))}}else if(!r){const r=t.name.value,i=re(n);e.reportError(new h(`Field "${r}" of type "${i}" must have a selection of subfields. Did you mean "${r} { ... }"?`,{nodes:t}))}}}}function Wr(e){return e.map((e=>"number"===typeof e?"["+e.toString()+"]":"."+e)).join("")}function Jr(e,t,n){return{prev:e,key:t,typename:n}}function Xr(e){const t=[];let n=e;for(;n;)t.push(n.key),n=n.prev;return t.reverse()}function Zr(e,t,n=Qr){return ei(e,t,n,void 0)}function Qr(e,t,n){let r="Invalid value "+re(t);throw e.length>0&&(r+=` at "value${Wr(e)}"`),n.message=r+": "+n.message,n}function ei(e,t,n,r){if(st(t))return null!=e?ei(e,t.ofType,n,r):void n(Xr(r),e,new h(`Expected non-nullable type "${re(t)}" not to be null.`));if(null==e)return null;if(ot(t)){const i=t.ofType;return mn(e)?Array.from(e,((e,t)=>{const o=Jr(r,t,void 0);return ei(e,i,n,o)})):[ei(e,i,n,r)]}if(rt(t)){if(!s(e))return void n(Xr(r),e,new h(`Expected type "${t.name}" to be an object.`));const i={},o=t.getFields();for(const a of Object.values(o)){const o=e[a.name];if(void 0!==o)i[a.name]=ei(o,a.type,n,Jr(r,a.name,t.name));else if(void 0!==a.defaultValue)i[a.name]=a.defaultValue;else if(st(a.type)){const t=re(a.type);n(Xr(r),e,new h(`Field "${a.name}" of required type "${t}" was not provided.`))}}for(const a of Object.keys(e))if(!o[a]){const i=Ie(a,Object.keys(t.getFields()));n(Xr(r),e,new h(`Field "${a}" is not defined by type "${t.name}".`+ve(i)))}return i}if(dt(t)){let o;try{o=t.parseValue(e)}catch(i){return void n(Xr(r),e,i instanceof h?i:new h(`Expected type "${t.name}". `+i.message,{originalError:i}))}return void 0===o&&n(Xr(r),e,new h(`Expected type "${t.name}".`)),o}u(!1,"Unexpected input type: "+re(t))}function ti(e,t,n){if(e){if(e.kind===N.VARIABLE){const r=e.name.value;if(null==n||void 0===n[r])return;const i=n[r];if(null===i&&st(t))return;return i}if(st(t)){if(e.kind===N.NULL)return;return ti(e,t.ofType,n)}if(e.kind===N.NULL)return null;if(ot(t)){const r=t.ofType;if(e.kind===N.LIST){const t=[];for(const i of e.values)if(ni(i,n)){if(st(r))return;t.push(null)}else{const e=ti(i,r,n);if(void 0===e)return;t.push(e)}return t}const i=ti(e,r,n);if(void 0===i)return;return[i]}if(rt(t)){if(e.kind!==N.OBJECT)return;const r=Object.create(null),i=ge(e.fields,(e=>e.name.value));for(const e of Object.values(t.getFields())){const t=i[e.name];if(!t||ni(t.value,n)){if(void 0!==e.defaultValue)r[e.name]=e.defaultValue;else if(st(e.type))return;continue}const o=ti(t.value,e.type,n);if(void 0===o)return;r[e.name]=o}return r}if(dt(t)){let i;try{i=t.parseLiteral(e,n)}catch(r){return}if(void 0===i)return;return i}u(!1,"Unexpected input type: "+re(t))}}function ni(e,t){return e.kind===N.VARIABLE&&(null==t||void 0===t[e.name.value])}function ri(e,t,n,r){const i=[],o=null===r||void 0===r?void 0:r.maxErrors;try{const r=function(e,t,n,r){const i={};for(const o of t){const t=o.variable.name.value,a=er(e,o.type);if(!ct(a)){const e=Le(o.type);r(new h(`Variable "$${t}" expected value of type "${e}" which cannot be used as an input type.`,{nodes:o.type}));continue}if(!ai(n,t)){if(o.defaultValue)i[t]=ti(o.defaultValue,a);else if(st(a)){const e=re(a);r(new h(`Variable "$${t}" of required type "${e}" was not provided.`,{nodes:o}))}continue}const s=n[t];if(null===s&&st(a)){const e=re(a);r(new h(`Variable "$${t}" of non-null type "${e}" must not be null.`,{nodes:o}))}else i[t]=Zr(s,a,((e,n,i)=>{let a=`Variable "$${t}" got invalid value `+re(n);e.length>0&&(a+=` at "${t}${Wr(e)}"`),r(new h(a+"; "+i.message,{nodes:o,originalError:i.originalError}))}))}return i}(e,t,n,(e=>{if(null!=o&&i.length>=o)throw new h("Too many errors processing variables, error limit reached. Execution aborted.");i.push(e)}));if(0===i.length)return{coerced:r}}catch(a){i.push(a)}return{errors:i}}function ii(e,t,n){var r;const i={},o=ge(null!==(r=t.arguments)&&void 0!==r?r:[],(e=>e.name.value));for(const a of e.args){const e=a.name,r=a.type,s=o[e];if(!s){if(void 0!==a.defaultValue)i[e]=a.defaultValue;else if(st(r))throw new h(`Argument "${e}" of required type "${re(r)}" was not provided.`,{nodes:t});continue}const u=s.value;let c=u.kind===N.NULL;if(u.kind===N.VARIABLE){const t=u.name.value;if(null==n||!ai(n,t)){if(void 0!==a.defaultValue)i[e]=a.defaultValue;else if(st(r))throw new h(`Argument "${e}" of required type "${re(r)}" was provided the variable "$${t}" which was not provided a runtime value.`,{nodes:u});continue}c=null==n[t]}if(c&&st(r))throw new h(`Argument "${e}" of non-null type "${re(r)}" must not be null.`,{nodes:u});const l=ti(u,r,n);if(void 0===l)throw new h(`Argument "${e}" has invalid value ${Le(u)}.`,{nodes:u});i[e]=l}return i}function oi(e,t,n){var r;const i=null===(r=t.directives)||void 0===r?void 0:r.find((t=>t.name.value===e.name));if(i)return ii(e,i,n)}function ai(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function si(e,t,n,r,i){const o=new Map;return ui(e,t,n,r,i,o,new Set),o}function ui(e,t,n,r,i,o,a){for(const u of i.selections)switch(u.kind){case N.FIELD:{if(!ci(n,u))continue;const e=(s=u).alias?s.alias.value:s.name.value,t=o.get(e);void 0!==t?t.push(u):o.set(e,[u]);break}case N.INLINE_FRAGMENT:if(!ci(n,u)||!li(e,u,r))continue;ui(e,t,n,r,u.selectionSet,o,a);break;case N.FRAGMENT_SPREAD:{const i=u.name.value;if(a.has(i)||!ci(n,u))continue;a.add(i);const s=t[i];if(!s||!li(e,s,r))continue;ui(e,t,n,r,s.selectionSet,o,a);break}}var s}function ci(e,t){const n=oi(fn,t,e);if(!0===(null===n||void 0===n?void 0:n.if))return!1;const r=oi(pn,t,e);return!1!==(null===r||void 0===r?void 0:r.if)}function li(e,t,n){const r=t.typeCondition;if(!r)return!0;const i=er(e,r);return i===n||!!gt(i)&&e.isSubType(i,n)}function pi(e){return{OperationDefinition(t){if("subscription"===t.operation){const n=e.getSchema(),r=n.getSubscriptionType();if(r){const i=t.name?t.name.value:null,o=Object.create(null),a=e.getDocument(),s=Object.create(null);for(const e of a.definitions)e.kind===N.FRAGMENT_DEFINITION&&(s[e.name.value]=e);const u=si(n,s,o,r,t.selectionSet);if(u.size>1){const t=[...u.values()].slice(1).flat();e.reportError(new h(null!=i?`Subscription "${i}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:t}))}for(const t of u.values()){t[0].name.value.startsWith("__")&&e.reportError(new h(null!=i?`Subscription "${i}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:t}))}}}}}}function fi(e,t){const n=new Map;for(const r of e){const e=t(r),i=n.get(e);void 0===i?n.set(e,[r]):i.push(r)}return n}function di(e){return{DirectiveDefinition(e){var t;const r=null!==(t=e.arguments)&&void 0!==t?t:[];return n(`@${e.name.value}`,r)},InterfaceTypeDefinition:t,InterfaceTypeExtension:t,ObjectTypeDefinition:t,ObjectTypeExtension:t};function t(e){var t;const r=e.name.value,i=null!==(t=e.fields)&&void 0!==t?t:[];for(const a of i){var o;n(`${r}.${a.name.value}`,null!==(o=a.arguments)&&void 0!==o?o:[])}return!1}function n(t,n){const r=fi(n,(e=>e.name.value));for(const[i,o]of r)o.length>1&&e.reportError(new h(`Argument "${t}(${i}:)" can only be defined once.`,{nodes:o.map((e=>e.name))}));return!1}}function hi(e){return{Field:t,Directive:t};function t(t){var n;const r=fi(null!==(n=t.arguments)&&void 0!==n?n:[],(e=>e.name.value));for(const[i,o]of r)o.length>1&&e.reportError(new h(`There can be only one argument named "${i}".`,{nodes:o.map((e=>e.name))}))}}function vi(e){const t=Object.create(null),n=e.getSchema();return{DirectiveDefinition(r){const i=r.name.value;if(null===n||void 0===n||!n.getDirective(i))return t[i]?e.reportError(new h(`There can be only one directive named "@${i}".`,{nodes:[t[i],r.name]})):t[i]=r.name,!1;e.reportError(new h(`Directive "@${i}" already exists in the schema. It cannot be redefined.`,{nodes:r.name}))}}}function yi(e){const t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():yn;for(const s of r)t[s.name]=!s.isRepeatable;const i=e.getDocument().definitions;for(const s of i)s.kind===N.DIRECTIVE_DEFINITION&&(t[s.name.value]=!s.repeatable);const o=Object.create(null),a=Object.create(null);return{enter(n){if(!("directives"in n)||!n.directives)return;let r;if(n.kind===N.SCHEMA_DEFINITION||n.kind===N.SCHEMA_EXTENSION)r=o;else if(pr(n)||dr(n)){const e=n.name.value;r=a[e],void 0===r&&(a[e]=r=Object.create(null))}else r=Object.create(null);for(const i of n.directives){const n=i.name.value;t[n]&&(r[n]?e.reportError(new h(`The directive "@${n}" can only be used once at this location.`,{nodes:[r[n],i]})):r[n]=i)}}}}function gi(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);return{EnumTypeDefinition:i,EnumTypeExtension:i};function i(t){var i;const o=t.name.value;r[o]||(r[o]=Object.create(null));const a=null!==(i=t.values)&&void 0!==i?i:[],s=r[o];for(const r of a){const t=r.name.value,i=n[o];tt(i)&&i.getValue(t)?e.reportError(new h(`Enum value "${o}.${t}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:r.name})):s[t]?e.reportError(new h(`Enum value "${o}.${t}" can only be defined once.`,{nodes:[s[t],r.name]})):s[t]=r.name}return!1}}function mi(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);return{InputObjectTypeDefinition:i,InputObjectTypeExtension:i,InterfaceTypeDefinition:i,InterfaceTypeExtension:i,ObjectTypeDefinition:i,ObjectTypeExtension:i};function i(t){var i;const o=t.name.value;r[o]||(r[o]=Object.create(null));const a=null!==(i=t.fields)&&void 0!==i?i:[],s=r[o];for(const r of a){const t=r.name.value;_i(n[o],t)?e.reportError(new h(`Field "${o}.${t}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:r.name})):s[t]?e.reportError(new h(`Field "${o}.${t}" can only be defined once.`,{nodes:[s[t],r.name]})):s[t]=r.name}return!1}}function _i(e,t){return!!(We(e)||Xe(e)||rt(e))&&null!=e.getFields()[t]}function Ei(e){const t=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(n){const r=n.name.value;return t[r]?e.reportError(new h(`There can be only one fragment named "${r}".`,{nodes:[t[r],n.name]})):t[r]=n.name,!1}}}function Ti(e){const t=[];let n=Object.create(null);return{ObjectValue:{enter(){t.push(n),n=Object.create(null)},leave(){const e=t.pop();e||u(!1),n=e}},ObjectField(t){const r=t.name.value;n[r]?e.reportError(new h(`There can be only one input field named "${r}".`,{nodes:[n[r],t.name]})):n[r]=t.name}}}function bi(e){const t=Object.create(null);return{OperationDefinition(n){const r=n.name;return r&&(t[r.value]?e.reportError(new h(`There can be only one operation named "${r.value}".`,{nodes:[t[r.value],r]})):t[r.value]=r),!1},FragmentDefinition:()=>!1}}function Ii(e){const t=e.getSchema(),n=Object.create(null),r=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:i,SchemaExtension:i};function i(t){var i;const o=null!==(i=t.operationTypes)&&void 0!==i?i:[];for(const a of o){const t=a.operation,i=n[t];r[t]?e.reportError(new h(`Type for ${t} already defined in the schema. It cannot be redefined.`,{nodes:a})):i?e.reportError(new h(`There can be only one ${t} type in schema.`,{nodes:[i,a]})):n[t]=a}return!1}}function Oi(e){const t=Object.create(null),n=e.getSchema();return{ScalarTypeDefinition:r,ObjectTypeDefinition:r,InterfaceTypeDefinition:r,UnionTypeDefinition:r,EnumTypeDefinition:r,InputObjectTypeDefinition:r};function r(r){const i=r.name.value;if(null===n||void 0===n||!n.getType(i))return t[i]?e.reportError(new h(`There can be only one type named "${i}".`,{nodes:[t[i],r.name]})):t[i]=r.name,!1;e.reportError(new h(`Type "${i}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:r.name}))}}function Si(e){return{OperationDefinition(t){var n;const r=fi(null!==(n=t.variableDefinitions)&&void 0!==n?n:[],(e=>e.variable.name.value));for(const[i,o]of r)o.length>1&&e.reportError(new h(`There can be only one variable named "$${i}".`,{nodes:o.map((e=>e.variable.name))}))}}}function Ni(e){return{ListValue(t){if(!ot(St(e.getParentInputType())))return wi(e,t),!1},ObjectValue(t){const n=Rt(e.getInputType());if(!rt(n))return wi(e,t),!1;const r=ge(t.fields,(e=>e.name.value));for(const i of Object.values(n.getFields())){if(!r[i.name]&&Kt(i)){const r=re(i.type);e.reportError(new h(`Field "${n.name}.${i.name}" of required type "${r}" was not provided.`,{nodes:t}))}}},ObjectField(t){const n=Rt(e.getParentInputType());if(!e.getInputType()&&rt(n)){const r=Ie(t.name.value,Object.keys(n.getFields()));e.reportError(new h(`Field "${t.name.value}" is not defined by type "${n.name}".`+ve(r),{nodes:t}))}},NullValue(t){const n=e.getInputType();st(n)&&e.reportError(new h(`Expected value of type "${re(n)}", found ${Le(t)}.`,{nodes:t}))},EnumValue:t=>wi(e,t),IntValue:t=>wi(e,t),FloatValue:t=>wi(e,t),StringValue:t=>wi(e,t),BooleanValue:t=>wi(e,t)}}function wi(e,t){const n=e.getInputType();if(!n)return;const r=Rt(n);if(dt(r))try{if(void 0===r.parseLiteral(t,void 0)){const r=re(n);e.reportError(new h(`Expected value of type "${r}", found ${Le(t)}.`,{nodes:t}))}}catch(i){const r=re(n);i instanceof h?e.reportError(i):e.reportError(new h(`Expected value of type "${r}", found ${Le(t)}; `+i.message,{nodes:t,originalError:i}))}else{const r=re(n);e.reportError(new h(`Expected value of type "${r}", found ${Le(t)}.`,{nodes:t}))}}function Ri(e){return{VariableDefinition(t){const n=er(e.getSchema(),t.type);if(void 0!==n&&!ct(n)){const n=t.variable.name.value,r=Le(t.type);e.reportError(new h(`Variable "$${n}" cannot be non-input type "${r}".`,{nodes:t.type}))}}}}function Ai(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const r=e.getRecursiveVariableUsages(n);for(const{node:i,type:o,defaultValue:a}of r){const n=i.name.value,r=t[n];if(r&&o){const t=e.getSchema(),s=er(t,r.type);if(s&&!Di(t,s,r.defaultValue,o,a)){const t=re(s),a=re(o);e.reportError(new h(`Variable "$${n}" of type "${t}" used in position expecting type "${a}".`,{nodes:[r,i]}))}}}}},VariableDefinition(e){t[e.variable.name.value]=e}}}function Di(e,t,n,r,i){if(st(r)&&!st(t)){const o=void 0!==i;if(!(null!=n&&n.kind!==N.NULL)&&!o)return!1;return Wt(e,t,r.ofType)}return Wt(e,t,r)}const ki=Object.freeze([hr,bi,Ir,pi,Tr,yr,Ri,zr,vr,Ei,Er,wr,$r,Sr,Si,Nr,Rr,_r,yi,gr,hi,Ni,Yr,Ai,kr,Ti]),Ci=Object.freeze([Or,Ii,Oi,gi,mi,di,vi,Tr,_r,yi,Gr,mr,hi,Ti,Hr]);class Ui{constructor(e,t){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=t}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let t;if(this._fragments)t=this._fragments;else{t=Object.create(null);for(const e of this.getDocument().definitions)e.kind===N.FRAGMENT_DEFINITION&&(t[e.name.value]=e);this._fragments=t}return t[e]}getFragmentSpreads(e){let t=this._fragmentSpreads.get(e);if(!t){t=[];const n=[e];let r;for(;r=n.pop();)for(const e of r.selections)e.kind===N.FRAGMENT_SPREAD?t.push(e):e.selectionSet&&n.push(e.selectionSet);this._fragmentSpreads.set(e,t)}return t}getRecursivelyReferencedFragments(e){let t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];const n=Object.create(null),r=[e.selectionSet];let i;for(;i=r.pop();)for(const e of this.getFragmentSpreads(i)){const i=e.name.value;if(!0!==n[i]){n[i]=!0;const e=this.getFragment(i);e&&(t.push(e),r.push(e.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t}}class xi extends Ui{constructor(e,t,n){super(e,n),this._schema=t}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}class Li extends Ui{constructor(e,t,n,r){super(t,r),this._schema=e,this._typeInfo=n,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(e){let t=this._variableUsages.get(e);if(!t){const n=[],r=new tr(this._schema);ke(e,rr(r,{VariableDefinition:()=>!1,Variable(e){n.push({node:e,type:r.getInputType(),defaultValue:r.getDefaultValue()})}})),t=n,this._variableUsages.set(e,t)}return t}getRecursiveVariableUsages(e){let t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(const n of this.getRecursivelyReferencedFragments(e))t=t.concat(this.getVariableUsages(n));this._recursiveVariableUsages.set(e,t)}return t}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}function Pi(e,t,n=ki,r,i=new tr(e)){var a;const s=null!==(a=null===r||void 0===r?void 0:r.maxErrors)&&void 0!==a?a:100;t||o(!1,"Must provide document."),Vn(e);const u=Object.freeze({}),c=[],l=new Li(e,t,i,(e=>{if(c.length>=s)throw c.push(new h("Too many validation errors, error limit reached. Validation aborted.")),u;c.push(e)})),p=Ce(n.map((e=>e(l))));try{ke(t,rr(i,p))}catch(f){if(f!==u)throw f}return c}function Mi(e,t,n=Ci){const r=[],i=new xi(e,t,(e=>{r.push(e)}));return ke(e,Ce(n.map((e=>e(i))))),r}class Fi extends Error{constructor(e){super("Unexpected error value: "+re(e)),this.name="NonErrorThrown",this.thrownValue=e}}function ji(e,t,n){var r;const i=(o=e)instanceof Error?o:new Fi(o);var o,a;return a=i,Array.isArray(a.path)?i:new h(i.message,{nodes:null!==(r=i.nodes)&&void 0!==r?r:t,source:i.source,positions:i.positions,path:n,originalError:i})}const Vi=function(e){let t;return function(n,r,i){void 0===t&&(t=new WeakMap);let o=t.get(n);void 0===o&&(o=new WeakMap,t.set(n,o));let a=o.get(r);void 0===a&&(a=new WeakMap,o.set(r,a));let s=a.get(i);return void 0===s&&(s=e(n,r,i),a.set(i,s)),s}}(((e,t,n)=>function(e,t,n,r,i){const o=new Map,a=new Set;for(const s of i)s.selectionSet&&ui(e,t,n,r,s.selectionSet,o,a);return o}(e.schema,e.fragments,e.variableValues,t,n)));function Bi(e){arguments.length<2||o(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:t,document:n,variableValues:r,rootValue:i}=e;qi(t,n,r);const s=Yi(e);if(!("schema"in s))return{errors:s};try{const{operation:e}=s,t=Hi(s,e,i);return a(t)?t.then((e=>Gi(e,s.errors)),(e=>(s.errors.push(e),Gi(null,s.errors)))):Gi(t,s.errors)}catch(u){return s.errors.push(u),Gi(null,s.errors)}}function $i(e){const t=Bi(e);if(a(t))throw new Error("GraphQL execution failed to complete synchronously.");return t}function Gi(e,t){return 0===t.length?{data:e}:{errors:t,data:e}}function qi(e,t,n){t||o(!1,"Must provide document."),Vn(e),null==n||s(n)||o(!1,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function Yi(e){var t,n;const{schema:r,document:i,rootValue:o,contextValue:a,variableValues:s,operationName:u,fieldResolver:c,typeResolver:l,subscribeFieldResolver:p}=e;let f;const d=Object.create(null);for(const y of i.definitions)switch(y.kind){case N.OPERATION_DEFINITION:if(null==u){if(void 0!==f)return[new h("Must provide operation name if query contains multiple operations.")];f=y}else(null===(t=y.name)||void 0===t?void 0:t.value)===u&&(f=y);break;case N.FRAGMENT_DEFINITION:d[y.name.value]=y}if(!f)return null!=u?[new h(`Unknown operation named "${u}".`)]:[new h("Must provide an operation.")];const v=ri(r,null!==(n=f.variableDefinitions)&&void 0!==n?n:[],null!==s&&void 0!==s?s:{},{maxErrors:50});return v.errors?v.errors:{schema:r,fragments:d,rootValue:o,contextValue:a,operation:f,variableValues:v.coerced,fieldResolver:null!==c&&void 0!==c?c:no,typeResolver:null!==l&&void 0!==l?l:to,subscribeFieldResolver:null!==p&&void 0!==p?p:no,errors:[]}}function Hi(e,t,n){const r=e.schema.getRootType(t.operation);if(null==r)throw new h(`Schema is not configured to execute ${t.operation} operation.`,{nodes:t});const i=si(e.schema,e.fragments,e.variableValues,r,t.selectionSet),o=void 0;switch(t.operation){case O.QUERY:return Ki(e,r,n,o,i);case O.MUTATION:return function(e,t,n,r,i){return function(e,t,n){let r=n;for(const i of e)r=a(r)?r.then((e=>t(e,i))):t(r,i);return r}(i.entries(),((i,[o,s])=>{const u=Jr(r,o,t.name),c=zi(e,t,n,s,u);return void 0===c?i:a(c)?c.then((e=>(i[o]=e,i))):(i[o]=c,i)}),Object.create(null))}(e,r,n,o,i);case O.SUBSCRIPTION:return Ki(e,r,n,o,i)}}function Ki(e,t,n,r,i){const o=Object.create(null);let s=!1;for(const[c,l]of i.entries()){const i=zi(e,t,n,l,Jr(r,c,t.name));void 0!==i&&(o[c]=i,a(i)&&(s=!0))}return s?(u=o,Promise.all(Object.values(u)).then((e=>{const t=Object.create(null);for(const[n,r]of Object.keys(u).entries())t[r]=e[n];return t}))):o;var u}function zi(e,t,n,r,i){var o;const s=ro(e.schema,t,r[0]);if(!s)return;const u=s.type,c=null!==(o=s.resolve)&&void 0!==o?o:e.fieldResolver,l=Wi(e,s,r,t,i);try{const t=ii(s,r[0],e.variableValues),o=c(n,t,e.contextValue,l);let p;return p=a(o)?o.then((t=>Xi(e,u,r,l,i,t))):Xi(e,u,r,l,i,o),a(p)?p.then(void 0,(t=>Ji(ji(t,r,Xr(i)),u,e))):p}catch(p){return Ji(ji(p,r,Xr(i)),u,e)}}function Wi(e,t,n,r,i){return{fieldName:t.name,fieldNodes:n,returnType:t.type,parentType:r,path:i,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function Ji(e,t,n){if(st(t))throw e;return n.errors.push(e),null}function Xi(e,t,n,r,i,o){if(o instanceof Error)throw o;if(st(t)){const a=Xi(e,t.ofType,n,r,i,o);if(null===a)throw new Error(`Cannot return null for non-nullable field ${r.parentType.name}.${r.fieldName}.`);return a}return null==o?null:ot(t)?function(e,t,n,r,i,o){if(!mn(o))throw new h(`Expected Iterable, but did not find one for field "${r.parentType.name}.${r.fieldName}".`);const s=t.ofType;let u=!1;const c=Array.from(o,((t,o)=>{const c=Jr(i,o,void 0);try{let i;return i=a(t)?t.then((t=>Xi(e,s,n,r,c,t))):Xi(e,s,n,r,c,t),a(i)?(u=!0,i.then(void 0,(t=>Ji(ji(t,n,Xr(c)),s,e)))):i}catch(l){return Ji(ji(l,n,Xr(c)),s,e)}}));return u?Promise.all(c):c}(e,t,n,r,i,o):dt(t)?function(e,t){const n=e.serialize(t);if(null==n)throw new Error(`Expected \`${re(e)}.serialize(${re(t)})\` to return non-nullable value, returned: ${re(n)}`);return n}(t,o):gt(t)?function(e,t,n,r,i,o){var s;const u=null!==(s=t.resolveType)&&void 0!==s?s:e.typeResolver,c=e.contextValue,l=u(o,c,r,t);if(a(l))return l.then((a=>Qi(e,Zi(a,e,t,n,r,o),n,r,i,o)));return Qi(e,Zi(l,e,t,n,r,o),n,r,i,o)}(e,t,n,r,i,o):We(t)?Qi(e,t,n,r,i,o):void u(!1,"Cannot complete value of unexpected output type: "+re(t))}function Zi(e,t,n,r,i,o){if(null==e)throw new h(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${i.parentType.name}.${i.fieldName}". Either the "${n.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,r);if(We(e))throw new h("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if("string"!==typeof e)throw new h(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${i.parentType.name}.${i.fieldName}" with value ${re(o)}, received "${re(e)}".`);const a=t.schema.getType(e);if(null==a)throw new h(`Abstract type "${n.name}" was resolved to a type "${e}" that does not exist inside the schema.`,{nodes:r});if(!We(a))throw new h(`Abstract type "${n.name}" was resolved to a non-object type "${e}".`,{nodes:r});if(!t.schema.isSubType(n,a))throw new h(`Runtime Object type "${a.name}" is not a possible type for "${n.name}".`,{nodes:r});return a}function Qi(e,t,n,r,i,o){const s=Vi(e,t,n);if(t.isTypeOf){const u=t.isTypeOf(o,e.contextValue,r);if(a(u))return u.then((r=>{if(!r)throw eo(t,o,n);return Ki(e,t,o,i,s)}));if(!u)throw eo(t,o,n)}return Ki(e,t,o,i,s)}function eo(e,t,n){return new h(`Expected value of type "${e.name}" but got: ${re(t)}.`,{nodes:n})}const to=function(e,t,n,r){if(s(e)&&"string"===typeof e.__typename)return e.__typename;const i=n.schema.getPossibleTypes(r),o=[];for(let s=0;s<i.length;s++){const r=i[s];if(r.isTypeOf){const i=r.isTypeOf(e,t,n);if(a(i))o[s]=i;else if(i)return r.name}}return o.length?Promise.all(o).then((e=>{for(let t=0;t<e.length;t++)if(e[t])return i[t].name})):void 0},no=function(e,t,n,r){if(s(e)||"function"===typeof e){const i=e[r.fieldName];return"function"===typeof i?e[r.fieldName](t,n,r):i}};function ro(e,t,n){const r=n.name.value;return r===Dn.name&&e.getQueryType()===t?Dn:r===kn.name&&e.getQueryType()===t?kn:r===Cn.name?Cn:t.getFields()[r]}function io(e){return new Promise((t=>t(ao(e))))}function oo(e){const t=ao(e);if(a(t))throw new Error("GraphQL execution failed to complete synchronously.");return t}function ao(e){arguments.length<2||o(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:t,source:n,rootValue:r,contextValue:i,variableValues:a,operationName:s,fieldResolver:u,typeResolver:c}=e,l=jn(t);if(l.length>0)return{errors:l};let p;try{p=ue(n)}catch(m){return{errors:[m]}}const f=Pi(t,p);return f.length>0?{errors:f}:Bi({schema:t,document:p,rootValue:r,contextValue:i,variableValues:a,operationName:s,fieldResolver:u,typeResolver:c})}function so(e){return"function"===typeof(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}function uo(e,t){const n=e[Symbol.asyncIterator]();async function r(e){if(e.done)return e;try{return{value:await t(e.value),done:!1}}catch(r){if("function"===typeof n.return)try{await n.return()}catch(i){}throw r}}return{next:async()=>r(await n.next()),return:async()=>"function"===typeof n.return?r(await n.return()):{value:void 0,done:!0},async throw(e){if("function"===typeof n.throw)return r(await n.throw(e));throw e},[Symbol.asyncIterator](){return this}}}async function co(e){arguments.length<2||o(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const t=await lo(e);if(!so(t))return t;const n=t=>Bi({...e,rootValue:t});return uo(t,n)}async function lo(...e){const t=function(e){const t=e[0];return t&&"document"in t?t:{schema:t,document:e[1],rootValue:e[2],contextValue:e[3],variableValues:e[4],operationName:e[5],subscribeFieldResolver:e[6]}}(e),{schema:n,document:r,variableValues:i}=t;qi(n,r,i);const o=Yi(t);if(!("schema"in o))return{errors:o};try{const e=await async function(e){const{schema:t,fragments:n,operation:r,variableValues:i,rootValue:o}=e,a=t.getSubscriptionType();if(null==a)throw new h("Schema is not configured to execute subscription operation.",{nodes:r});const s=si(t,n,i,a,r.selectionSet),[u,c]=[...s.entries()][0],l=ro(t,a,c[0]);if(!l){const e=c[0].name.value;throw new h(`The subscription field "${e}" is not defined.`,{nodes:c})}const p=Jr(void 0,u,a.name),f=Wi(e,l,c,a,p);try{var d;const t=ii(l,c[0],i),n=e.contextValue,r=null!==(d=l.subscribe)&&void 0!==d?d:e.subscribeFieldResolver,a=await r(o,t,n,f);if(a instanceof Error)throw a;return a}catch(v){throw ji(v,c,Xr(p))}}(o);if(!so(e))throw new Error(`Subscription field must return Async Iterable. Received: ${re(e)}.`);return e}catch(a){if(a instanceof h)return{errors:[a]};throw a}}function po(e){return{Field(t){const n=e.getFieldDef(),r=null===n||void 0===n?void 0:n.deprecationReason;if(n&&null!=r){const i=e.getParentType();null!=i||u(!1),e.reportError(new h(`The field ${i.name}.${n.name} is deprecated. ${r}`,{nodes:t}))}},Argument(t){const n=e.getArgument(),r=null===n||void 0===n?void 0:n.deprecationReason;if(n&&null!=r){const i=e.getDirective();if(null!=i)e.reportError(new h(`Directive "@${i.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:t}));else{const i=e.getParentType(),o=e.getFieldDef();null!=i&&null!=o||u(!1),e.reportError(new h(`Field "${i.name}.${o.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:t}))}}},ObjectField(t){const n=Rt(e.getParentInputType());if(rt(n)){const r=n.getFields()[t.name.value],i=null===r||void 0===r?void 0:r.deprecationReason;null!=i&&e.reportError(new h(`The input field ${n.name}.${r.name} is deprecated. ${i}`,{nodes:t}))}},EnumValue(t){const n=e.getEnumValue(),r=null===n||void 0===n?void 0:n.deprecationReason;if(n&&null!=r){const i=Rt(e.getInputType());null!=i||u(!1),e.reportError(new h(`The enum value "${i.name}.${n.name}" is deprecated. ${r}`,{nodes:t}))}}}}function fo(e){return{Field(t){const n=Rt(e.getType());n&&xn(n)&&e.reportError(new h(`GraphQL introspection has been disabled, but the requested query contained the field "${t.name.value}".`,{nodes:t}))}}}function ho(e){const t={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,...e},n=t.descriptions?"description":"",r=t.specifiedByUrl?"specifiedByURL":"",i=t.directiveIsRepeatable?"isRepeatable":"";function o(e){return t.inputValueDeprecation?e:""}return`\n    query IntrospectionQuery {\n      __schema {\n        ${t.schemaDescription?n:""}\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          ${n}\n          ${i}\n          locations\n          args${o("(includeDeprecated: true)")} {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      ${n}\n      ${r}\n      fields(includeDeprecated: true) {\n        name\n        ${n}\n        args${o("(includeDeprecated: true)")} {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields${o("(includeDeprecated: true)")} {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        ${n}\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      ${n}\n      type { ...TypeRef }\n      defaultValue\n      ${o("isDeprecated")}\n      ${o("deprecationReason")}\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `}function vo(e,t){let n=null;for(const i of e.definitions){var r;if(i.kind===N.OPERATION_DEFINITION)if(null==t){if(n)return null;n=i}else if((null===(r=i.name)||void 0===r?void 0:r.value)===t)return i}return n}function yo(e,t){if("query"===t.operation){const n=e.getQueryType();if(!n)throw new h("Schema does not define the required query root type.",{nodes:t});return n}if("mutation"===t.operation){const n=e.getMutationType();if(!n)throw new h("Schema is not configured for mutations.",{nodes:t});return n}if("subscription"===t.operation){const n=e.getSubscriptionType();if(!n)throw new h("Schema is not configured for subscriptions.",{nodes:t});return n}throw new h("Can only have query, mutation and subscription operations.",{nodes:t})}function go(e,t){const n=$i({schema:e,document:ue(ho({specifiedByUrl:!0,directiveIsRepeatable:!0,schemaDescription:!0,inputValueDeprecation:!0,...t}))});return!n.errors&&n.data||u(!1),n.data}function mo(e,t){s(e)&&s(e.__schema)||o(!1,`Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: ${re(e)}.`);const n=e.__schema,r=me(n.types,(e=>e.name),(e=>function(e){if(null!=e&&null!=e.name&&null!=e.kind)switch(e.kind){case Rn.SCALAR:return new kt({name:(r=e).name,description:r.description,specifiedByURL:r.specifiedByURL});case Rn.OBJECT:return new Ct({name:(n=e).name,description:n.description,interfaces:()=>h(n),fields:()=>v(n)});case Rn.INTERFACE:return new Vt({name:(t=e).name,description:t.description,interfaces:()=>h(t),fields:()=>v(t)});case Rn.UNION:return function(e){if(!e.possibleTypes){const t=re(e);throw new Error(`Introspection result missing possibleTypes: ${t}.`)}return new Bt({name:e.name,description:e.description,types:()=>e.possibleTypes.map(f)})}(e);case Rn.ENUM:return function(e){if(!e.enumValues){const t=re(e);throw new Error(`Introspection result missing enumValues: ${t}.`)}return new Gt({name:e.name,description:e.description,values:me(e.enumValues,(e=>e.name),(e=>({description:e.description,deprecationReason:e.deprecationReason})))})}(e);case Rn.INPUT_OBJECT:return function(e){if(!e.inputFields){const t=re(e);throw new Error(`Introspection result missing inputFields: ${t}.`)}return new Yt({name:e.name,description:e.description,fields:()=>g(e.inputFields)})}(e)}var t;var n;var r;const i=re(e);throw new Error(`Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${i}.`)}(e)));for(const o of[...on,...Un])r[o.name]&&(r[o.name]=o);const i=n.queryType?f(n.queryType):null,a=n.mutationType?f(n.mutationType):null,u=n.subscriptionType?f(n.subscriptionType):null,c=n.directives?n.directives.map((function(e){if(!e.args){const t=re(e);throw new Error(`Introspection result missing directive args: ${t}.`)}if(!e.locations){const t=re(e);throw new Error(`Introspection result missing directive locations: ${t}.`)}return new ln({name:e.name,description:e.description,isRepeatable:e.isRepeatable,locations:e.locations.slice(),args:g(e.args)})})):[];return new Mn({description:n.description,query:i,mutation:a,subscription:u,types:Object.values(r),directives:c,assumeValid:null===t||void 0===t?void 0:t.assumeValid});function l(e){if(e.kind===Rn.LIST){const t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");return new _t(l(t))}if(e.kind===Rn.NON_NULL){const t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");const n=l(t);return new Et(Ot(n))}return p(e)}function p(e){const t=e.name;if(!t)throw new Error(`Unknown type reference: ${re(e)}.`);const n=r[t];if(!n)throw new Error(`Invalid or incomplete schema, unknown type: ${t}. Ensure that a full introspection query is used in order to build a client schema.`);return n}function f(e){return Je(p(e))}function d(e){return Ze(p(e))}function h(e){if(null===e.interfaces&&e.kind===Rn.INTERFACE)return[];if(!e.interfaces){const t=re(e);throw new Error(`Introspection result missing interfaces: ${t}.`)}return e.interfaces.map(d)}function v(e){if(!e.fields)throw new Error(`Introspection result missing fields: ${re(e)}.`);return me(e.fields,(e=>e.name),y)}function y(e){const t=l(e.type);if(!pt(t)){const e=re(t);throw new Error(`Introspection must provide output type for fields, but received: ${e}.`)}if(!e.args){const t=re(e);throw new Error(`Introspection result missing field args: ${t}.`)}return{description:e.description,deprecationReason:e.deprecationReason,type:t,args:g(e.args)}}function g(e){return me(e,(e=>e.name),m)}function m(e){const t=l(e.type);if(!ct(t)){const e=re(t);throw new Error(`Introspection must provide input type for arguments, but received: ${e}.`)}const n=null!=e.defaultValue?ti(ce(e.defaultValue),t):void 0;return{description:e.description,type:t,defaultValue:n,deprecationReason:e.deprecationReason}}}function _o(e,t,n){Pn(e),null!=t&&t.kind===N.DOCUMENT||o(!1,"Must provide valid Document AST."),!0!==(null===n||void 0===n?void 0:n.assumeValid)&&!0!==(null===n||void 0===n?void 0:n.assumeValidSDL)&&function(e,t){const n=Mi(e,t);if(0!==n.length)throw new Error(n.map((e=>e.message)).join("\n\n"))}(t,e);const r=e.toConfig(),i=Eo(r,t,n);return r===i?e:new Mn(i)}function Eo(e,t,n){var r,i,o,a;const s=[],c=Object.create(null),l=[];let p;const f=[];for(const u of t.definitions)if(u.kind===N.SCHEMA_DEFINITION)p=u;else if(u.kind===N.SCHEMA_EXTENSION)f.push(u);else if(pr(u))s.push(u);else if(dr(u)){const e=u.name.value,t=c[e];c[e]=t?t.concat([u]):[u]}else u.kind===N.DIRECTIVE_DEFINITION&&l.push(u);if(0===Object.keys(c).length&&0===s.length&&0===l.length&&0===f.length&&null==p)return e;const d=Object.create(null);for(const u of e.types)d[u.name]=m(u);for(const u of s){var h;const e=u.name.value;d[e]=null!==(h=To[e])&&void 0!==h?h:k(u)}const v={query:e.query&&g(e.query),mutation:e.mutation&&g(e.mutation),subscription:e.subscription&&g(e.subscription),...p&&T([p]),...T(f)};return{description:null===(r=p)||void 0===r||null===(i=r.description)||void 0===i?void 0:i.value,...v,types:Object.values(d),directives:[...e.directives.map((function(e){const t=e.toConfig();return new ln({...t,args:_e(t.args,E)})})),...l.map((function(e){var t;return new ln({name:e.name.value,description:null===(t=e.description)||void 0===t?void 0:t.value,locations:e.locations.map((({value:e})=>e)),isRepeatable:e.repeatable,args:S(e.arguments),astNode:e})}))],extensions:Object.create(null),astNode:null!==(o=p)&&void 0!==o?o:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(f),assumeValid:null!==(a=null===n||void 0===n?void 0:n.assumeValid)&&void 0!==a&&a};function y(e){return ot(e)?new _t(y(e.ofType)):st(e)?new Et(y(e.ofType)):g(e)}function g(e){return d[e.name]}function m(e){return xn(e)||an(e)?e:Ke(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];let i=n.specifiedByURL;for(const a of r){var o;i=null!==(o=Io(a))&&void 0!==o?o:i}return new kt({...n,specifiedByURL:i,extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):We(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];return new Ct({...n,interfaces:()=>[...e.getInterfaces().map(g),...A(r)],fields:()=>({..._e(n.fields,_),...O(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):Xe(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];return new Vt({...n,interfaces:()=>[...e.getInterfaces().map(g),...A(r)],fields:()=>({..._e(n.fields,_),...O(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):Qe(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];return new Bt({...n,types:()=>[...e.getTypes().map(g),...D(r)],extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):tt(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=c[e.name])&&void 0!==t?t:[];return new Gt({...n,values:{...n.values,...R(r)},extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):rt(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];return new Yt({...n,fields:()=>({..._e(n.fields,(e=>({...e,type:y(e.type)}))),...w(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):void u(!1,"Unexpected type: "+re(e))}function _(e){return{...e,type:y(e.type),args:e.args&&_e(e.args,E)}}function E(e){return{...e,type:y(e.type)}}function T(e){const t={};for(const r of e){var n;const e=null!==(n=r.operationTypes)&&void 0!==n?n:[];for(const n of e)t[n.operation]=b(n.type)}return t}function b(e){var t;const n=e.name.value,r=null!==(t=To[n])&&void 0!==t?t:d[n];if(void 0===r)throw new Error(`Unknown type: "${n}".`);return r}function I(e){return e.kind===N.LIST_TYPE?new _t(I(e.type)):e.kind===N.NON_NULL_TYPE?new Et(I(e.type)):b(e)}function O(e){const t=Object.create(null);for(const i of e){var n;const e=null!==(n=i.fields)&&void 0!==n?n:[];for(const n of e){var r;t[n.name.value]={type:I(n.type),description:null===(r=n.description)||void 0===r?void 0:r.value,args:S(n.arguments),deprecationReason:bo(n),astNode:n}}}return t}function S(e){const t=null!==e&&void 0!==e?e:[],n=Object.create(null);for(const i of t){var r;const e=I(i.type);n[i.name.value]={type:e,description:null===(r=i.description)||void 0===r?void 0:r.value,defaultValue:ti(i.defaultValue,e),deprecationReason:bo(i),astNode:i}}return n}function w(e){const t=Object.create(null);for(const i of e){var n;const e=null!==(n=i.fields)&&void 0!==n?n:[];for(const n of e){var r;const e=I(n.type);t[n.name.value]={type:e,description:null===(r=n.description)||void 0===r?void 0:r.value,defaultValue:ti(n.defaultValue,e),deprecationReason:bo(n),astNode:n}}}return t}function R(e){const t=Object.create(null);for(const i of e){var n;const e=null!==(n=i.values)&&void 0!==n?n:[];for(const n of e){var r;t[n.name.value]={description:null===(r=n.description)||void 0===r?void 0:r.value,deprecationReason:bo(n),astNode:n}}}return t}function A(e){return e.flatMap((e=>{var t,n;return null!==(t=null===(n=e.interfaces)||void 0===n?void 0:n.map(b))&&void 0!==t?t:[]}))}function D(e){return e.flatMap((e=>{var t,n;return null!==(t=null===(n=e.types)||void 0===n?void 0:n.map(b))&&void 0!==t?t:[]}))}function k(e){var t;const n=e.name.value,r=null!==(t=c[n])&&void 0!==t?t:[];switch(e.kind){case N.OBJECT_TYPE_DEFINITION:{var i;const t=[e,...r];return new Ct({name:n,description:null===(i=e.description)||void 0===i?void 0:i.value,interfaces:()=>A(t),fields:()=>O(t),astNode:e,extensionASTNodes:r})}case N.INTERFACE_TYPE_DEFINITION:{var o;const t=[e,...r];return new Vt({name:n,description:null===(o=e.description)||void 0===o?void 0:o.value,interfaces:()=>A(t),fields:()=>O(t),astNode:e,extensionASTNodes:r})}case N.ENUM_TYPE_DEFINITION:{var a;const t=[e,...r];return new Gt({name:n,description:null===(a=e.description)||void 0===a?void 0:a.value,values:R(t),astNode:e,extensionASTNodes:r})}case N.UNION_TYPE_DEFINITION:{var s;const t=[e,...r];return new Bt({name:n,description:null===(s=e.description)||void 0===s?void 0:s.value,types:()=>D(t),astNode:e,extensionASTNodes:r})}case N.SCALAR_TYPE_DEFINITION:var u;return new kt({name:n,description:null===(u=e.description)||void 0===u?void 0:u.value,specifiedByURL:Io(e),astNode:e,extensionASTNodes:r});case N.INPUT_OBJECT_TYPE_DEFINITION:{var l;const t=[e,...r];return new Yt({name:n,description:null===(l=e.description)||void 0===l?void 0:l.value,fields:()=>w(t),astNode:e,extensionASTNodes:r})}}}}const To=ge([...on,...Un],(e=>e.name));function bo(e){const t=oi(hn,e);return null===t||void 0===t?void 0:t.reason}function Io(e){const t=oi(vn,e);return null===t||void 0===t?void 0:t.url}function Oo(e,t){null!=e&&e.kind===N.DOCUMENT||o(!1,"Must provide valid Document AST."),!0!==(null===t||void 0===t?void 0:t.assumeValid)&&!0!==(null===t||void 0===t?void 0:t.assumeValidSDL)&&function(e){const t=Mi(e);if(0!==t.length)throw new Error(t.map((e=>e.message)).join("\n\n"))}(e);const n=Eo({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},e,t);if(null==n.astNode)for(const i of n.types)switch(i.name){case"Query":n.query=i;break;case"Mutation":n.mutation=i;break;case"Subscription":n.subscription=i}const r=[...n.directives,...yn.filter((e=>n.directives.every((t=>t.name!==e.name))))];return new Mn({...n,directives:r})}function So(e,t){return Oo(ue(e,{noLocation:null===t||void 0===t?void 0:t.noLocation,allowLegacyFragmentVariables:null===t||void 0===t?void 0:t.allowLegacyFragmentVariables}),{assumeValidSDL:null===t||void 0===t?void 0:t.assumeValidSDL,assumeValid:null===t||void 0===t?void 0:t.assumeValid})}function No(e){const t=e.toConfig(),n=me(Ro(t.types),(e=>e.name),(function(e){if(Ke(e)||xn(e))return e;if(We(e)){const t=e.toConfig();return new Ct({...t,interfaces:()=>c(t.interfaces),fields:()=>s(t.fields)})}if(Xe(e)){const t=e.toConfig();return new Vt({...t,interfaces:()=>c(t.interfaces),fields:()=>s(t.fields)})}if(Qe(e)){const t=e.toConfig();return new Bt({...t,types:()=>c(t.types)})}if(tt(e)){const t=e.toConfig();return new Gt({...t,values:wo(t.values,(e=>e))})}if(rt(e)){const t=e.toConfig();return new Yt({...t,fields:()=>wo(t.fields,(e=>({...e,type:r(e.type)})))})}u(!1,"Unexpected type: "+re(e))}));return new Mn({...t,types:Object.values(n),directives:Ro(t.directives).map((function(e){const t=e.toConfig();return new ln({...t,locations:Ao(t.locations,(e=>e)),args:a(t.args)})})),query:o(t.query),mutation:o(t.mutation),subscription:o(t.subscription)});function r(e){return ot(e)?new _t(r(e.ofType)):st(e)?new Et(r(e.ofType)):i(e)}function i(e){return n[e.name]}function o(e){return e&&i(e)}function a(e){return wo(e,(e=>({...e,type:r(e.type)})))}function s(e){return wo(e,(e=>({...e,type:r(e.type),args:e.args&&a(e.args)})))}function c(e){return Ro(e).map(i)}}function wo(e,t){const n=Object.create(null);for(const r of Object.keys(e).sort(Ee))n[r]=t(e[r]);return n}function Ro(e){return Ao(e,(e=>e.name))}function Ao(e,t){return e.slice().sort(((e,n)=>Ee(t(e),t(n))))}function Do(e){return Uo(e,(e=>!gn(e)),Co)}function ko(e){return Uo(e,gn,xn)}function Co(e){return!an(e)&&!xn(e)}function Uo(e,t,n){const r=e.getDirectives().filter(t),i=Object.values(e.getTypeMap()).filter(n);return[xo(e),...r.map((e=>function(e){return $o(e)+"directive @"+e.name+jo(e.args)+(e.isRepeatable?" repeatable":"")+" on "+e.locations.join(" | ")}(e))),...i.map((e=>Lo(e)))].filter(Boolean).join("\n\n")}function xo(e){if(null==e.description&&function(e){const t=e.getQueryType();if(t&&"Query"!==t.name)return!1;const n=e.getMutationType();if(n&&"Mutation"!==n.name)return!1;const r=e.getSubscriptionType();if(r&&"Subscription"!==r.name)return!1;return!0}(e))return;const t=[],n=e.getQueryType();n&&t.push(`  query: ${n.name}`);const r=e.getMutationType();r&&t.push(`  mutation: ${r.name}`);const i=e.getSubscriptionType();return i&&t.push(`  subscription: ${i.name}`),$o(e)+`schema {\n${t.join("\n")}\n}`}function Lo(e){return Ke(e)?function(e){return $o(e)+`scalar ${e.name}`+function(e){if(null==e.specifiedByURL)return"";return` @specifiedBy(url: ${Le({kind:N.STRING,value:e.specifiedByURL})})`}(e)}(e):We(e)?function(e){return $o(e)+`type ${e.name}`+Po(e)+Mo(e)}(e):Xe(e)?function(e){return $o(e)+`interface ${e.name}`+Po(e)+Mo(e)}(e):Qe(e)?function(e){const t=e.getTypes(),n=t.length?" = "+t.join(" | "):"";return $o(e)+"union "+e.name+n}(e):tt(e)?function(e){const t=e.getValues().map(((e,t)=>$o(e,"  ",!t)+"  "+e.name+Bo(e.deprecationReason)));return $o(e)+`enum ${e.name}`+Fo(t)}(e):rt(e)?function(e){const t=Object.values(e.getFields()).map(((e,t)=>$o(e,"  ",!t)+"  "+Vo(e)));return $o(e)+`input ${e.name}`+Fo(t)}(e):void u(!1,"Unexpected type: "+re(e))}function Po(e){const t=e.getInterfaces();return t.length?" implements "+t.map((e=>e.name)).join(" & "):""}function Mo(e){return Fo(Object.values(e.getFields()).map(((e,t)=>$o(e,"  ",!t)+"  "+e.name+jo(e.args,"  ")+": "+String(e.type)+Bo(e.deprecationReason))))}function Fo(e){return 0!==e.length?" {\n"+e.join("\n")+"\n}":""}function jo(e,t=""){return 0===e.length?"":e.every((e=>!e.description))?"("+e.map(Vo).join(", ")+")":"(\n"+e.map(((e,n)=>$o(e,"  "+t,!n)+"  "+t+Vo(e))).join("\n")+"\n"+t+")"}function Vo(e){const t=_n(e.defaultValue,e.type);let n=e.name+": "+String(e.type);return t&&(n+=` = ${Le(t)}`),n+Bo(e.deprecationReason)}function Bo(e){if(null==e)return"";if(e!==dn){return` @deprecated(reason: ${Le({kind:N.STRING,value:e})})`}return" @deprecated"}function $o(e,t="",n=!0){const{description:r}=e;if(null==r)return"";return(t&&!n?"\n"+t:t)+Le({kind:N.STRING,value:r,block:L(r)}).replace(/\n/g,"\n"+t)+"\n"}function Go(e){const t=[];for(const n of e)t.push(...n.definitions);return{kind:N.DOCUMENT,definitions:t}}function qo(e){const t=[],n=Object.create(null);for(const i of e.definitions)switch(i.kind){case N.OPERATION_DEFINITION:t.push(i);break;case N.FRAGMENT_DEFINITION:n[i.name.value]=Ho(i.selectionSet)}const r=Object.create(null);for(const i of t){const t=new Set;for(const e of Ho(i.selectionSet))Yo(t,n,e);r[i.name?i.name.value:""]={kind:N.DOCUMENT,definitions:e.definitions.filter((e=>e===i||e.kind===N.FRAGMENT_DEFINITION&&t.has(e.name.value)))}}return r}function Yo(e,t,n){if(!e.has(n)){e.add(n);const r=t[n];if(void 0!==r)for(const n of r)Yo(e,t,n)}}function Ho(e){const t=[];return ke(e,{FragmentSpread(e){t.push(e.name.value)}}),t}function Ko(e){const t=se(e)?e:new ae(e),n=t.body,r=new M(t);let i="",o=!1;for(;r.advance().kind!==w.EOF;){const e=r.token,t=e.kind,a=!F(e.kind);o&&(a||e.kind===w.SPREAD)&&(i+=" ");const s=n.slice(e.start,e.end);t===w.BLOCK_STRING?i+=P(e.value,{minimize:!0}):i+=s,o=a}return i}function zo(e){const t=Wo(e);if(t)throw t;return e}function Wo(e){if("string"===typeof e||o(!1,"Expected name to be a string."),e.startsWith("__"))return new h(`Name "${e}" must not begin with "__", which is reserved by GraphQL introspection.`);try{Ge(e)}catch(t){return t}}var Jo,Xo;function Zo(e,t){return ea(e,t).filter((e=>e.type in Jo))}function Qo(e,t){return ea(e,t).filter((e=>e.type in Xo))}function ea(e,t){return[...na(e,t),...ta(e,t)]}function ta(e,t){const n=[],r=da(e.getDirectives(),t.getDirectives());for(const i of r.removed)n.push({type:Jo.DIRECTIVE_REMOVED,description:`${i.name} was removed.`});for(const[i,o]of r.persisted){const e=da(i.args,o.args);for(const t of e.added)jt(t)&&n.push({type:Jo.REQUIRED_DIRECTIVE_ARG_ADDED,description:`A required arg ${t.name} on directive ${i.name} was added.`});for(const t of e.removed)n.push({type:Jo.DIRECTIVE_ARG_REMOVED,description:`${t.name} was removed from ${i.name}.`});i.isRepeatable&&!o.isRepeatable&&n.push({type:Jo.DIRECTIVE_REPEATABLE_REMOVED,description:`Repeatable flag was removed from ${i.name}.`});for(const t of i.locations)o.locations.includes(t)||n.push({type:Jo.DIRECTIVE_LOCATION_REMOVED,description:`${t} was removed from ${i.name}.`})}return n}function na(e,t){const n=[],r=da(Object.values(e.getTypeMap()),Object.values(t.getTypeMap()));for(const i of r.removed)n.push({type:Jo.TYPE_REMOVED,description:an(i)?`Standard scalar ${i.name} was removed because it is not referenced anymore.`:`${i.name} was removed.`});for(const[i,o]of r.persisted)tt(i)&&tt(o)?n.push(...oa(i,o)):Qe(i)&&Qe(o)?n.push(...ia(i,o)):rt(i)&&rt(o)?n.push(...ra(i,o)):We(i)&&We(o)||Xe(i)&&Xe(o)?n.push(...sa(i,o),...aa(i,o)):i.constructor!==o.constructor&&n.push({type:Jo.TYPE_CHANGED_KIND,description:`${i.name} changed from ${pa(i)} to ${pa(o)}.`});return n}function ra(e,t){const n=[],r=da(Object.values(e.getFields()),Object.values(t.getFields()));for(const i of r.added)Kt(i)?n.push({type:Jo.REQUIRED_INPUT_FIELD_ADDED,description:`A required field ${i.name} on input type ${e.name} was added.`}):n.push({type:Xo.OPTIONAL_INPUT_FIELD_ADDED,description:`An optional field ${i.name} on input type ${e.name} was added.`});for(const i of r.removed)n.push({type:Jo.FIELD_REMOVED,description:`${e.name}.${i.name} was removed.`});for(const[i,o]of r.persisted){la(i.type,o.type)||n.push({type:Jo.FIELD_CHANGED_KIND,description:`${e.name}.${i.name} changed type from ${String(i.type)} to ${String(o.type)}.`})}return n}function ia(e,t){const n=[],r=da(e.getTypes(),t.getTypes());for(const i of r.added)n.push({type:Xo.TYPE_ADDED_TO_UNION,description:`${i.name} was added to union type ${e.name}.`});for(const i of r.removed)n.push({type:Jo.TYPE_REMOVED_FROM_UNION,description:`${i.name} was removed from union type ${e.name}.`});return n}function oa(e,t){const n=[],r=da(e.getValues(),t.getValues());for(const i of r.added)n.push({type:Xo.VALUE_ADDED_TO_ENUM,description:`${i.name} was added to enum type ${e.name}.`});for(const i of r.removed)n.push({type:Jo.VALUE_REMOVED_FROM_ENUM,description:`${i.name} was removed from enum type ${e.name}.`});return n}function aa(e,t){const n=[],r=da(e.getInterfaces(),t.getInterfaces());for(const i of r.added)n.push({type:Xo.IMPLEMENTED_INTERFACE_ADDED,description:`${i.name} added to interfaces implemented by ${e.name}.`});for(const i of r.removed)n.push({type:Jo.IMPLEMENTED_INTERFACE_REMOVED,description:`${e.name} no longer implements interface ${i.name}.`});return n}function sa(e,t){const n=[],r=da(Object.values(e.getFields()),Object.values(t.getFields()));for(const i of r.removed)n.push({type:Jo.FIELD_REMOVED,description:`${e.name}.${i.name} was removed.`});for(const[i,o]of r.persisted){n.push(...ua(e,i,o));ca(i.type,o.type)||n.push({type:Jo.FIELD_CHANGED_KIND,description:`${e.name}.${i.name} changed type from ${String(i.type)} to ${String(o.type)}.`})}return n}function ua(e,t,n){const r=[],i=da(t.args,n.args);for(const o of i.removed)r.push({type:Jo.ARG_REMOVED,description:`${e.name}.${t.name} arg ${o.name} was removed.`});for(const[o,a]of i.persisted){if(la(o.type,a.type)){if(void 0!==o.defaultValue)if(void 0===a.defaultValue)r.push({type:Xo.ARG_DEFAULT_VALUE_CHANGE,description:`${e.name}.${t.name} arg ${o.name} defaultValue was removed.`});else{const n=fa(o.defaultValue,o.type),i=fa(a.defaultValue,a.type);n!==i&&r.push({type:Xo.ARG_DEFAULT_VALUE_CHANGE,description:`${e.name}.${t.name} arg ${o.name} has changed defaultValue from ${n} to ${i}.`})}}else r.push({type:Jo.ARG_CHANGED_KIND,description:`${e.name}.${t.name} arg ${o.name} has changed type from ${String(o.type)} to ${String(a.type)}.`})}for(const o of i.added)jt(o)?r.push({type:Jo.REQUIRED_ARG_ADDED,description:`A required arg ${o.name} on ${e.name}.${t.name} was added.`}):r.push({type:Xo.OPTIONAL_ARG_ADDED,description:`An optional arg ${o.name} on ${e.name}.${t.name} was added.`});return r}function ca(e,t){return ot(e)?ot(t)&&ca(e.ofType,t.ofType)||st(t)&&ca(e,t.ofType):st(e)?st(t)&&ca(e.ofType,t.ofType):Nt(t)&&e.name===t.name||st(t)&&ca(e,t.ofType)}function la(e,t){return ot(e)?ot(t)&&la(e.ofType,t.ofType):st(e)?st(t)&&la(e.ofType,t.ofType)||!st(t)&&la(e.ofType,t):Nt(t)&&e.name===t.name}function pa(e){return Ke(e)?"a Scalar type":We(e)?"an Object type":Xe(e)?"an Interface type":Qe(e)?"a Union type":tt(e)?"an Enum type":rt(e)?"an Input type":void u(!1,"Unexpected type: "+re(e))}function fa(e,t){const n=_n(e,t);return null!=n||u(!1),Le(Ar(n))}function da(e,t){const n=[],r=[],i=[],o=ge(e,(({name:e})=>e)),a=ge(t,(({name:e})=>e));for(const s of e){const e=a[s.name];void 0===e?r.push(s):i.push([s,e])}for(const s of t)void 0===o[s.name]&&n.push(s);return{added:n,persisted:i,removed:r}}!function(e){e.TYPE_REMOVED="TYPE_REMOVED",e.TYPE_CHANGED_KIND="TYPE_CHANGED_KIND",e.TYPE_REMOVED_FROM_UNION="TYPE_REMOVED_FROM_UNION",e.VALUE_REMOVED_FROM_ENUM="VALUE_REMOVED_FROM_ENUM",e.REQUIRED_INPUT_FIELD_ADDED="REQUIRED_INPUT_FIELD_ADDED",e.IMPLEMENTED_INTERFACE_REMOVED="IMPLEMENTED_INTERFACE_REMOVED",e.FIELD_REMOVED="FIELD_REMOVED",e.FIELD_CHANGED_KIND="FIELD_CHANGED_KIND",e.REQUIRED_ARG_ADDED="REQUIRED_ARG_ADDED",e.ARG_REMOVED="ARG_REMOVED",e.ARG_CHANGED_KIND="ARG_CHANGED_KIND",e.DIRECTIVE_REMOVED="DIRECTIVE_REMOVED",e.DIRECTIVE_ARG_REMOVED="DIRECTIVE_ARG_REMOVED",e.REQUIRED_DIRECTIVE_ARG_ADDED="REQUIRED_DIRECTIVE_ARG_ADDED",e.DIRECTIVE_REPEATABLE_REMOVED="DIRECTIVE_REPEATABLE_REMOVED",e.DIRECTIVE_LOCATION_REMOVED="DIRECTIVE_LOCATION_REMOVED"}(Jo||(Jo={})),function(e){e.VALUE_ADDED_TO_ENUM="VALUE_ADDED_TO_ENUM",e.TYPE_ADDED_TO_UNION="TYPE_ADDED_TO_UNION",e.OPTIONAL_INPUT_FIELD_ADDED="OPTIONAL_INPUT_FIELD_ADDED",e.OPTIONAL_ARG_ADDED="OPTIONAL_ARG_ADDED",e.IMPLEMENTED_INTERFACE_ADDED="IMPLEMENTED_INTERFACE_ADDED",e.ARG_DEFAULT_VALUE_CHANGE="ARG_DEFAULT_VALUE_CHANGE"}(Xo||(Xo={}))},63641:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},34727:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},75815:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},84737:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function i(e){return r(e)}function o(e,t){return!t||"object"!==((n=t)&&n.constructor===Symbol?"symbol":typeof n)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o(this,n)}}n.d(t,{Z:function(){return a}})},67573:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},55577:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,{Z:function(){return i}})},62893:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},14251:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(67573);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){(0,r.Z)(e,t,n[t])}))}return e}},52875:function(e,t,n){"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.d(t,{Z:function(){return r}})},80969:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(62893);var i=n(12267);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||(0,r.Z)(e,t)||(0,i.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},69779:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(63641);var i=n(62893);var o=n(12267);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},12267:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(63641);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(49708),t(6840),t(90387)}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=_app-54883781e9c396b1.js.map